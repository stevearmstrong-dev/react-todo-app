var ob=Object.defineProperty;var ab=(n,e,t)=>e in n?ob(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var be=(n,e,t)=>ab(n,typeof e!="symbol"?e+"":e,t);function lb(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Dd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cb(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var ju={exports:{}},Ki={},Nu={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function ub(){if(Yp)return je;Yp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(R,W,Q){this.props=R,this.context=W,this.refs=S,this.updater=Q||b}x.prototype.isReactComponent={},x.prototype.setState=function(R,W){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,W,"setState")},x.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=x.prototype;function N(R,W,Q){this.props=R,this.context=W,this.refs=S,this.updater=Q||b}var j=N.prototype=new E;j.constructor=N,_(j,x.prototype),j.isPureReactComponent=!0;var O=Array.isArray,P=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function $(R,W,Q){var ge,ue={},Te=null,ye=null;if(W!=null)for(ge in W.ref!==void 0&&(ye=W.ref),W.key!==void 0&&(Te=""+W.key),W)P.call(W,ge)&&!D.hasOwnProperty(ge)&&(ue[ge]=W[ge]);var Ce=arguments.length-2;if(Ce===1)ue.children=Q;else if(1<Ce){for(var Ee=Array(Ce),ze=0;ze<Ce;ze++)Ee[ze]=arguments[ze+2];ue.children=Ee}if(R&&R.defaultProps)for(ge in Ce=R.defaultProps,Ce)ue[ge]===void 0&&(ue[ge]=Ce[ge]);return{$$typeof:n,type:R,key:Te,ref:ye,props:ue,_owner:I.current}}function L(R,W){return{$$typeof:n,type:R.type,key:W,ref:R.ref,props:R.props,_owner:R._owner}}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function F(R){var W={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return W[Q]})}var V=/\/+/g;function ne(R,W){return typeof R=="object"&&R!==null&&R.key!=null?F(""+R.key):W.toString(36)}function le(R,W,Q,ge,ue){var Te=typeof R;(Te==="undefined"||Te==="boolean")&&(R=null);var ye=!1;if(R===null)ye=!0;else switch(Te){case"string":case"number":ye=!0;break;case"object":switch(R.$$typeof){case n:case e:ye=!0}}if(ye)return ye=R,ue=ue(ye),R=ge===""?"."+ne(ye,0):ge,O(ue)?(Q="",R!=null&&(Q=R.replace(V,"$&/")+"/"),le(ue,W,Q,"",function(ze){return ze})):ue!=null&&(B(ue)&&(ue=L(ue,Q+(!ue.key||ye&&ye.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+R)),W.push(ue)),1;if(ye=0,ge=ge===""?".":ge+":",O(R))for(var Ce=0;Ce<R.length;Ce++){Te=R[Ce];var Ee=ge+ne(Te,Ce);ye+=le(Te,W,Q,Ee,ue)}else if(Ee=v(R),typeof Ee=="function")for(R=Ee.call(R),Ce=0;!(Te=R.next()).done;)Te=Te.value,Ee=ge+ne(Te,Ce++),ye+=le(Te,W,Q,Ee,ue);else if(Te==="object")throw W=String(R),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ye}function ae(R,W,Q){if(R==null)return R;var ge=[],ue=0;return le(R,ge,"","",function(Te){return W.call(Q,Te,ue++)}),ge}function he(R){if(R._status===-1){var W=R._result;W=W(),W.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=W)}if(R._status===1)return R._result.default;throw R._result}var oe={current:null},G={transition:null},Z={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:G,ReactCurrentOwner:I};return je.Children={map:ae,forEach:function(R,W,Q){ae(R,function(){W.apply(this,arguments)},Q)},count:function(R){var W=0;return ae(R,function(){W++}),W},toArray:function(R){return ae(R,function(W){return W})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},je.Component=x,je.Fragment=t,je.Profiler=i,je.PureComponent=N,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,je.cloneElement=function(R,W,Q){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ge=_({},R.props),ue=R.key,Te=R.ref,ye=R._owner;if(W!=null){if(W.ref!==void 0&&(Te=W.ref,ye=I.current),W.key!==void 0&&(ue=""+W.key),R.type&&R.type.defaultProps)var Ce=R.type.defaultProps;for(Ee in W)P.call(W,Ee)&&!D.hasOwnProperty(Ee)&&(ge[Ee]=W[Ee]===void 0&&Ce!==void 0?Ce[Ee]:W[Ee])}var Ee=arguments.length-2;if(Ee===1)ge.children=Q;else if(1<Ee){Ce=Array(Ee);for(var ze=0;ze<Ee;ze++)Ce[ze]=arguments[ze+2];ge.children=Ce}return{$$typeof:n,type:R.type,key:ue,ref:Te,props:ge,_owner:ye}},je.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},je.createElement=$,je.createFactory=function(R){var W=$.bind(null,R);return W.type=R,W},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:c,render:R}},je.isValidElement=B,je.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:he}},je.memo=function(R,W){return{$$typeof:h,type:R,compare:W===void 0?null:W}},je.startTransition=function(R){var W=G.transition;G.transition={};try{R()}finally{G.transition=W}},je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},je.useCallback=function(R,W){return oe.current.useCallback(R,W)},je.useContext=function(R){return oe.current.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R){return oe.current.useDeferredValue(R)},je.useEffect=function(R,W){return oe.current.useEffect(R,W)},je.useId=function(){return oe.current.useId()},je.useImperativeHandle=function(R,W,Q){return oe.current.useImperativeHandle(R,W,Q)},je.useInsertionEffect=function(R,W){return oe.current.useInsertionEffect(R,W)},je.useLayoutEffect=function(R,W){return oe.current.useLayoutEffect(R,W)},je.useMemo=function(R,W){return oe.current.useMemo(R,W)},je.useReducer=function(R,W,Q){return oe.current.useReducer(R,W,Q)},je.useRef=function(R){return oe.current.useRef(R)},je.useState=function(R){return oe.current.useState(R)},je.useSyncExternalStore=function(R,W,Q){return oe.current.useSyncExternalStore(R,W,Q)},je.useTransition=function(){return oe.current.useTransition()},je.version="18.0.0-fc46dba67-20220329",je}var Gp;function Pd(){return Gp||(Gp=1,Nu.exports=ub()),Nu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function db(){if(Jp)return Ki;Jp=1;var n=Pd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,y={},v=null,b=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(y[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)y[p]===void 0&&(y[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:b,props:y,_owner:i.current}}return Ki.Fragment=t,Ki.jsx=l,Ki.jsxs=l,Ki}var Xp;function hb(){return Xp||(Xp=1,ju.exports=db()),ju.exports}var g=hb(),T=Pd();const Ye=Dd(T);var Wa={},Ou={exports:{}},Wt={},Ru={exports:{}},Du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function fb(){return Qp||(Qp=1,(function(n){function e(G,Z){var R=G.length;G.push(Z);e:for(;0<R;){var W=R-1>>>1,Q=G[W];if(0<i(Q,Z))G[W]=Z,G[R]=Q,R=W;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Z=G[0],R=G.pop();if(R!==Z){G[0]=R;e:for(var W=0,Q=G.length,ge=Q>>>1;W<ge;){var ue=2*(W+1)-1,Te=G[ue],ye=ue+1,Ce=G[ye];if(0>i(Te,R))ye<Q&&0>i(Ce,Te)?(G[W]=Ce,G[ye]=R,W=ye):(G[W]=Te,G[ue]=R,W=ue);else if(ye<Q&&0>i(Ce,R))G[W]=Ce,G[ye]=R,W=ye;else break e}}return Z}function i(G,Z){var R=G.sortIndex-Z.sortIndex;return R!==0?R:G.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,y=null,v=3,b=!1,_=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var Z=t(h);Z!==null;){if(Z.callback===null)r(h);else if(Z.startTime<=G)r(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(h)}}function O(G){if(S=!1,j(G),!_)if(t(d)!==null)_=!0,he(P);else{var Z=t(h);Z!==null&&oe(O,Z.startTime-G)}}function P(G,Z){_=!1,S&&(S=!1,E($),$=-1),b=!0;var R=v;try{for(j(Z),y=t(d);y!==null&&(!(y.expirationTime>Z)||G&&!F());){var W=y.callback;if(typeof W=="function"){y.callback=null,v=y.priorityLevel;var Q=W(y.expirationTime<=Z);Z=n.unstable_now(),typeof Q=="function"?y.callback=Q:y===t(d)&&r(d),j(Z)}else r(d);y=t(d)}if(y!==null)var ge=!0;else{var ue=t(h);ue!==null&&oe(O,ue.startTime-Z),ge=!1}return ge}finally{y=null,v=R,b=!1}}var I=!1,D=null,$=-1,L=5,B=-1;function F(){return!(n.unstable_now()-B<L)}function V(){if(D!==null){var G=n.unstable_now();B=G;var Z=!0;try{Z=D(!0,G)}finally{Z?ne():(I=!1,D=null)}}else I=!1}var ne;if(typeof N=="function")ne=function(){N(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ae=le.port2;le.port1.onmessage=V,ne=function(){ae.postMessage(null)}}else ne=function(){x(V,0)};function he(G){D=G,I||(I=!0,ne())}function oe(G,Z){$=x(function(){G(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,he(P))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var R=v;v=Z;try{return G()}finally{v=R}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var R=v;v=G;try{return Z()}finally{v=R}},n.unstable_scheduleCallback=function(G,Z,R){var W=n.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,G){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=R+Q,G={id:p++,callback:Z,priorityLevel:G,startTime:R,expirationTime:Q,sortIndex:-1},R>W?(G.sortIndex=R,e(h,G),t(d)===null&&G===t(h)&&(S?(E($),$=-1):S=!0,oe(O,R-W))):(G.sortIndex=Q,e(d,G),_||b||(_=!0,he(P))),G},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(G){var Z=v;return function(){var R=v;v=Z;try{return G.apply(this,arguments)}finally{v=R}}}})(Du)),Du}var Zp;function pb(){return Zp||(Zp=1,Ru.exports=fb()),Ru.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function gb(){if(eg)return Wt;eg=1;var n=Pd(),e=pb();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function v(s){return d.call(y,s)?!0:d.call(p,s)?!1:h.test(s)?y[s]=!0:(p[s]=!0,!1)}function b(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function _(s,o,u,f){if(o===null||typeof o>"u"||b(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,u,f,m,w,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=k}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){x[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];x[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){x[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){x[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){x[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){x[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){x[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){x[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){x[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,N);x[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,N);x[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,N);x[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){x[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),x.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){x[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function j(s,o,u,f){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(_(o,u,m,f)&&(u=null),f||m===null?v(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),I=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),G=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,W;function Q(s){if(W===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);W=o&&o[1]||""}return`
`+W+s}var ge=!1;function ue(s,o){if(!s||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var f=H}Reflect.construct(s,[],o)}else{try{o.call()}catch(H){f=H}s.call(o.prototype)}else{try{throw Error()}catch(H){f=H}s()}}catch(H){if(H&&f&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),w=f.stack.split(`
`),k=m.length-1,C=w.length-1;1<=k&&0<=C&&m[k]!==w[C];)C--;for(;1<=k&&0<=C;k--,C--)if(m[k]!==w[C]){if(k!==1||C!==1)do if(k--,C--,0>C||m[k]!==w[C]){var A=`
`+m[k].replace(" at new "," at ");return s.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",s.displayName)),A}while(1<=k&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Q(s):""}function Te(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=ue(s.type,!1),s;case 11:return s=ue(s.type.render,!1),s;case 1:return s=ue(s.type,!0),s;default:return""}}function ye(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case I:return"Portal";case L:return"Profiler";case $:return"StrictMode";case ne:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case B:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ae:return o=s.displayName||null,o!==null?o:ye(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return ye(s(o))}catch{}}return null}function Ce(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(o);case 8:return o===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(s){var o=ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,w=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(k){f=""+k,w.call(this,k)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function nn(s){s._valueTracker||(s._valueTracker=De(s))}function At(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=ze(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function Mt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function yt(s,o){var u=o.checked;return R({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function q(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Ee(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ee(s,o){o=o.checked,o!=null&&j(s,"checked",o,!1)}function _e(s,o){ee(s,o);var u=Ee(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Se(s,o.type,u):o.hasOwnProperty("defaultValue")&&Se(s,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function re(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Se(s,o,u){(o!=="number"||Mt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var fe=Array.isArray;function Me(s,o,u,f){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ee(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function pt(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return R({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Yt(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(fe(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ee(u)}}function Rn(s,o){var u=Ee(o.value),f=Ee(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function lr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function zr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dn(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?zr(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var vn,cr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(vn=vn||document.createElement("div"),vn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=vn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ur(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Po=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(s){Po.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),It[o]=It[s]})});function Ao(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||It.hasOwnProperty(s)&&It[s]?(""+o).trim():o+"px"}function Mo(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Ao(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var li=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ps(s,o){if(o){if(li[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ci(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function ui(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var di=null,dr=null,Ge=null;function vt(s){if(s=Ri(s)){if(typeof di!="function")throw Error(t(280));var o=s.stateNode;o&&(o=ta(o),di(s.stateNode,s.type,o))}}function wt(s){dr?Ge?Ge.push(s):Ge=[s]:dr=s}function wn(){if(dr){var s=dr,o=Ge;if(Ge=dr=null,vt(s),o)for(s=0;s<o.length;s++)vt(o[s])}}function Nt(s,o){return s(o)}function bt(){}var Lt=!1;function Vn(s,o,u){if(Lt)return s(o,u);Lt=!0;try{return Nt(s,o,u)}finally{Lt=!1,(dr!==null||Ge!==null)&&(bt(),wn())}}function Je(s,o){var u=s.stateNode;if(u===null)return null;var f=ta(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var rn=!1;if(c)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){rn=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{rn=!1}function bn(s,o,u,f,m,w,k,C,A){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(K){this.onError(K)}}var _n=!1,Pn=null,Gt=!1,qn=null,hi={onError:function(s){_n=!0,Pn=s}};function p0(s,o,u,f,m,w,k,C,A){_n=!1,Pn=null,bn.apply(hi,arguments)}function g0(s,o,u,f,m,w,k,C,A){if(p0.apply(this,arguments),_n){if(_n){var H=Pn;_n=!1,Pn=null}else throw Error(t(198));Gt||(Gt=!0,qn=H)}}function Br(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function vh(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function wh(s){if(Br(s)!==s)throw Error(t(188))}function m0(s){var o=s.alternate;if(!o){if(o=Br(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,f=o;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return wh(m),s;if(w===f)return wh(m),o;w=w.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=w;else{for(var k=!1,C=m.child;C;){if(C===u){k=!0,u=m,f=w;break}if(C===f){k=!0,f=m,u=w;break}C=C.sibling}if(!k){for(C=w.child;C;){if(C===u){k=!0,u=w,f=m;break}if(C===f){k=!0,f=w,u=m;break}C=C.sibling}if(!k)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function bh(s){return s=m0(s),s!==null?_h(s):null}function _h(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=_h(s);if(o!==null)return o;s=s.sibling}return null}var xh=e.unstable_scheduleCallback,Sh=e.unstable_cancelCallback,y0=e.unstable_shouldYield,v0=e.unstable_requestPaint,et=e.unstable_now,w0=e.unstable_getCurrentPriorityLevel,Zl=e.unstable_ImmediatePriority,kh=e.unstable_UserBlockingPriority,Io=e.unstable_NormalPriority,b0=e.unstable_LowPriority,Eh=e.unstable_IdlePriority,Lo=null,An=null;function _0(s){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Lo,s,void 0,(s.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:k0,x0=Math.log,S0=Math.LN2;function k0(s){return s>>>=0,s===0?32:31-(x0(s)/S0|0)|0}var $o=64,Fo=4194304;function fi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zo(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,w=s.pingedLanes,k=u&268435455;if(k!==0){var C=k&~m;C!==0?f=fi(C):(w&=k,w!==0&&(f=fi(w)))}else k=u&~m,k!==0?f=fi(k):w!==0&&(f=fi(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,w=o&-o,m>=w||m===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-xn(o),m=1<<u,f|=s[u],o&=~m;return f}function E0(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T0(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,w=s.pendingLanes;0<w;){var k=31-xn(w),C=1<<k,A=m[k];A===-1?((C&u)===0||(C&f)!==0)&&(m[k]=E0(C,o)):A<=o&&(s.expiredLanes|=C),w&=~C}}function ec(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function tc(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function pi(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-xn(o),s[o]=u}function C0(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-xn(u),w=1<<m;o[m]=0,f[m]=-1,s[m]=-1,u&=~w}}function nc(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-xn(u),m=1<<f;m&o|s[f]&o&&(s[f]|=o),u&=~m}}var Ie=0;function Th(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ch,rc,jh,Nh,Oh,sc=!1,Bo=[],hr=null,fr=null,pr=null,gi=new Map,mi=new Map,gr=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(s,o){switch(s){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(o.pointerId)}}function yi(s,o,u,f,m,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[m]},o!==null&&(o=Ri(o),o!==null&&rc(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function N0(s,o,u,f,m){switch(o){case"focusin":return hr=yi(hr,s,o,u,f,m),!0;case"dragenter":return fr=yi(fr,s,o,u,f,m),!0;case"mouseover":return pr=yi(pr,s,o,u,f,m),!0;case"pointerover":var w=m.pointerId;return gi.set(w,yi(gi.get(w)||null,s,o,u,f,m)),!0;case"gotpointercapture":return w=m.pointerId,mi.set(w,yi(mi.get(w)||null,s,o,u,f,m)),!0}return!1}function Dh(s){var o=Ur(s.target);if(o!==null){var u=Br(o);if(u!==null){if(o=u.tag,o===13){if(o=vh(u),o!==null){s.blockedOn=o,Oh(s.priority,function(){jh(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Uo(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=oc(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);gs=f,u.target.dispatchEvent(f),gs=null}else return o=Ri(u),o!==null&&rc(o),s.blockedOn=u,!1;o.shift()}return!0}function Ph(s,o,u){Uo(s)&&u.delete(o)}function O0(){sc=!1,hr!==null&&Uo(hr)&&(hr=null),fr!==null&&Uo(fr)&&(fr=null),pr!==null&&Uo(pr)&&(pr=null),gi.forEach(Ph),mi.forEach(Ph)}function vi(s,o){s.blockedOn===o&&(s.blockedOn=null,sc||(sc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,O0)))}function wi(s){function o(m){return vi(m,s)}if(0<Bo.length){vi(Bo[0],s);for(var u=1;u<Bo.length;u++){var f=Bo[u];f.blockedOn===s&&(f.blockedOn=null)}}for(hr!==null&&vi(hr,s),fr!==null&&vi(fr,s),pr!==null&&vi(pr,s),gi.forEach(o),mi.forEach(o),u=0;u<gr.length;u++)f=gr[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<gr.length&&(u=gr[0],u.blockedOn===null);)Dh(u),u.blockedOn===null&&gr.shift()}var ms=O.ReactCurrentBatchConfig;function R0(s,o,u,f){var m=Ie,w=ms.transition;ms.transition=null;try{Ie=1,ic(s,o,u,f)}finally{Ie=m,ms.transition=w}}function D0(s,o,u,f){var m=Ie,w=ms.transition;ms.transition=null;try{Ie=4,ic(s,o,u,f)}finally{Ie=m,ms.transition=w}}function ic(s,o,u,f){var m=oc(s,o,u,f);if(m===null)Sc(s,o,f,Ho,u),Rh(s,f);else if(N0(m,s,o,u,f))f.stopPropagation();else if(Rh(s,f),o&4&&-1<j0.indexOf(s)){for(;m!==null;){var w=Ri(m);if(w!==null&&Ch(w),w=oc(s,o,u,f),w===null&&Sc(s,o,f,Ho,u),w===m)break;m=w}m!==null&&f.stopPropagation()}else Sc(s,o,f,null,u)}var Ho=null;function oc(s,o,u,f){if(Ho=null,s=ui(f),s=Ur(s),s!==null)if(o=Br(s),o===null)s=null;else if(u=o.tag,u===13){if(s=vh(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ho=s,null}function Ah(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w0()){case Zl:return 1;case kh:return 4;case Io:case b0:return 16;case Eh:return 536870912;default:return 16}default:return 16}}var mr=null,ac=null,Wo=null;function Mh(){if(Wo)return Wo;var s,o=ac,u=o.length,f,m="value"in mr?mr.value:mr.textContent,w=m.length;for(s=0;s<u&&o[s]===m[s];s++);var k=u-s;for(f=1;f<=k&&o[u-f]===m[w-f];f++);return Wo=m.slice(s,1<f?1-f:void 0)}function Vo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function qo(){return!0}function Ih(){return!1}function Jt(s){function o(u,f,m,w,k){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=w,this.target=k,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(u=s[C],this[C]=u?u(w):w[C]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?qo:Ih,this.isPropagationStopped=Ih,this}return R(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),o}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Jt(ys),bi=R({},ys,{view:0,detail:0}),P0=Jt(bi),cc,uc,_i,Ko=R({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_i&&(_i&&s.type==="mousemove"?(cc=s.screenX-_i.screenX,uc=s.screenY-_i.screenY):uc=cc=0,_i=s),cc)},movementY:function(s){return"movementY"in s?s.movementY:uc}}),Lh=Jt(Ko),A0=R({},Ko,{dataTransfer:0}),M0=Jt(A0),I0=R({},bi,{relatedTarget:0}),dc=Jt(I0),L0=R({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),$0=Jt(L0),F0=R({},ys,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),z0=Jt(F0),B0=R({},ys,{data:0}),$h=Jt(B0),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=W0[s])?!!o[s]:!1}function hc(){return V0}var q0=R({},bi,{key:function(s){if(s.key){var o=U0[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Vo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?H0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(s){return s.type==="keypress"?Vo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),K0=Jt(q0),Y0=R({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Jt(Y0),G0=R({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),J0=Jt(G0),X0=R({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=Jt(X0),Z0=R({},Ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ew=Jt(Z0),tw=[9,13,27,32],fc=c&&"CompositionEvent"in window,xi=null;c&&"documentMode"in document&&(xi=document.documentMode);var nw=c&&"TextEvent"in window&&!xi,zh=c&&(!fc||xi&&8<xi&&11>=xi),Bh=" ",Uh=!1;function Hh(s,o){switch(s){case"keyup":return tw.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wh(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vs=!1;function rw(s,o){switch(s){case"compositionend":return Wh(o);case"keypress":return o.which!==32?null:(Uh=!0,Bh);case"textInput":return s=o.data,s===Bh&&Uh?null:s;default:return null}}function sw(s,o){if(vs)return s==="compositionend"||!fc&&Hh(s,o)?(s=Mh(),Wo=ac=mr=null,vs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zh&&o.locale!=="ko"?null:o.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!iw[s.type]:o==="textarea"}function qh(s,o,u,f){wt(f),o=Qo(o,"onChange"),0<o.length&&(u=new lc("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var Si=null,ki=null;function ow(s){df(s,0)}function Yo(s){var o=Ss(s);if(At(o))return s}function aw(s,o){if(s==="change")return o}var Kh=!1;if(c){var pc;if(c){var gc="oninput"in document;if(!gc){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),gc=typeof Yh.oninput=="function"}pc=gc}else pc=!1;Kh=pc&&(!document.documentMode||9<document.documentMode)}function Gh(){Si&&(Si.detachEvent("onpropertychange",Jh),ki=Si=null)}function Jh(s){if(s.propertyName==="value"&&Yo(ki)){var o=[];qh(o,ki,s,ui(s)),Vn(ow,o)}}function lw(s,o,u){s==="focusin"?(Gh(),Si=o,ki=u,Si.attachEvent("onpropertychange",Jh)):s==="focusout"&&Gh()}function cw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yo(ki)}function uw(s,o){if(s==="click")return Yo(o)}function dw(s,o){if(s==="input"||s==="change")return Yo(o)}function hw(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Mn=typeof Object.is=="function"?Object.is:hw;function Ei(s,o){if(Mn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Mn(s[m],o[m]))return!1}return!0}function Xh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qh(s,o){var u=Xh(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Xh(u)}}function Zh(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Zh(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ef(){for(var s=window,o=Mt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Mt(s.document)}return o}function mc(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function fw(s){var o=ef(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Zh(u.ownerDocument.documentElement,u)){if(f!==null&&mc(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,w=Math.min(f.start,m);f=f.end===void 0?w:Math.min(f.end,m),!s.extend&&w>f&&(m=f,f=w,w=m),m=Qh(u,w);var k=Qh(u,f);m&&k&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var pw=c&&"documentMode"in document&&11>=document.documentMode,ws=null,yc=null,Ti=null,vc=!1;function tf(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vc||ws==null||ws!==Mt(f)||(f=ws,"selectionStart"in f&&mc(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ti&&Ei(Ti,f)||(Ti=f,f=Qo(yc,"onSelect"),0<f.length&&(o=new lc("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=ws)))}function Go(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var bs={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},wc={},nf={};c&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Jo(s){if(wc[s])return wc[s];if(!bs[s])return s;var o=bs[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in nf)return wc[s]=o[u];return s}var rf=Jo("animationend"),sf=Jo("animationiteration"),of=Jo("animationstart"),af=Jo("transitionend"),lf=new Map,cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(s,o){lf.set(s,o),a(o,[s])}for(var bc=0;bc<cf.length;bc++){var _c=cf[bc],gw=_c.toLowerCase(),mw=_c[0].toUpperCase()+_c.slice(1);yr(gw,"on"+mw)}yr(rf,"onAnimationEnd"),yr(sf,"onAnimationIteration"),yr(of,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(af,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function uf(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,g0(f,o,void 0,s),s.currentTarget=null}function df(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var k=f.length-1;0<=k;k--){var C=f[k],A=C.instance,H=C.currentTarget;if(C=C.listener,A!==w&&m.isPropagationStopped())break e;uf(m,C,H),w=A}else for(k=0;k<f.length;k++){if(C=f[k],A=C.instance,H=C.currentTarget,C=C.listener,A!==w&&m.isPropagationStopped())break e;uf(m,C,H),w=A}}}if(Gt)throw s=qn,Gt=!1,qn=null,s}function He(s,o){var u=o[jc];u===void 0&&(u=o[jc]=new Set);var f=s+"__bubble";u.has(f)||(hf(o,s,2,!1),u.add(f))}function xc(s,o,u){var f=0;o&&(f|=4),hf(u,s,f,o)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function ji(s){if(!s[Xo]){s[Xo]=!0,r.forEach(function(u){u!=="selectionchange"&&(yw.has(u)||xc(u,!1,s),xc(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Xo]||(o[Xo]=!0,xc("selectionchange",!1,o))}}function hf(s,o,u,f){switch(Ah(o)){case 1:var m=R0;break;case 4:m=D0;break;default:m=ic}u=m.bind(null,o,u,s),m=void 0,!rn||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function Sc(s,o,u,f,m){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var C=f.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(k===4)for(k=f.return;k!==null;){var A=k.tag;if((A===3||A===4)&&(A=k.stateNode.containerInfo,A===m||A.nodeType===8&&A.parentNode===m))return;k=k.return}for(;C!==null;){if(k=Ur(C),k===null)return;if(A=k.tag,A===5||A===6){f=w=k;continue e}C=C.parentNode}}f=f.return}Vn(function(){var H=w,K=ui(u),ce=[];e:{var J=lf.get(s);if(J!==void 0){var se=lc,X=s;switch(s){case"keypress":if(Vo(u)===0)break e;case"keydown":case"keyup":se=K0;break;case"focusin":X="focus",se=dc;break;case"focusout":X="blur",se=dc;break;case"beforeblur":case"afterblur":se=dc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=M0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=J0;break;case rf:case sf:case of:se=$0;break;case af:se=Q0;break;case"scroll":se=P0;break;case"wheel":se=ew;break;case"copy":case"cut":case"paste":se=z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Fh}var ke=(o&4)!==0,Ve=!ke&&s==="scroll",z=ke?J!==null?J+"Capture":null:J;ke=[];for(var M=H,U;M!==null;){U=M;var Y=U.stateNode;if(U.tag===5&&Y!==null&&(U=Y,z!==null&&(Y=Je(M,z),Y!=null&&ke.push(Ni(M,Y,U)))),Ve)break;M=M.return}0<ke.length&&(J=new se(J,X,null,u,K),ce.push({event:J,listeners:ke}))}}if((o&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",se=s==="mouseout"||s==="pointerout",J&&u!==gs&&(X=u.relatedTarget||u.fromElement)&&(Ur(X)||X[Yn]))break e;if((se||J)&&(J=K.window===K?K:(J=K.ownerDocument)?J.defaultView||J.parentWindow:window,se?(X=u.relatedTarget||u.toElement,se=H,X=X?Ur(X):null,X!==null&&(Ve=Br(X),X!==Ve||X.tag!==5&&X.tag!==6)&&(X=null)):(se=null,X=H),se!==X)){if(ke=Lh,Y="onMouseLeave",z="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(ke=Fh,Y="onPointerLeave",z="onPointerEnter",M="pointer"),Ve=se==null?J:Ss(se),U=X==null?J:Ss(X),J=new ke(Y,M+"leave",se,u,K),J.target=Ve,J.relatedTarget=U,Y=null,Ur(K)===H&&(ke=new ke(z,M+"enter",X,u,K),ke.target=U,ke.relatedTarget=Ve,Y=ke),Ve=Y,se&&X)t:{for(ke=se,z=X,M=0,U=ke;U;U=_s(U))M++;for(U=0,Y=z;Y;Y=_s(Y))U++;for(;0<M-U;)ke=_s(ke),M--;for(;0<U-M;)z=_s(z),U--;for(;M--;){if(ke===z||z!==null&&ke===z.alternate)break t;ke=_s(ke),z=_s(z)}ke=null}else ke=null;se!==null&&ff(ce,J,se,ke,!1),X!==null&&Ve!==null&&ff(ce,Ve,X,ke,!0)}}e:{if(J=H?Ss(H):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var ie=aw;else if(Vh(J))if(Kh)ie=dw;else{ie=cw;var pe=lw}else(se=J.nodeName)&&se.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ie=uw);if(ie&&(ie=ie(s,H))){qh(ce,ie,u,K);break e}pe&&pe(s,J,H),s==="focusout"&&(pe=J._wrapperState)&&pe.controlled&&J.type==="number"&&Se(J,"number",J.value)}switch(pe=H?Ss(H):window,s){case"focusin":(Vh(pe)||pe.contentEditable==="true")&&(ws=pe,yc=H,Ti=null);break;case"focusout":Ti=yc=ws=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,tf(ce,u,K);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":tf(ce,u,K)}var ve;if(fc)e:{switch(s){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else vs?Hh(s,u)&&(we="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(we="onCompositionStart");we&&(zh&&u.locale!=="ko"&&(vs||we!=="onCompositionStart"?we==="onCompositionEnd"&&vs&&(ve=Mh()):(mr=K,ac="value"in mr?mr.value:mr.textContent,vs=!0)),pe=Qo(H,we),0<pe.length&&(we=new $h(we,s,null,u,K),ce.push({event:we,listeners:pe}),ve?we.data=ve:(ve=Wh(u),ve!==null&&(we.data=ve)))),(ve=nw?rw(s,u):sw(s,u))&&(H=Qo(H,"onBeforeInput"),0<H.length&&(K=new $h("onBeforeInput","beforeinput",null,u,K),ce.push({event:K,listeners:H}),K.data=ve))}df(ce,o)})}function Ni(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Qo(s,o){for(var u=o+"Capture",f=[];s!==null;){var m=s,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Je(s,u),w!=null&&f.unshift(Ni(s,w,m)),w=Je(s,o),w!=null&&f.push(Ni(s,w,m))),s=s.return}return f}function _s(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function ff(s,o,u,f,m){for(var w=o._reactName,k=[];u!==null&&u!==f;){var C=u,A=C.alternate,H=C.stateNode;if(A!==null&&A===f)break;C.tag===5&&H!==null&&(C=H,m?(A=Je(u,w),A!=null&&k.unshift(Ni(u,A,C))):m||(A=Je(u,w),A!=null&&k.push(Ni(u,A,C)))),u=u.return}k.length!==0&&s.push({event:o,listeners:k})}var vw=/\r\n?/g,ww=/\u0000|\uFFFD/g;function pf(s){return(typeof s=="string"?s:""+s).replace(vw,`
`).replace(ww,"")}function Zo(s,o,u){if(o=pf(o),pf(s)!==o&&u)throw Error(t(425))}function ea(){}var kc=null;function Ec(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Tc=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(s){return gf.resolve(null).then(s).catch(xw)}:Tc;function xw(s){setTimeout(function(){throw s})}function Cc(s,o){var u=o,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),wi(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);wi(o)}function Kn(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function mf(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var xs=Math.random().toString(36).slice(2),In="__reactFiber$"+xs,Oi="__reactProps$"+xs,Yn="__reactContainer$"+xs,jc="__reactEvents$"+xs,Sw="__reactListeners$"+xs,kw="__reactHandles$"+xs;function Ur(s){var o=s[In];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Yn]||u[In]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=mf(s);s!==null;){if(u=s[In])return u;s=mf(s)}return o}s=u,u=s.parentNode}return null}function Ri(s){return s=s[In]||s[Yn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ss(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ta(s){return s[Oi]||null}var Nc=[],ks=-1;function vr(s){return{current:s}}function We(s){0>ks||(s.current=Nc[ks],Nc[ks]=null,ks--)}function Be(s,o){ks++,Nc[ks]=s.current,s.current=o}var wr={},xt=vr(wr),$t=vr(!1),Hr=wr;function Es(s,o){var u=s.type.contextTypes;if(!u)return wr;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in u)m[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function Ft(s){return s=s.childContextTypes,s!=null}function na(){We($t),We(xt)}function yf(s,o,u){if(xt.current!==wr)throw Error(t(168));Be(xt,o),Be($t,u)}function vf(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(t(108,Ce(s)||"Unknown",m));return R({},u,f)}function ra(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||wr,Hr=xt.current,Be(xt,s),Be($t,$t.current),!0}function wf(s,o,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=vf(s,o,Hr),f.__reactInternalMemoizedMergedChildContext=s,We($t),We(xt),Be(xt,s)):We($t),Be($t,u)}var Gn=null,sa=!1,Oc=!1;function bf(s){Gn===null?Gn=[s]:Gn.push(s)}function Ew(s){sa=!0,bf(s)}function br(){if(!Oc&&Gn!==null){Oc=!0;var s=0,o=Ie;try{var u=Gn;for(Ie=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Gn=null,sa=!1}catch(m){throw Gn!==null&&(Gn=Gn.slice(s+1)),xh(Zl,br),m}finally{Ie=o,Oc=!1}}return null}var Tw=O.ReactCurrentBatchConfig;function Sn(s,o){if(s&&s.defaultProps){o=R({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}var ia=vr(null),oa=null,Ts=null,Rc=null;function Dc(){Rc=Ts=oa=null}function Pc(s){var o=ia.current;We(ia),s._currentValue=o}function Ac(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Cs(s,o){oa=s,Rc=Ts=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Qt=!0),s.firstContext=null)}function sn(s){var o=s._currentValue;if(Rc!==s)if(s={context:s,memoizedValue:o,next:null},Ts===null){if(oa===null)throw Error(t(308));Ts=s,oa.dependencies={lanes:0,firstContext:s}}else Ts=Ts.next=s;return o}var Ln=null,_r=!1;function Mc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Jn(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function xr(s,o){var u=s.updateQueue;u!==null&&(u=u.shared,nt!==null&&(s.mode&1)!==0&&(Ne&2)===0?(s=u.interleaved,s===null?(o.next=o,Ln===null?Ln=[u]:Ln.push(u)):(o.next=s.next,s.next=o),u.interleaved=o):(s=u.pending,s===null?o.next=o:(o.next=s.next,s.next=o),u.pending=o))}function aa(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,nc(s,u)}}function xf(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?m=w=k:w=w.next=k,u=u.next}while(u!==null);w===null?m=w=o:w=w.next=o}else m=w=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function la(s,o,u,f){var m=s.updateQueue;_r=!1;var w=m.firstBaseUpdate,k=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var A=C,H=A.next;A.next=null,k===null?w=H:k.next=H,k=A;var K=s.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==k&&(C===null?K.firstBaseUpdate=H:C.next=H,K.lastBaseUpdate=A))}if(w!==null){var ce=m.baseState;k=0,K=H=A=null,C=w;do{var J=C.lane,se=C.eventTime;if((f&J)===J){K!==null&&(K=K.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var X=s,ke=C;switch(J=o,se=u,ke.tag){case 1:if(X=ke.payload,typeof X=="function"){ce=X.call(se,ce,J);break e}ce=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ke.payload,J=typeof X=="function"?X.call(se,ce,J):X,J==null)break e;ce=R({},ce,J);break e;case 2:_r=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,J=m.effects,J===null?m.effects=[C]:J.push(C))}else se={eventTime:se,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(H=K=se,A=ce):K=K.next=se,k|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;J=C,C=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(K===null&&(A=ce),m.baseState=A,m.firstBaseUpdate=H,m.lastBaseUpdate=K,o=m.shared.interleaved,o!==null){m=o;do k|=m.lane,m=m.next;while(m!==o)}else w===null&&(m.shared.lanes=0);Ms|=k,s.lanes=k,s.memoizedState=ce}}function Sf(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var kf=new n.Component().refs;function Ic(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:R({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var ca={isMounted:function(s){return(s=s._reactInternals)?Br(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=Rt(),m=Er(s),w=Jn(f,m);w.payload=o,u!=null&&(w.callback=u),xr(s,w),o=un(s,m,f),o!==null&&aa(o,s,m)},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=Rt(),m=Er(s),w=Jn(f,m);w.tag=1,w.payload=o,u!=null&&(w.callback=u),xr(s,w),o=un(s,m,f),o!==null&&aa(o,s,m)},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=Rt(),f=Er(s),m=Jn(u,f);m.tag=2,o!=null&&(m.callback=o),xr(s,m),o=un(s,f,u),o!==null&&aa(o,s,f)}};function Ef(s,o,u,f,m,w,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,k):o.prototype&&o.prototype.isPureReactComponent?!Ei(u,f)||!Ei(m,w):!0}function Tf(s,o,u){var f=!1,m=wr,w=o.contextType;return typeof w=="object"&&w!==null?w=sn(w):(m=Ft(o)?Hr:xt.current,f=o.contextTypes,w=(f=f!=null)?Es(s,m):wr),o=new o(u,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ca,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=w),o}function Cf(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&ca.enqueueReplaceState(o,o.state,null)}function Lc(s,o,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs=kf,Mc(s);var w=o.contextType;typeof w=="object"&&w!==null?m.context=sn(w):(w=Ft(o)?Hr:xt.current,m.context=Es(s,w)),m.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Ic(s,o,w,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&ca.enqueueReplaceState(m,m.state,null),la(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}var js=[],Ns=0,ua=null,da=0,on=[],an=0,Wr=null,Xn=1,Qn="";function Vr(s,o){js[Ns++]=da,js[Ns++]=ua,ua=s,da=o}function jf(s,o,u){on[an++]=Xn,on[an++]=Qn,on[an++]=Wr,Wr=s;var f=Xn;s=Qn;var m=32-xn(f)-1;f&=~(1<<m),u+=1;var w=32-xn(o)+m;if(30<w){var k=m-m%5;w=(f&(1<<k)-1).toString(32),f>>=k,m-=k,Xn=1<<32-xn(o)+m|u<<m|f,Qn=w+s}else Xn=1<<w|u<<m|f,Qn=s}function $c(s){s.return!==null&&(Vr(s,1),jf(s,1,0))}function Fc(s){for(;s===ua;)ua=js[--Ns],js[Ns]=null,da=js[--Ns],js[Ns]=null;for(;s===Wr;)Wr=on[--an],on[an]=null,Qn=on[--an],on[an]=null,Xn=on[--an],on[an]=null}var Xt=null,zt=null,Ke=!1,kn=null;function Nf(s,o){var u=dn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Of(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Xt=s,zt=Kn(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Xt=s,zt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Wr!==null?{id:Xn,overflow:Qn}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=dn(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Xt=s,zt=null,!0):!1;default:return!1}}function zc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Bc(s){if(Ke){var o=zt;if(o){var u=o;if(!Of(s,o)){if(zc(s))throw Error(t(418));o=Kn(u.nextSibling);var f=Xt;o&&Of(s,o)?Nf(f,u):(s.flags=s.flags&-4097|2,Ke=!1,Xt=s)}}else{if(zc(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ke=!1,Xt=s}}}function Rf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Xt=s}function Di(s){if(s!==Xt)return!1;if(!Ke)return Rf(s),Ke=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Ec(s.type,s.memoizedProps)),o&&(o=zt)){if(zc(s)){for(s=zt;s;)s=Kn(s.nextSibling);throw Error(t(418))}for(;o;)Nf(s,o),o=Kn(o.nextSibling)}if(Rf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){zt=Kn(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}zt=null}}else zt=Xt?Kn(s.stateNode.nextSibling):null;return!0}function Os(){zt=Xt=null,Ke=!1}function Uc(s){kn===null?kn=[s]:kn.push(s)}function Pi(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(k){var C=m.refs;C===kf&&(C=m.refs={}),k===null?delete C[w]:C[w]=k},o._stringRef=w,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function ha(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Df(s){var o=s._init;return o(s._payload)}function Pf(s){function o(z,M){if(s){var U=z.deletions;U===null?(z.deletions=[M],z.flags|=16):U.push(M)}}function u(z,M){if(!s)return null;for(;M!==null;)o(z,M),M=M.sibling;return null}function f(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function m(z,M){return z=Cr(z,M),z.index=0,z.sibling=null,z}function w(z,M,U){return z.index=U,s?(U=z.alternate,U!==null?(U=U.index,U<M?(z.flags|=2,M):U):(z.flags|=2,M)):(z.flags|=1048576,M)}function k(z){return s&&z.alternate===null&&(z.flags|=2),z}function C(z,M,U,Y){return M===null||M.tag!==6?(M=xu(U,z.mode,Y),M.return=z,M):(M=m(M,U),M.return=z,M)}function A(z,M,U,Y){var ie=U.type;return ie===D?K(z,M,U.props.children,Y,U.key):M!==null&&(M.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===he&&Df(ie)===M.type)?(Y=m(M,U.props),Y.ref=Pi(z,M,U),Y.return=z,Y):(Y=Ia(U.type,U.key,U.props,null,z.mode,Y),Y.ref=Pi(z,M,U),Y.return=z,Y)}function H(z,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Su(U,z.mode,Y),M.return=z,M):(M=m(M,U.children||[]),M.return=z,M)}function K(z,M,U,Y,ie){return M===null||M.tag!==7?(M=Qr(U,z.mode,Y,ie),M.return=z,M):(M=m(M,U),M.return=z,M)}function ce(z,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return M=xu(""+M,z.mode,U),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return U=Ia(M.type,M.key,M.props,null,z.mode,U),U.ref=Pi(z,null,M),U.return=z,U;case I:return M=Su(M,z.mode,U),M.return=z,M;case he:var Y=M._init;return ce(z,Y(M._payload),U)}if(fe(M)||Z(M))return M=Qr(M,z.mode,U,null),M.return=z,M;ha(z,M)}return null}function J(z,M,U,Y){var ie=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ie!==null?null:C(z,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case P:return U.key===ie?A(z,M,U,Y):null;case I:return U.key===ie?H(z,M,U,Y):null;case he:return ie=U._init,J(z,M,ie(U._payload),Y)}if(fe(U)||Z(U))return ie!==null?null:K(z,M,U,Y,null);ha(z,U)}return null}function se(z,M,U,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return z=z.get(U)||null,C(M,z,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return z=z.get(Y.key===null?U:Y.key)||null,A(M,z,Y,ie);case I:return z=z.get(Y.key===null?U:Y.key)||null,H(M,z,Y,ie);case he:var pe=Y._init;return se(z,M,U,pe(Y._payload),ie)}if(fe(Y)||Z(Y))return z=z.get(U)||null,K(M,z,Y,ie,null);ha(M,Y)}return null}function X(z,M,U,Y){for(var ie=null,pe=null,ve=M,we=M=0,ht=null;ve!==null&&we<U.length;we++){ve.index>we?(ht=ve,ve=null):ht=ve.sibling;var Pe=J(z,ve,U[we],Y);if(Pe===null){ve===null&&(ve=ht);break}s&&ve&&Pe.alternate===null&&o(z,ve),M=w(Pe,M,we),pe===null?ie=Pe:pe.sibling=Pe,pe=Pe,ve=ht}if(we===U.length)return u(z,ve),Ke&&Vr(z,we),ie;if(ve===null){for(;we<U.length;we++)ve=ce(z,U[we],Y),ve!==null&&(M=w(ve,M,we),pe===null?ie=ve:pe.sibling=ve,pe=ve);return Ke&&Vr(z,we),ie}for(ve=f(z,ve);we<U.length;we++)ht=se(ve,z,we,U[we],Y),ht!==null&&(s&&ht.alternate!==null&&ve.delete(ht.key===null?we:ht.key),M=w(ht,M,we),pe===null?ie=ht:pe.sibling=ht,pe=ht);return s&&ve.forEach(function(jr){return o(z,jr)}),Ke&&Vr(z,we),ie}function ke(z,M,U,Y){var ie=Z(U);if(typeof ie!="function")throw Error(t(150));if(U=ie.call(U),U==null)throw Error(t(151));for(var pe=ie=null,ve=M,we=M=0,ht=null,Pe=U.next();ve!==null&&!Pe.done;we++,Pe=U.next()){ve.index>we?(ht=ve,ve=null):ht=ve.sibling;var jr=J(z,ve,Pe.value,Y);if(jr===null){ve===null&&(ve=ht);break}s&&ve&&jr.alternate===null&&o(z,ve),M=w(jr,M,we),pe===null?ie=jr:pe.sibling=jr,pe=jr,ve=ht}if(Pe.done)return u(z,ve),Ke&&Vr(z,we),ie;if(ve===null){for(;!Pe.done;we++,Pe=U.next())Pe=ce(z,Pe.value,Y),Pe!==null&&(M=w(Pe,M,we),pe===null?ie=Pe:pe.sibling=Pe,pe=Pe);return Ke&&Vr(z,we),ie}for(ve=f(z,ve);!Pe.done;we++,Pe=U.next())Pe=se(ve,z,we,Pe.value,Y),Pe!==null&&(s&&Pe.alternate!==null&&ve.delete(Pe.key===null?we:Pe.key),M=w(Pe,M,we),pe===null?ie=Pe:pe.sibling=Pe,pe=Pe);return s&&ve.forEach(function(ib){return o(z,ib)}),Ke&&Vr(z,we),ie}function Ve(z,M,U,Y){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case P:e:{for(var ie=U.key,pe=M;pe!==null;){if(pe.key===ie){if(ie=U.type,ie===D){if(pe.tag===7){u(z,pe.sibling),M=m(pe,U.props.children),M.return=z,z=M;break e}}else if(pe.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===he&&Df(ie)===pe.type){u(z,pe.sibling),M=m(pe,U.props),M.ref=Pi(z,pe,U),M.return=z,z=M;break e}u(z,pe);break}else o(z,pe);pe=pe.sibling}U.type===D?(M=Qr(U.props.children,z.mode,Y,U.key),M.return=z,z=M):(Y=Ia(U.type,U.key,U.props,null,z.mode,Y),Y.ref=Pi(z,M,U),Y.return=z,z=Y)}return k(z);case I:e:{for(pe=U.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){u(z,M.sibling),M=m(M,U.children||[]),M.return=z,z=M;break e}else{u(z,M);break}else o(z,M);M=M.sibling}M=Su(U,z.mode,Y),M.return=z,z=M}return k(z);case he:return pe=U._init,Ve(z,M,pe(U._payload),Y)}if(fe(U))return X(z,M,U,Y);if(Z(U))return ke(z,M,U,Y);ha(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,M!==null&&M.tag===6?(u(z,M.sibling),M=m(M,U),M.return=z,z=M):(u(z,M),M=xu(U,z.mode,Y),M.return=z,z=M),k(z)):u(z,M)}return Ve}var Rs=Pf(!0),Af=Pf(!1),Ai={},$n=vr(Ai),Mi=vr(Ai),Ii=vr(Ai);function qr(s){if(s===Ai)throw Error(t(174));return s}function Hc(s,o){switch(Be(Ii,o),Be(Mi,s),Be($n,Ai),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Dn(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Dn(o,s)}We($n),Be($n,o)}function Ds(){We($n),We(Mi),We(Ii)}function Mf(s){qr(Ii.current);var o=qr($n.current),u=Dn(o,s.type);o!==u&&(Be(Mi,s),Be($n,u))}function Wc(s){Mi.current===s&&(We($n),We(Mi))}var Xe=vr(0);function fa(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vc=[];function qc(){for(var s=0;s<Vc.length;s++)Vc[s]._workInProgressVersionPrimary=null;Vc.length=0}var pa=O.ReactCurrentDispatcher,ln=O.ReactCurrentBatchConfig,Ps=0,Ze=null,St=null,dt=null,ga=!1,Li=!1,$i=0,Cw=0;function kt(){throw Error(t(321))}function Kc(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Mn(s[u],o[u]))return!1;return!0}function Yc(s,o,u,f,m,w){if(Ps=w,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,pa.current=s===null||s.memoizedState===null?Rw:Dw,s=u(f,m),Li){w=0;do{if(Li=!1,$i=0,25<=w)throw Error(t(301));w+=1,dt=St=null,o.updateQueue=null,pa.current=Pw,s=u(f,m)}while(Li)}if(pa.current=ba,o=St!==null&&St.next!==null,Ps=0,dt=St=Ze=null,ga=!1,o)throw Error(t(300));return s}function Gc(){var s=$i!==0;return $i=0,s}function Zn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ze.memoizedState=dt=s:dt=dt.next=s,dt}function Fn(){if(St===null){var s=Ze.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var o=dt===null?Ze.memoizedState:dt.next;if(o!==null)dt=o,St=s;else{if(s===null)throw Error(t(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},dt===null?Ze.memoizedState=dt=s:dt=dt.next=s}return dt}function Kr(s,o){return typeof o=="function"?o(s):o}function ma(s){var o=Fn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=St,m=f.baseQueue,w=u.pending;if(w!==null){if(m!==null){var k=m.next;m.next=w.next,w.next=k}f.baseQueue=m=w,u.pending=null}if(m!==null){w=m.next,f=f.baseState;var C=k=null,A=null,H=w;do{var K=H.lane;if((Ps&K)===K)A!==null&&(A=A.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),f=H.hasEagerState?H.eagerState:s(f,H.action);else{var ce={lane:K,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};A===null?(C=A=ce,k=f):A=A.next=ce,Ze.lanes|=K,Ms|=K}H=H.next}while(H!==null&&H!==w);A===null?k=f:A.next=C,Mn(f,o.memoizedState)||(Qt=!0),o.memoizedState=f,o.baseState=k,o.baseQueue=A,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do w=m.lane,Ze.lanes|=w,Ms|=w,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function ya(s){var o=Fn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,w=o.memoizedState;if(m!==null){u.pending=null;var k=m=m.next;do w=s(w,k.action),k=k.next;while(k!==m);Mn(w,o.memoizedState)||(Qt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,f]}function If(){}function Lf(s,o){var u=Ze,f=Fn(),m=o(),w=!Mn(f.memoizedState,m);if(w&&(f.memoizedState=m,Qt=!0),f=f.queue,zi(zf.bind(null,u,f,s),[s]),f.getSnapshot!==o||w||dt!==null&&dt.memoizedState.tag&1){if(u.flags|=2048,Fi(9,Ff.bind(null,u,f,m,o),void 0,null),nt===null)throw Error(t(349));(Ps&30)!==0||$f(u,o,m)}return m}function $f(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Ff(s,o,u,f){o.value=u,o.getSnapshot=f,Bf(o)&&un(s,1,-1)}function zf(s,o,u){return u(function(){Bf(o)&&un(s,1,-1)})}function Bf(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Mn(s,u)}catch{return!0}}function Jc(s){var o=Zn();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:s},o.queue=s,s=s.dispatch=Ow.bind(null,Ze,s),[o.memoizedState,s]}function Fi(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=Ze.updateQueue,o===null?(o={lastEffect:null,stores:null},Ze.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function Uf(){return Fn().memoizedState}function va(s,o,u,f){var m=Zn();Ze.flags|=s,m.memoizedState=Fi(1|o,u,void 0,f===void 0?null:f)}function wa(s,o,u,f){var m=Fn();f=f===void 0?null:f;var w=void 0;if(St!==null){var k=St.memoizedState;if(w=k.destroy,f!==null&&Kc(f,k.deps)){m.memoizedState=Fi(o,u,w,f);return}}Ze.flags|=s,m.memoizedState=Fi(1|o,u,w,f)}function Xc(s,o){return va(8390656,8,s,o)}function zi(s,o){return wa(2048,8,s,o)}function Hf(s,o){return wa(4,2,s,o)}function Wf(s,o){return wa(4,4,s,o)}function Vf(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function qf(s,o,u){return u=u!=null?u.concat([s]):null,wa(4,4,Vf.bind(null,o,s),u)}function Qc(){}function Kf(s,o){var u=Fn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Kc(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function Yf(s,o){var u=Fn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Kc(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function jw(s,o){var u=Ie;Ie=u!==0&&4>u?u:4,s(!0);var f=ln.transition;ln.transition={};try{s(!1),o()}finally{Ie=u,ln.transition=f}}function Gf(){return Fn().memoizedState}function Nw(s,o,u){var f=Er(s);u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Jf(s)?Xf(o,u):(Qf(s,o,u),u=Rt(),s=un(s,f,u),s!==null&&Zf(s,o,f))}function Ow(s,o,u){var f=Er(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jf(s))Xf(o,m);else{Qf(s,o,m);var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var k=o.lastRenderedState,C=w(k,u);if(m.hasEagerState=!0,m.eagerState=C,Mn(C,k))return}catch{}finally{}u=Rt(),s=un(s,f,u),s!==null&&Zf(s,o,f)}}function Jf(s){var o=s.alternate;return s===Ze||o!==null&&o===Ze}function Xf(s,o){Li=ga=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Qf(s,o,u){nt!==null&&(s.mode&1)!==0&&(Ne&2)===0?(s=o.interleaved,s===null?(u.next=u,Ln===null?Ln=[o]:Ln.push(o)):(u.next=s.next,s.next=u),o.interleaved=u):(s=o.pending,s===null?u.next=u:(u.next=s.next,s.next=u),o.pending=u)}function Zf(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,nc(s,u)}}var ba={readContext:sn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Rw={readContext:sn,useCallback:function(s,o){return Zn().memoizedState=[s,o===void 0?null:o],s},useContext:sn,useEffect:Xc,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,va(4194308,4,Vf.bind(null,o,s),u)},useLayoutEffect:function(s,o){return va(4194308,4,s,o)},useInsertionEffect:function(s,o){return va(4,2,s,o)},useMemo:function(s,o){var u=Zn();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=Zn();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=Nw.bind(null,Ze,s),[f.memoizedState,s]},useRef:function(s){var o=Zn();return s={current:s},o.memoizedState=s},useState:Jc,useDebugValue:Qc,useDeferredValue:function(s){var o=Jc(s),u=o[0],f=o[1];return Xc(function(){var m=ln.transition;ln.transition={};try{f(s)}finally{ln.transition=m}},[s]),u},useTransition:function(){var s=Jc(!1),o=s[0];return s=jw.bind(null,s[1]),Zn().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=Ze,m=Zn();if(Ke){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),nt===null)throw Error(t(349));(Ps&30)!==0||$f(f,o,u)}m.memoizedState=u;var w={value:u,getSnapshot:o};return m.queue=w,Xc(zf.bind(null,f,w,s),[s]),f.flags|=2048,Fi(9,Ff.bind(null,f,w,u,o),void 0,null),u},useId:function(){var s=Zn(),o=nt.identifierPrefix;if(Ke){var u=Qn,f=Xn;u=(f&~(1<<32-xn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=$i++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Cw++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Dw={readContext:sn,useCallback:Kf,useContext:sn,useEffect:zi,useImperativeHandle:qf,useInsertionEffect:Hf,useLayoutEffect:Wf,useMemo:Yf,useReducer:ma,useRef:Uf,useState:function(){return ma(Kr)},useDebugValue:Qc,useDeferredValue:function(s){var o=ma(Kr),u=o[0],f=o[1];return zi(function(){var m=ln.transition;ln.transition={};try{f(s)}finally{ln.transition=m}},[s]),u},useTransition:function(){var s=ma(Kr)[0],o=Fn().memoizedState;return[s,o]},useMutableSource:If,useSyncExternalStore:Lf,useId:Gf,unstable_isNewReconciler:!1},Pw={readContext:sn,useCallback:Kf,useContext:sn,useEffect:zi,useImperativeHandle:qf,useInsertionEffect:Hf,useLayoutEffect:Wf,useMemo:Yf,useReducer:ya,useRef:Uf,useState:function(){return ya(Kr)},useDebugValue:Qc,useDeferredValue:function(s){var o=ya(Kr),u=o[0],f=o[1];return zi(function(){var m=ln.transition;ln.transition={};try{f(s)}finally{ln.transition=m}},[s]),u},useTransition:function(){var s=ya(Kr)[0],o=Fn().memoizedState;return[s,o]},useMutableSource:If,useSyncExternalStore:Lf,useId:Gf,unstable_isNewReconciler:!1};function Zc(s,o){try{var u="",f=o;do u+=Te(f),f=f.return;while(f);var m=u}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:m}}function eu(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Aw=typeof WeakMap=="function"?WeakMap:Map;function ep(s,o,u){u=Jn(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Na||(Na=!0,pu=f),eu(s,o)},u}function tp(s,o,u){u=Jn(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){eu(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){eu(s,o),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),u}function np(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new Aw;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),s=Yw.bind(null,s,o,u),o.then(s,s))}function rp(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function sp(s,o,u,f,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Jn(-1,1),o.tag=2,xr(u,o))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var ip,tu,op,ap;ip=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tu=function(){},op=function(s,o,u,f){var m=s.memoizedProps;if(m!==f){s=o.stateNode,qr($n.current);var w=null;switch(u){case"input":m=yt(s,m),f=yt(s,f),w=[];break;case"select":m=R({},m,{value:void 0}),f=R({},f,{value:void 0}),w=[];break;case"textarea":m=pt(s,m),f=pt(s,f),w=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=ea)}ps(u,f);var k;u=null;for(H in m)if(!f.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var C=m[H];for(k in C)C.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?w||(w=[]):(w=w||[]).push(H,null));for(H in f){var A=f[H];if(C=m!=null?m[H]:void 0,f.hasOwnProperty(H)&&A!==C&&(A!=null||C!=null))if(H==="style")if(C){for(k in C)!C.hasOwnProperty(k)||A&&A.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in A)A.hasOwnProperty(k)&&C[k]!==A[k]&&(u||(u={}),u[k]=A[k])}else u||(w||(w=[]),w.push(H,u)),u=A;else H==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,C=C?C.__html:void 0,A!=null&&C!==A&&(w=w||[]).push(H,A)):H==="children"?typeof A!="string"&&typeof A!="number"||(w=w||[]).push(H,""+A):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?(A!=null&&H==="onScroll"&&He("scroll",s),w||C===A||(w=[])):(w=w||[]).push(H,A))}u&&(w=w||[]).push("style",u);var H=w;(o.updateQueue=H)&&(o.flags|=4)}},ap=function(s,o,u,f){u!==f&&(o.flags|=4)};function Bi(s,o){if(!Ke)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Et(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function Mw(s,o,u){var f=o.pendingProps;switch(Fc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(o),null;case 1:return Ft(o.type)&&na(),Et(o),null;case 3:return f=o.stateNode,Ds(),We($t),We(xt),qc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Di(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kn!==null&&(yu(kn),kn=null))),tu(s,o),Et(o),null;case 5:Wc(o);var m=qr(Ii.current);if(u=o.type,s!==null&&o.stateNode!=null)op(s,o,u,f,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return Et(o),null}if(s=qr($n.current),Di(o)){f=o.stateNode,u=o.type;var w=o.memoizedProps;switch(f[In]=o,f[Oi]=w,s=(o.mode&1)!==0,u){case"dialog":He("cancel",f),He("close",f);break;case"iframe":case"object":case"embed":He("load",f);break;case"video":case"audio":for(m=0;m<Ci.length;m++)He(Ci[m],f);break;case"source":He("error",f);break;case"img":case"image":case"link":He("error",f),He("load",f);break;case"details":He("toggle",f);break;case"input":q(f,w),He("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},He("invalid",f);break;case"textarea":Yt(f,w),He("invalid",f)}ps(u,w),m=null;for(var k in w)if(w.hasOwnProperty(k)){var C=w[k];k==="children"?typeof C=="string"?f.textContent!==C&&(Zo(f.textContent,C,s),m=["children",C]):typeof C=="number"&&f.textContent!==""+C&&(Zo(f.textContent,C,s),m=["children",""+C]):i.hasOwnProperty(k)&&C!=null&&k==="onScroll"&&He("scroll",f)}switch(u){case"input":nn(f),re(f,w,!0);break;case"textarea":nn(f),lr(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=ea)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=zr(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=k.createElement(u,{is:f.is}):(s=k.createElement(u),u==="select"&&(k=s,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):s=k.createElementNS(s,u),s[In]=o,s[Oi]=f,ip(s,o,!1,!1),o.stateNode=s;e:{switch(k=ci(u,f),u){case"dialog":He("cancel",s),He("close",s),m=f;break;case"iframe":case"object":case"embed":He("load",s),m=f;break;case"video":case"audio":for(m=0;m<Ci.length;m++)He(Ci[m],s);m=f;break;case"source":He("error",s),m=f;break;case"img":case"image":case"link":He("error",s),He("load",s),m=f;break;case"details":He("toggle",s),m=f;break;case"input":q(s,f),m=yt(s,f),He("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=R({},f,{value:void 0}),He("invalid",s);break;case"textarea":Yt(s,f),m=pt(s,f),He("invalid",s);break;default:m=f}ps(u,m),C=m;for(w in C)if(C.hasOwnProperty(w)){var A=C[w];w==="style"?Mo(s,A):w==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&cr(s,A)):w==="children"?typeof A=="string"?(u!=="textarea"||A!=="")&&ur(s,A):typeof A=="number"&&ur(s,""+A):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?A!=null&&w==="onScroll"&&He("scroll",s):A!=null&&j(s,w,A,k))}switch(u){case"input":nn(s),re(s,f,!1);break;case"textarea":nn(s),lr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ee(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?Me(s,!!f.multiple,w,!1):f.defaultValue!=null&&Me(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=ea)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Et(o),null;case 6:if(s&&o.stateNode!=null)ap(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=qr(Ii.current),qr($n.current),Di(o)){if(f=o.stateNode,u=o.memoizedProps,f[In]=o,(w=f.nodeValue!==u)&&(s=Xt,s!==null))switch(k=(s.mode&1)!==0,s.tag){case 3:Zo(f.nodeValue,u,k);break;case 5:s.memoizedProps[void 0]!==!0&&Zo(f.nodeValue,u,k)}w&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[In]=o,o.stateNode=f}return Et(o),null;case 13:if(We(Xe),f=o.memoizedState,Ke&&zt!==null&&(o.mode&1)!==0&&(o.flags&128)===0){for(f=zt;f;)f=Kn(f.nextSibling);return Os(),o.flags|=98560,o}if(f!==null&&f.dehydrated!==null){if(f=Di(o),s===null){if(!f)throw Error(t(318));if(f=o.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[In]=o}else Os(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;return Et(o),null}return kn!==null&&(yu(kn),kn=null),(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,u=!1,s===null?Di(o):u=s.memoizedState!==null,f&&!u&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Xe.current&1)!==0?ot===0&&(ot=3):bu())),o.updateQueue!==null&&(o.flags|=4),Et(o),null);case 4:return Ds(),tu(s,o),s===null&&ji(o.stateNode.containerInfo),Et(o),null;case 10:return Pc(o.type._context),Et(o),null;case 17:return Ft(o.type)&&na(),Et(o),null;case 19:if(We(Xe),w=o.memoizedState,w===null)return Et(o),null;if(f=(o.flags&128)!==0,k=w.rendering,k===null)if(f)Bi(w,!1);else{if(ot!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(k=fa(s),k!==null){for(o.flags|=128,Bi(w,!1),f=k.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)w=u,s=f,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,s=k.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Be(Xe,Xe.current&1|2),o.child}s=s.sibling}w.tail!==null&&et()>Is&&(o.flags|=128,f=!0,Bi(w,!1),o.lanes=4194304)}else{if(!f)if(s=fa(k),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Bi(w,!0),w.tail===null&&w.tailMode==="hidden"&&!k.alternate&&!Ke)return Et(o),null}else 2*et()-w.renderingStartTime>Is&&u!==1073741824&&(o.flags|=128,f=!0,Bi(w,!1),o.lanes=4194304);w.isBackwards?(k.sibling=o.child,o.child=k):(u=w.last,u!==null?u.sibling=k:o.child=k,w.last=k)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=et(),o.sibling=null,u=Xe.current,Be(Xe,f?u&1|2:u&1),o):(Et(o),null);case 22:case 23:return wu(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Zt&1073741824)!==0&&(Et(o),o.subtreeFlags&6&&(o.flags|=8192)):Et(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}var Iw=O.ReactCurrentOwner,Qt=!1;function Ot(s,o,u,f){o.child=s===null?Af(o,null,u,f):Rs(o,s.child,u,f)}function lp(s,o,u,f,m){u=u.render;var w=o.ref;return Cs(o,m),f=Yc(s,o,u,f,w,m),u=Gc(),s!==null&&!Qt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,er(s,o,m)):(Ke&&u&&$c(o),o.flags|=1,Ot(s,o,f,m),o.child)}function cp(s,o,u,f,m){if(s===null){var w=u.type;return typeof w=="function"&&!_u(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=w,up(s,o,w,f,m)):(s=Ia(u.type,null,f,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&m)===0){var k=w.memoizedProps;if(u=u.compare,u=u!==null?u:Ei,u(k,f)&&s.ref===o.ref)return er(s,o,m)}return o.flags|=1,s=Cr(w,f),s.ref=o.ref,s.return=o,o.child=s}function up(s,o,u,f,m){if(s!==null&&Ei(s.memoizedProps,f)&&s.ref===o.ref)if(Qt=!1,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Qt=!0);else return o.lanes=s.lanes,er(s,o,m);return nu(s,o,u,f,m)}function dp(s,o,u){var f=o.pendingProps,m=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null},Be(As,Zt),Zt|=u;else if((u&1073741824)!==0)o.memoizedState={baseLanes:0,cachePool:null},f=w!==null?w.baseLanes:u,Be(As,Zt),Zt|=f;else return s=w!==null?w.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null},o.updateQueue=null,Be(As,Zt),Zt|=s,null;else w!==null?(f=w.baseLanes|u,o.memoizedState=null):f=u,Be(As,Zt),Zt|=f;return Ot(s,o,m,u),o.child}function hp(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function nu(s,o,u,f,m){var w=Ft(u)?Hr:xt.current;return w=Es(o,w),Cs(o,m),u=Yc(s,o,u,f,w,m),f=Gc(),s!==null&&!Qt?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,er(s,o,m)):(Ke&&f&&$c(o),o.flags|=1,Ot(s,o,u,m),o.child)}function fp(s,o,u,f,m){if(Ft(u)){var w=!0;ra(o)}else w=!1;if(Cs(o,m),o.stateNode===null)s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2),Tf(o,u,f),Lc(o,u,f,m),f=!0;else if(s===null){var k=o.stateNode,C=o.memoizedProps;k.props=C;var A=k.context,H=u.contextType;typeof H=="object"&&H!==null?H=sn(H):(H=Ft(u)?Hr:xt.current,H=Es(o,H));var K=u.getDerivedStateFromProps,ce=typeof K=="function"||typeof k.getSnapshotBeforeUpdate=="function";ce||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(C!==f||A!==H)&&Cf(o,k,f,H),_r=!1;var J=o.memoizedState;k.state=J,la(o,f,k,m),A=o.memoizedState,C!==f||J!==A||$t.current||_r?(typeof K=="function"&&(Ic(o,u,K,f),A=o.memoizedState),(C=_r||Ef(o,u,C,f,J,A,H))?(ce||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=A),k.props=f,k.state=A,k.context=H,f=C):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{k=o.stateNode,_f(s,o),C=o.memoizedProps,H=o.type===o.elementType?C:Sn(o.type,C),k.props=H,ce=o.pendingProps,J=k.context,A=u.contextType,typeof A=="object"&&A!==null?A=sn(A):(A=Ft(u)?Hr:xt.current,A=Es(o,A));var se=u.getDerivedStateFromProps;(K=typeof se=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(C!==ce||J!==A)&&Cf(o,k,f,A),_r=!1,J=o.memoizedState,k.state=J,la(o,f,k,m);var X=o.memoizedState;C!==ce||J!==X||$t.current||_r?(typeof se=="function"&&(Ic(o,u,se,f),X=o.memoizedState),(H=_r||Ef(o,u,H,f,J,X,A)||!1)?(K||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,X,A),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,X,A)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=X),k.props=f,k.state=X,k.context=A,f=H):(typeof k.componentDidUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&J===s.memoizedState||(o.flags|=1024),f=!1)}return ru(s,o,u,f,w,m)}function ru(s,o,u,f,m,w){hp(s,o);var k=(o.flags&128)!==0;if(!f&&!k)return m&&wf(o,u,!1),er(s,o,w);f=o.stateNode,Iw.current=o;var C=k&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&k?(o.child=Rs(o,s.child,null,w),o.child=Rs(o,null,C,w)):Ot(s,o,C,w),o.memoizedState=f.state,m&&wf(o,u,!0),o.child}function pp(s){var o=s.stateNode;o.pendingContext?yf(s,o.pendingContext,o.pendingContext!==o.context):o.context&&yf(s,o.context,!1),Hc(s,o.containerInfo)}function gp(s,o,u,f,m){return Os(),Uc(m),o.flags|=256,Ot(s,o,u,f),o.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function xa(s){return{baseLanes:s,cachePool:null}}function mp(s,o,u){var f=o.pendingProps,m=Xe.current,w=!1,k=(o.flags&128)!==0,C;if((C=k)||(C=s!==null&&s.memoizedState===null?!1:(m&2)!==0),C?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Be(Xe,m&1),s===null)return Bc(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(m=f.children,s=f.fallback,w?(f=o.mode,w=o.child,m={mode:"hidden",children:m},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=m):w=La(m,f,0,null),s=Qr(s,f,u,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=xa(u),o.memoizedState=_a,s):su(o,m));if(m=s.memoizedState,m!==null){if(C=m.dehydrated,C!==null){if(k)return o.flags&256?(o.flags&=-257,Sa(s,o,u,Error(t(422)))):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,m=o.mode,f=La({mode:"visible",children:f.children},m,0,null),w=Qr(w,m,u,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&Rs(o,s.child,null,u),o.child.memoizedState=xa(u),o.memoizedState=_a,w);if((o.mode&1)===0)o=Sa(s,o,u,null);else if(C.data==="$!")o=Sa(s,o,u,Error(t(419)));else if(f=(u&s.childLanes)!==0,Qt||f){if(f=nt,f!==null){switch(u&-u){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}f=(w&(f.suspendedLanes|u))!==0?0:w,f!==0&&f!==m.retryLane&&(m.retryLane=f,un(s,f,-1))}bu(),o=Sa(s,o,u,Error(t(421)))}else C.data==="$?"?(o.flags|=128,o.child=s.child,o=Gw.bind(null,s),C._reactRetry=o,o=null):(u=m.treeContext,zt=Kn(C.nextSibling),Xt=o,Ke=!0,kn=null,u!==null&&(on[an++]=Xn,on[an++]=Qn,on[an++]=Wr,Xn=u.id,Qn=u.overflow,Wr=o),o=su(o,o.pendingProps.children),o.flags|=4096);return o}return w?(f=vp(s,o,f.children,f.fallback,u),w=o.child,m=s.child.memoizedState,w.memoizedState=m===null?xa(u):{baseLanes:m.baseLanes|u,cachePool:null},w.childLanes=s.childLanes&~u,o.memoizedState=_a,f):(u=yp(s,o,f.children,u),o.memoizedState=null,u)}return w?(f=vp(s,o,f.children,f.fallback,u),w=o.child,m=s.child.memoizedState,w.memoizedState=m===null?xa(u):{baseLanes:m.baseLanes|u,cachePool:null},w.childLanes=s.childLanes&~u,o.memoizedState=_a,f):(u=yp(s,o,f.children,u),o.memoizedState=null,u)}function su(s,o){return o=La({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function yp(s,o,u,f){var m=s.child;return s=m.sibling,u=Cr(m,{mode:"visible",children:u}),(o.mode&1)===0&&(u.lanes=f),u.return=o,u.sibling=null,s!==null&&(f=o.deletions,f===null?(o.deletions=[s],o.flags|=16):f.push(s)),o.child=u}function vp(s,o,u,f,m){var w=o.mode;s=s.child;var k=s.sibling,C={mode:"hidden",children:u};return(w&1)===0&&o.child!==s?(u=o.child,u.childLanes=0,u.pendingProps=C,o.deletions=null):(u=Cr(s,C),u.subtreeFlags=s.subtreeFlags&14680064),k!==null?f=Cr(k,f):(f=Qr(f,w,m,null),f.flags|=2),f.return=o,u.return=o,u.sibling=f,o.child=u,f}function Sa(s,o,u,f){return f!==null&&Uc(f),Rs(o,s.child,null,u),s=su(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function wp(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Ac(s.return,o,u)}function iu(s,o,u,f,m){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=m)}function bp(s,o,u){var f=o.pendingProps,m=f.revealOrder,w=f.tail;if(Ot(s,o,f.children,u),f=Xe.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&wp(s,u,o);else if(s.tag===19)wp(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Be(Xe,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&fa(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),iu(o,!1,m,u,w);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&fa(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}iu(o,!0,u,null,w);break;case"together":iu(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function er(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ms|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=Cr(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Cr(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Lw(s,o,u){switch(o.tag){case 3:pp(o),Os();break;case 5:Mf(o);break;case 1:Ft(o.type)&&ra(o);break;case 4:Hc(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Be(ia,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Be(Xe,Xe.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?mp(s,o,u):(Be(Xe,Xe.current&1),s=er(s,o,u),s!==null?s.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return bp(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Be(Xe,Xe.current),f)break;return null;case 22:case 23:return o.lanes=0,dp(s,o,u)}return er(s,o,u)}function $w(s,o){switch(Fc(o),o.tag){case 1:return Ft(o.type)&&na(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ds(),We($t),We(xt),qc(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Wc(o),null;case 13:if(We(Xe),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Os()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return We(Xe),null;case 4:return Ds(),null;case 10:return Pc(o.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var ka=!1,Yr=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ea(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Ht(s,o,f)}else u.current=null}function ou(s,o,u){try{u()}catch(f){Ht(s,o,f)}}var _p=!1;function zw(s,o){if(s=ef(),mc(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var k=0,C=-1,A=-1,H=0,K=0,ce=s,J=null;t:for(;;){for(var se;ce!==u||m!==0&&ce.nodeType!==3||(C=k+m),ce!==w||f!==0&&ce.nodeType!==3||(A=k+f),ce.nodeType===3&&(k+=ce.nodeValue.length),(se=ce.firstChild)!==null;)J=ce,ce=se;for(;;){if(ce===s)break t;if(J===u&&++H===m&&(C=k),J===w&&++K===f&&(A=k),(se=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=se}u=C===-1||A===-1?null:{start:C,end:A}}else u=null}u=u||{start:0,end:0}}else u=null;for(kc={focusedElem:s,selectionRange:u},te=o;te!==null;)if(o=te,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,te=s;else for(;te!==null;){o=te;try{var X=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var ke=X.memoizedProps,Ve=X.memoizedState,z=o.stateNode,M=z.getSnapshotBeforeUpdate(o.elementType===o.type?ke:Sn(o.type,ke),Ve);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var U=o.stateNode.containerInfo;if(U.nodeType===1)U.textContent="";else if(U.nodeType===9){var Y=U.body;Y!=null&&(Y.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){Ht(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,te=s;break}te=o.return}return X=_p,_p=!1,X}function Ui(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var w=m.destroy;m.destroy=void 0,w!==void 0&&ou(o,u,w)}m=m.next}while(m!==f)}}function Ta(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function au(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function xp(s,o,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Lo,o)}catch{}switch(o.tag){case 0:case 11:case 14:case 15:if(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null)){var f=s=s.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&ou(o,u,w),f=f.next}while(f!==s)}break;case 1:if(Ea(o,u),s=o.stateNode,typeof s.componentWillUnmount=="function")try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(k){Ht(o,u,k)}break;case 5:Ea(o,u);break;case 4:Cp(s,o,u)}}function Sp(s){var o=s.alternate;o!==null&&(s.alternate=null,Sp(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[In],delete o[Oi],delete o[jc],delete o[Sw],delete o[kw])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function kp(s){return s.tag===5||s.tag===3||s.tag===4}function Ep(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||kp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tp(s){e:{for(var o=s.return;o!==null;){if(kp(o))break e;o=o.return}throw Error(t(160))}var u=o;switch(u.tag){case 5:o=u.stateNode,u.flags&32&&(ur(o,""),u.flags&=-33),u=Ep(s),cu(s,u,o);break;case 3:case 4:o=u.stateNode.containerInfo,u=Ep(s),lu(s,u,o);break;default:throw Error(t(161))}}function lu(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ea));else if(f!==4&&(s=s.child,s!==null))for(lu(s,o,u),s=s.sibling;s!==null;)lu(s,o,u),s=s.sibling}function cu(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(cu(s,o,u),s=s.sibling;s!==null;)cu(s,o,u),s=s.sibling}function Cp(s,o,u){for(var f=o,m=!1,w,k;;){if(!m){m=f.return;e:for(;;){if(m===null)throw Error(t(160));switch(w=m.stateNode,m.tag){case 5:k=!1;break e;case 3:w=w.containerInfo,k=!0;break e;case 4:w=w.containerInfo,k=!0;break e}m=m.return}m=!0}if(f.tag===5||f.tag===6){e:for(var C=s,A=f,H=u,K=A;;)if(xp(C,K,H),K.child!==null&&K.tag!==4)K.child.return=K,K=K.child;else{if(K===A)break e;for(;K.sibling===null;){if(K.return===null||K.return===A)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}k?(C=w,A=f.stateNode,C.nodeType===8?C.parentNode.removeChild(A):C.removeChild(A)):w.removeChild(f.stateNode)}else if(f.tag===18)k?(C=w,A=f.stateNode,C.nodeType===8?Cc(C.parentNode,A):C.nodeType===1&&Cc(C,A),wi(C)):Cc(w,f.stateNode);else if(f.tag===4){if(f.child!==null){w=f.stateNode.containerInfo,k=!0,f.child.return=f,f=f.child;continue}}else if(xp(s,f,u),f.child!==null){f.child.return=f,f=f.child;continue}if(f===o)break;for(;f.sibling===null;){if(f.return===null||f.return===o)return;f=f.return,f.tag===4&&(m=!1)}f.sibling.return=f.return,f=f.sibling}}function uu(s,o){switch(o.tag){case 0:case 11:case 14:case 15:Ui(3,o,o.return),Ta(3,o),Ui(5,o,o.return);return;case 1:return;case 5:var u=o.stateNode;if(u!=null){var f=o.memoizedProps,m=s!==null?s.memoizedProps:f;s=o.type;var w=o.updateQueue;if(o.updateQueue=null,w!==null){for(s==="input"&&f.type==="radio"&&f.name!=null&&ee(u,f),ci(s,m),o=ci(s,f),m=0;m<w.length;m+=2){var k=w[m],C=w[m+1];k==="style"?Mo(u,C):k==="dangerouslySetInnerHTML"?cr(u,C):k==="children"?ur(u,C):j(u,k,C,o)}switch(s){case"input":_e(u,f);break;case"textarea":Rn(u,f);break;case"select":s=u._wrapperState.wasMultiple,u._wrapperState.wasMultiple=!!f.multiple,w=f.value,w!=null?Me(u,!!f.multiple,w,!1):s!==!!f.multiple&&(f.defaultValue!=null?Me(u,!!f.multiple,f.defaultValue,!0):Me(u,!!f.multiple,f.multiple?[]:"",!1))}u[Oi]=f}}return;case 6:if(o.stateNode===null)throw Error(t(162));o.stateNode.nodeValue=o.memoizedProps;return;case 3:s!==null&&s.memoizedState.isDehydrated&&wi(o.stateNode.containerInfo);return;case 12:return;case 13:jp(o);return;case 19:jp(o);return;case 17:return}throw Error(t(163))}function jp(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new Fw),o.forEach(function(f){var m=Jw.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function Bw(s,o){for(te=o;te!==null;){o=te;var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{Cp(s,m,o);var w=m.alternate;w!==null&&(w.return=null),m.return=null}catch(we){Ht(m,o,we)}}if(u=o.child,(o.subtreeFlags&12854)!==0&&u!==null)u.return=o,te=u;else for(;te!==null;){o=te;try{var k=o.flags;if(k&32&&ur(o.stateNode,""),k&512){var C=o.alternate;if(C!==null){var A=C.ref;A!==null&&(typeof A=="function"?A(null):A.current=null)}}if(k&8192)switch(o.tag){case 13:if(o.memoizedState!==null){var H=o.alternate;(H===null||H.memoizedState===null)&&(fu=et())}break;case 22:var K=o.memoizedState!==null,ce=o.alternate,J=ce!==null&&ce.memoizedState!==null;u=o;e:{f=u,m=K;for(var se=null,X=f;;){if(X.tag===5){if(se===null){se=X;var ke=X.stateNode;if(m){var Ve=ke.style;typeof Ve.setProperty=="function"?Ve.setProperty("display","none","important"):Ve.display="none"}else{var z=X.stateNode,M=X.memoizedProps.style,U=M!=null&&M.hasOwnProperty("display")?M.display:null;z.style.display=Ao("display",U)}}}else if(X.tag===6)se===null&&(X.stateNode.nodeValue=m?"":X.memoizedProps);else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===f)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===f)break;for(;X.sibling===null;){if(X.return===null||X.return===f)break e;se===X&&(se=null),X=X.return}se===X&&(se=null),X.sibling.return=X.return,X=X.sibling}}if(K&&!J&&(u.mode&1)!==0){te=u;for(var Y=u.child;Y!==null;){for(u=te=Y;te!==null;){f=te;var ie=f.child;switch(f.tag){case 0:case 11:case 14:case 15:Ui(4,f,f.return);break;case 1:Ea(f,f.return);var pe=f.stateNode;if(typeof pe.componentWillUnmount=="function"){var ve=f.return;try{pe.props=f.memoizedProps,pe.state=f.memoizedState,pe.componentWillUnmount()}catch(we){Ht(f,ve,we)}}break;case 5:Ea(f,f.return);break;case 22:if(f.memoizedState!==null){Rp(u);continue}}ie!==null?(ie.return=f,te=ie):Rp(u)}Y=Y.sibling}}}switch(k&4102){case 2:Tp(o),o.flags&=-3;break;case 6:Tp(o),o.flags&=-3,uu(o.alternate,o);break;case 4096:o.flags&=-4097;break;case 4100:o.flags&=-4097,uu(o.alternate,o);break;case 4:uu(o.alternate,o)}}catch(we){Ht(o,o.return,we)}if(u=o.sibling,u!==null){u.return=o.return,te=u;break}te=o.return}}}function Uw(s,o,u){te=s,Np(s)}function Np(s,o,u){for(var f=(s.mode&1)!==0;te!==null;){var m=te,w=m.child;if(m.tag===22&&f){var k=m.memoizedState!==null||ka;if(!k){var C=m.alternate,A=C!==null&&C.memoizedState!==null||Yr;C=ka;var H=Yr;if(ka=k,(Yr=A)&&!H)for(te=m;te!==null;)k=te,A=k.child,k.tag===22&&k.memoizedState!==null?Dp(m):A!==null?(A.return=k,te=A):Dp(m);for(;w!==null;)te=w,Np(w),w=w.sibling;te=m,ka=C,Yr=H}Op(s)}else(m.subtreeFlags&8772)!==0&&w!==null?(w.return=m,te=w):Op(s)}}function Op(s){for(;te!==null;){var o=te;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yr||Ta(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Yr)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Sn(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Sf(o,w,f);break;case 3:var k=o.updateQueue;if(k!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Sf(o,k,u)}break;case 5:var C=o.stateNode;if(u===null&&o.flags&4){u=C;var A=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&u.focus();break;case"img":A.src&&(u.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var K=H.memoizedState;if(K!==null){var ce=K.dehydrated;ce!==null&&wi(ce)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(t(163))}Yr||o.flags&512&&au(o)}catch(J){Ht(o,o.return,J)}}if(o===s){te=null;break}if(u=o.sibling,u!==null){u.return=o.return,te=u;break}te=o.return}}function Rp(s){for(;te!==null;){var o=te;if(o===s){te=null;break}var u=o.sibling;if(u!==null){u.return=o.return,te=u;break}te=o.return}}function Dp(s){for(;te!==null;){var o=te;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ta(4,o)}catch(A){Ht(o,u,A)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(A){Ht(o,m,A)}}var w=o.return;try{au(o)}catch(A){Ht(o,w,A)}break;case 5:var k=o.return;try{au(o)}catch(A){Ht(o,k,A)}}}catch(A){Ht(o,o.return,A)}if(o===s){te=null;break}var C=o.sibling;if(C!==null){C.return=o.return,te=C;break}te=o.return}}var Hw=Math.ceil,Ca=O.ReactCurrentDispatcher,du=O.ReactCurrentOwner,cn=O.ReactCurrentBatchConfig,Ne=0,nt=null,rt=null,gt=0,Zt=0,As=vr(0),ot=0,Hi=null,Ms=0,ja=0,hu=0,Wi=null,Bt=null,fu=0,Is=1/0,Na=!1,pu=null,Sr=null,Oa=!1,kr=null,Ra=0,Vi=0,gu=null,Da=-1,Pa=0;function Rt(){return(Ne&6)!==0?et():Da!==-1?Da:Da=et()}function Er(s){return(s.mode&1)===0?1:(Ne&2)!==0&&gt!==0?gt&-gt:Tw.transition!==null?(Pa===0&&(s=$o,$o<<=1,($o&4194240)===0&&($o=64),Pa=s),Pa):(s=Ie,s!==0||(s=window.event,s=s===void 0?16:Ah(s.type)),s)}function un(s,o,u){if(50<Vi)throw Vi=0,gu=null,Error(t(185));var f=Aa(s,o);return f===null?null:(pi(f,o,u),((Ne&2)===0||f!==nt)&&(f===nt&&((Ne&2)===0&&(ja|=o),ot===4&&Tr(f,gt)),Ut(f,u),o===1&&Ne===0&&(s.mode&1)===0&&(Is=et()+500,sa&&br())),f)}function Aa(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}function Ut(s,o){var u=s.callbackNode;T0(s,o);var f=zo(s,s===nt?gt:0);if(f===0)u!==null&&Sh(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&Sh(u),o===1)s.tag===0?Ew(Ap.bind(null,s)):bf(Ap.bind(null,s)),_w(function(){Ne===0&&br()}),u=null;else{switch(Th(f)){case 1:u=Zl;break;case 4:u=kh;break;case 16:u=Io;break;case 536870912:u=Eh;break;default:u=Io}u=Up(u,Pp.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function Pp(s,o){if(Da=-1,Pa=0,(Ne&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ls()&&s.callbackNode!==u)return null;var f=zo(s,s===nt?gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Ma(s,f);else{o=f;var m=Ne;Ne|=2;var w=Ip();(nt!==s||gt!==o)&&(Is=et()+500,Jr(s,o));do try{qw();break}catch(C){Mp(s,C)}while(!0);Dc(),Ca.current=w,Ne=m,rt!==null?o=0:(nt=null,gt=0,o=ot)}if(o!==0){if(o===2&&(m=ec(s),m!==0&&(f=m,o=mu(s,m))),o===1)throw u=Hi,Jr(s,0),Tr(s,f),Ut(s,et()),u;if(o===6)Tr(s,f);else{if(m=s.current.alternate,(f&30)===0&&!Ww(m)&&(o=Ma(s,f),o===2&&(w=ec(s),w!==0&&(f=w,o=mu(s,w))),o===1))throw u=Hi,Jr(s,0),Tr(s,f),Ut(s,et()),u;switch(s.finishedWork=m,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Xr(s,Bt);break;case 3:if(Tr(s,f),(f&130023424)===f&&(o=fu+500-et(),10<o)){if(zo(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){Rt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Tc(Xr.bind(null,s,Bt),o);break}Xr(s,Bt);break;case 4:if(Tr(s,f),(f&4194240)===f)break;for(o=s.eventTimes,m=-1;0<f;){var k=31-xn(f);w=1<<k,k=o[k],k>m&&(m=k),f&=~w}if(f=m,f=et()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Hw(f/1960))-f,10<f){s.timeoutHandle=Tc(Xr.bind(null,s,Bt),f);break}Xr(s,Bt);break;case 5:Xr(s,Bt);break;default:throw Error(t(329))}}}return Ut(s,et()),s.callbackNode===u?Pp.bind(null,s):null}function mu(s,o){var u=Wi;return s.current.memoizedState.isDehydrated&&(Jr(s,o).flags|=256),s=Ma(s,o),s!==2&&(o=Bt,Bt=u,o!==null&&yu(o)),s}function yu(s){Bt===null?Bt=s:Bt.push.apply(Bt,s)}function Ww(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],w=m.getSnapshot;m=m.value;try{if(!Mn(w(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Tr(s,o){for(o&=~hu,o&=~ja,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-xn(o),f=1<<u;s[u]=-1,o&=~f}}function Ap(s){if((Ne&6)!==0)throw Error(t(327));Ls();var o=zo(s,0);if((o&1)===0)return Ut(s,et()),null;var u=Ma(s,o);if(s.tag!==0&&u===2){var f=ec(s);f!==0&&(o=f,u=mu(s,f))}if(u===1)throw u=Hi,Jr(s,0),Tr(s,o),Ut(s,et()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Xr(s,Bt),Ut(s,et()),null}function vu(s,o){var u=Ne;Ne|=1;try{return s(o)}finally{Ne=u,Ne===0&&(Is=et()+500,sa&&br())}}function Gr(s){kr!==null&&kr.tag===0&&(Ne&6)===0&&Ls();var o=Ne;Ne|=1;var u=cn.transition,f=Ie;try{if(cn.transition=null,Ie=1,s)return s()}finally{Ie=f,cn.transition=u,Ne=o,(Ne&6)===0&&br()}}function wu(){Zt=As.current,We(As)}function Jr(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,bw(u)),rt!==null)for(u=rt.return;u!==null;){var f=u;switch(Fc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&na();break;case 3:Ds(),We($t),We(xt),qc();break;case 5:Wc(f);break;case 4:Ds();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Pc(f.type._context);break;case 22:case 23:wu()}u=u.return}if(nt=s,rt=s=Cr(s.current,null),gt=Zt=o,ot=0,Hi=null,hu=ja=Ms=0,Bt=Wi=null,Ln!==null){for(o=0;o<Ln.length;o++)if(u=Ln[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,w=u.pending;if(w!==null){var k=w.next;w.next=m,f.next=k}u.pending=f}Ln=null}return s}function Mp(s,o){do{var u=rt;try{if(Dc(),pa.current=ba,ga){for(var f=Ze.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}ga=!1}if(Ps=0,dt=St=Ze=null,Li=!1,$i=0,du.current=null,u===null||u.return===null){ot=1,Hi=o,rt=null;break}e:{var w=s,k=u.return,C=u,A=o;if(o=gt,C.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=A,K=C,ce=K.tag;if((K.mode&1)===0&&(ce===0||ce===11||ce===15)){var J=K.alternate;J?(K.updateQueue=J.updateQueue,K.memoizedState=J.memoizedState,K.lanes=J.lanes):(K.updateQueue=null,K.memoizedState=null)}var se=rp(k);if(se!==null){se.flags&=-257,sp(se,k,C,w,o),se.mode&1&&np(w,H,o),o=se,A=H;var X=o.updateQueue;if(X===null){var ke=new Set;ke.add(A),o.updateQueue=ke}else X.add(A);break e}else{if((o&1)===0){np(w,H,o),bu();break e}A=Error(t(426))}}else if(Ke&&C.mode&1){var Ve=rp(k);if(Ve!==null){(Ve.flags&65536)===0&&(Ve.flags|=256),sp(Ve,k,C,w,o),Uc(A);break e}}w=A,ot!==4&&(ot=2),Wi===null?Wi=[w]:Wi.push(w),A=Zc(A,C),C=k;do{switch(C.tag){case 3:C.flags|=65536,o&=-o,C.lanes|=o;var z=ep(C,A,o);xf(C,z);break e;case 1:w=A;var M=C.type,U=C.stateNode;if((C.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Sr===null||!Sr.has(U)))){C.flags|=65536,o&=-o,C.lanes|=o;var Y=tp(C,w,o);xf(C,Y);break e}}C=C.return}while(C!==null)}$p(u)}catch(ie){o=ie,rt===u&&u!==null&&(rt=u=u.return);continue}break}while(!0)}function Ip(){var s=Ca.current;return Ca.current=ba,s===null?ba:s}function bu(){(ot===0||ot===3||ot===2)&&(ot=4),nt===null||(Ms&268435455)===0&&(ja&268435455)===0||Tr(nt,gt)}function Ma(s,o){var u=Ne;Ne|=2;var f=Ip();nt===s&&gt===o||Jr(s,o);do try{Vw();break}catch(m){Mp(s,m)}while(!0);if(Dc(),Ne=u,Ca.current=f,rt!==null)throw Error(t(261));return nt=null,gt=0,ot}function Vw(){for(;rt!==null;)Lp(rt)}function qw(){for(;rt!==null&&!y0();)Lp(rt)}function Lp(s){var o=Bp(s.alternate,s,Zt);s.memoizedProps=s.pendingProps,o===null?$p(s):rt=o,du.current=null}function $p(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=Mw(u,o,Zt),u!==null){rt=u;return}}else{if(u=$w(u,o),u!==null){u.flags&=32767,rt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ot=6,rt=null;return}}if(o=o.sibling,o!==null){rt=o;return}rt=o=s}while(o!==null);ot===0&&(ot=5)}function Xr(s,o){var u=Ie,f=cn.transition;try{cn.transition=null,Ie=1,Kw(s,o,u)}finally{cn.transition=f,Ie=u}return null}function Kw(s,o,u){do Ls();while(kr!==null);if((Ne&6)!==0)throw Error(t(327));var f=s.finishedWork,m=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=f.lanes|f.childLanes;if(C0(s,w),s===nt&&(rt=nt=null,gt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Oa||(Oa=!0,Up(Io,function(){return Ls(),null})),w=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||w){w=cn.transition,cn.transition=null;var k=Ie;Ie=1;var C=Ne;Ne|=4,du.current=null,zw(s,f),Bw(s,f),fw(kc),kc=null,s.current=f,Uw(f),v0(),Ne=C,Ie=k,cn.transition=w}else s.current=f;if(Oa&&(Oa=!1,kr=s,Ra=m),w=s.pendingLanes,w===0&&(Sr=null),_0(f.stateNode),Ut(s,et()),o!==null)for(u=s.onRecoverableError,f=0;f<o.length;f++)u(o[f]);if(Na)throw Na=!1,s=pu,pu=null,s;return(Ra&1)!==0&&s.tag!==0&&Ls(),w=s.pendingLanes,(w&1)!==0?s===gu?Vi++:(Vi=0,gu=s):Vi=0,br(),null}function Ls(){if(kr!==null){var s=Th(Ra),o=cn.transition,u=Ie;try{if(cn.transition=null,Ie=16>s?16:s,kr===null)var f=!1;else{if(s=kr,kr=null,Ra=0,(Ne&6)!==0)throw Error(t(331));var m=Ne;for(Ne|=4,te=s.current;te!==null;){var w=te,k=w.child;if((te.flags&16)!==0){var C=w.deletions;if(C!==null){for(var A=0;A<C.length;A++){var H=C[A];for(te=H;te!==null;){var K=te;switch(K.tag){case 0:case 11:case 15:Ui(8,K,w)}var ce=K.child;if(ce!==null)ce.return=K,te=ce;else for(;te!==null;){K=te;var J=K.sibling,se=K.return;if(Sp(K),K===H){te=null;break}if(J!==null){J.return=se,te=J;break}te=se}}}var X=w.alternate;if(X!==null){var ke=X.child;if(ke!==null){X.child=null;do{var Ve=ke.sibling;ke.sibling=null,ke=Ve}while(ke!==null)}}te=w}}if((w.subtreeFlags&2064)!==0&&k!==null)k.return=w,te=k;else e:for(;te!==null;){if(w=te,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ui(9,w,w.return)}var z=w.sibling;if(z!==null){z.return=w.return,te=z;break e}te=w.return}}var M=s.current;for(te=M;te!==null;){k=te;var U=k.child;if((k.subtreeFlags&2064)!==0&&U!==null)U.return=k,te=U;else e:for(k=M;te!==null;){if(C=te,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Ta(9,C)}}catch(ie){Ht(C,C.return,ie)}if(C===k){te=null;break e}var Y=C.sibling;if(Y!==null){Y.return=C.return,te=Y;break e}te=C.return}}if(Ne=m,br(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Lo,s)}catch{}f=!0}return f}finally{Ie=u,cn.transition=o}}return!1}function Fp(s,o,u){o=Zc(u,o),o=ep(s,o,1),xr(s,o),o=Rt(),s=Aa(s,1),s!==null&&(pi(s,1,o),Ut(s,o))}function Ht(s,o,u){if(s.tag===3)Fp(s,s,u);else for(;o!==null;){if(o.tag===3){Fp(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Sr===null||!Sr.has(f))){s=Zc(u,s),s=tp(o,s,1),xr(o,s),s=Rt(),o=Aa(o,1),o!==null&&(pi(o,1,s),Ut(o,s));break}}o=o.return}}function Yw(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=Rt(),s.pingedLanes|=s.suspendedLanes&u,nt===s&&(gt&u)===u&&(ot===4||ot===3&&(gt&130023424)===gt&&500>et()-fu?Jr(s,0):hu|=u),Ut(s,o)}function zp(s,o){o===0&&((s.mode&1)===0?o=1:(o=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var u=Rt();s=Aa(s,o),s!==null&&(pi(s,o,u),Ut(s,u))}function Gw(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),zp(s,u)}function Jw(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),zp(s,u)}var Bp;Bp=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||$t.current)Qt=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Qt=!1,Lw(s,o,u);Qt=(s.flags&131072)!==0}else Qt=!1,Ke&&(o.flags&1048576)!==0&&jf(o,da,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2),s=o.pendingProps;var m=Es(o,xt.current);Cs(o,u),m=Yc(null,o,f,s,m,u);var w=Gc();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Ft(f)?(w=!0,ra(o)):w=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Mc(o),m.updater=ca,o.stateNode=m,m._reactInternals=o,Lc(o,f,s,u),o=ru(null,o,f,!0,w,u)):(o.tag=0,Ke&&w&&$c(o),Ot(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2),s=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=Qw(f),s=Sn(f,s),m){case 0:o=nu(null,o,f,s,u);break e;case 1:o=fp(null,o,f,s,u);break e;case 11:o=lp(null,o,f,s,u);break e;case 14:o=cp(null,o,f,Sn(f.type,s),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Sn(f,m),nu(s,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Sn(f,m),fp(s,o,f,m,u);case 3:e:{if(pp(o),s===null)throw Error(t(387));f=o.pendingProps,w=o.memoizedState,m=w.element,_f(s,o),la(o,f,null,u);var k=o.memoizedState;if(f=k.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:k.cache,transitions:k.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){m=Error(t(423)),o=gp(s,o,f,u,m);break e}else if(f!==m){m=Error(t(424)),o=gp(s,o,f,u,m);break e}else for(zt=Kn(o.stateNode.containerInfo.firstChild),Xt=o,Ke=!0,kn=null,u=Af(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Os(),f===m){o=er(s,o,u);break e}Ot(s,o,f,u)}o=o.child}return o;case 5:return Mf(o),s===null&&Bc(o),f=o.type,m=o.pendingProps,w=s!==null?s.memoizedProps:null,k=m.children,Ec(f,m)?k=null:w!==null&&Ec(f,w)&&(o.flags|=32),hp(s,o),Ot(s,o,k,u),o.child;case 6:return s===null&&Bc(o),null;case 13:return mp(s,o,u);case 4:return Hc(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Rs(o,null,f,u):Ot(s,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Sn(f,m),lp(s,o,f,m,u);case 7:return Ot(s,o,o.pendingProps,u),o.child;case 8:return Ot(s,o,o.pendingProps.children,u),o.child;case 12:return Ot(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,w=o.memoizedProps,k=m.value,Be(ia,f._currentValue),f._currentValue=k,w!==null)if(Mn(w.value,k)){if(w.children===m.children&&!$t.current){o=er(s,o,u);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var C=w.dependencies;if(C!==null){k=w.child;for(var A=C.firstContext;A!==null;){if(A.context===f){if(w.tag===1){A=Jn(-1,u&-u),A.tag=2;var H=w.updateQueue;if(H!==null){H=H.shared;var K=H.pending;K===null?A.next=A:(A.next=K.next,K.next=A),H.pending=A}}w.lanes|=u,A=w.alternate,A!==null&&(A.lanes|=u),Ac(w.return,u,o),C.lanes|=u;break}A=A.next}}else if(w.tag===10)k=w.type===o.type?null:w.child;else if(w.tag===18){if(k=w.return,k===null)throw Error(t(341));k.lanes|=u,C=k.alternate,C!==null&&(C.lanes|=u),Ac(k,u,o),k=w.sibling}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===o){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}Ot(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Cs(o,u),m=sn(m),f=f(m),o.flags|=1,Ot(s,o,f,u),o.child;case 14:return f=o.type,m=Sn(f,o.pendingProps),m=Sn(f.type,m),cp(s,o,f,m,u);case 15:return up(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Sn(f,m),s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2),o.tag=1,Ft(f)?(s=!0,ra(o)):s=!1,Cs(o,u),Tf(o,f,m),Lc(o,f,m,u),ru(null,o,f,!0,s,u);case 19:return bp(s,o,u);case 22:return dp(s,o,u)}throw Error(t(156,o.tag))};function Up(s,o){return xh(s,o)}function Xw(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(s,o,u,f){return new Xw(s,o,u,f)}function _u(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Qw(s){if(typeof s=="function")return _u(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===ae)return 14}return 2}function Cr(s,o){var u=s.alternate;return u===null?(u=dn(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Ia(s,o,u,f,m,w){var k=2;if(f=s,typeof s=="function")_u(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case D:return Qr(u.children,m,w,o);case $:k=8,m|=8;break;case L:return s=dn(12,u,o,m|2),s.elementType=L,s.lanes=w,s;case ne:return s=dn(13,u,o,m),s.elementType=ne,s.lanes=w,s;case le:return s=dn(19,u,o,m),s.elementType=le,s.lanes=w,s;case oe:return La(u,m,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:k=10;break e;case F:k=9;break e;case V:k=11;break e;case ae:k=14;break e;case he:k=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=dn(k,u,o,m),o.elementType=s,o.type=f,o.lanes=w,o}function Qr(s,o,u,f){return s=dn(7,s,f,o),s.lanes=u,s}function La(s,o,u,f){return s=dn(22,s,f,o),s.elementType=oe,s.lanes=u,s.stateNode={},s}function xu(s,o,u){return s=dn(6,s,null,o),s.lanes=u,s}function Su(s,o,u){return o=dn(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Zw(s,o,u,f,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ku(s,o,u,f,m,w,k,C,A){return s=new Zw(s,o,u,C,A),o===1?(o=1,w===!0&&(o|=8)):o=0,w=dn(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null},Mc(w),s}function eb(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function Hp(s){if(!s)return wr;s=s._reactInternals;e:{if(Br(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Ft(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(Ft(u))return vf(s,u,o)}return o}function Wp(s,o,u,f,m,w,k,C,A){return s=ku(u,f,!0,s,m,w,k,C,A),s.context=Hp(null),u=s.current,f=Rt(),m=Er(u),w=Jn(f,m),w.callback=o??null,xr(u,w),s.current.lanes=m,pi(s,m,f),Ut(s,f),s}function $a(s,o,u,f){var m=o.current,w=Rt(),k=Er(m);return u=Hp(u),o.context===null?o.context=u:o.pendingContext=u,o=Jn(w,k),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),xr(m,o),s=un(m,k,w),s!==null&&aa(s,m,k),k}function Fa(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Vp(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Eu(s,o){Vp(s,o),(s=s.alternate)&&Vp(s,o)}function tb(){return null}var qp=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tu(s){this._internalRoot=s}za.prototype.render=Tu.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));$a(s,o,null,null)},za.prototype.unmount=Tu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Gr(function(){$a(null,s,null,null)}),o[Yn]=null}};function za(s){this._internalRoot=s}za.prototype.unstable_scheduleHydration=function(s){if(s){var o=Nh();s={blockedOn:null,target:s,priority:o};for(var u=0;u<gr.length&&o!==0&&o<gr[u].priority;u++);gr.splice(u,0,s),u===0&&Dh(s)}};function Cu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ba(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Kp(){}function nb(s,o,u,f,m){if(m){if(typeof f=="function"){var w=f;f=function(){var H=Fa(k);w.call(H)}}var k=Wp(o,f,s,0,null,!1,!1,"",Kp);return s._reactRootContainer=k,s[Yn]=k.current,ji(s.nodeType===8?s.parentNode:s),Gr(),k}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var C=f;f=function(){var H=Fa(A);C.call(H)}}var A=ku(s,0,!1,null,null,!1,!1,"",Kp);return s._reactRootContainer=A,s[Yn]=A.current,ji(s.nodeType===8?s.parentNode:s),Gr(function(){$a(o,A,u,f)}),A}function Ua(s,o,u,f,m){var w=u._reactRootContainer;if(w){var k=w;if(typeof m=="function"){var C=m;m=function(){var A=Fa(k);C.call(A)}}$a(o,k,s,m)}else k=nb(u,o,s,m,f);return Fa(k)}Ch=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=fi(o.pendingLanes);u!==0&&(nc(o,u|1),Ut(o,et()),(Ne&6)===0&&(Is=et()+500,br()))}break;case 13:var f=Rt();Gr(function(){return un(s,1,f)}),Eu(s,1)}},rc=function(s){if(s.tag===13){var o=Rt();un(s,134217728,o),Eu(s,134217728)}},jh=function(s){if(s.tag===13){var o=Rt(),u=Er(s);un(s,u,o),Eu(s,u)}},Nh=function(){return Ie},Oh=function(s,o){var u=Ie;try{return Ie=s,o()}finally{Ie=u}},di=function(s,o,u){switch(o){case"input":if(_e(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var m=ta(f);if(!m)throw Error(t(90));At(f),_e(f,m)}}}break;case"textarea":Rn(s,u);break;case"select":o=u.value,o!=null&&Me(s,!!u.multiple,o,!1)}},Nt=vu,bt=Gr;var rb={usingClientEntryPoint:!1,Events:[Ri,Ss,ta,wt,wn,vu]},qi={findFiberByHostInstance:Ur,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},sb={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=bh(s),s===null?null:s.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{Lo=Ha.inject(sb),An=Ha}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb,Wt.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(o))throw Error(t(200));return eb(s,o,null,u)},Wt.createRoot=function(s,o){if(!Cu(s))throw Error(t(299));var u=!1,f="",m=qp;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=ku(s,1,!1,null,null,u,!1,f,m),s[Yn]=o.current,ji(s.nodeType===8?s.parentNode:s),new Tu(o)},Wt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=bh(o),s=s===null?null:s.stateNode,s},Wt.flushSync=function(s){return Gr(s)},Wt.hydrate=function(s,o,u){if(!Ba(o))throw Error(t(200));return Ua(null,s,o,!0,u)},Wt.hydrateRoot=function(s,o,u){if(!Cu(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,w="",k=qp;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),o=Wp(o,null,s,1,u??null,m,!1,w,k),s[Yn]=o.current,ji(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new za(o)},Wt.render=function(s,o,u){if(!Ba(o))throw Error(t(200));return Ua(null,s,o,!1,u)},Wt.unmountComponentAtNode=function(s){if(!Ba(s))throw Error(t(40));return s._reactRootContainer?(Gr(function(){Ua(null,null,s,!1,function(){s._reactRootContainer=null,s[Yn]=null})}),!0):!1},Wt.unstable_batchedUpdates=vu,Wt.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!Ba(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ua(s,o,u,!1,f)},Wt.version="18.0.0-fc46dba67-20220329",Wt}var tg;function sy(){if(tg)return Ou.exports;tg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ou.exports=gb(),Ou.exports}var ng;function mb(){if(ng)return Wa;ng=1;var n=sy();return Wa.createRoot=n.createRoot,Wa.hydrateRoot=n.hydrateRoot,Wa}var yb=mb();const vb=Dd(yb);function iy({selectedDate:n,onSelectDate:e,minDate:t}){const[r,i]=T.useState(!1),[a,l]=T.useState(new Date),c=T.useRef(null);T.useEffect(()=>{const L=B=>{c.current&&!c.current.contains(B.target)&&i(!1)};return r&&document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[r]);const d=L=>{if(!L)return"Select date";const[B,F,V]=L.split("-").map(Number);return new Date(B,F-1,V).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},h=L=>{const B=L.getFullYear(),F=L.getMonth(),V=new Date(B,F,1),le=new Date(B,F+1,0).getDate(),ae=V.getDay();return{daysInMonth:le,startingDayOfWeek:ae,year:B,month:F}},{daysInMonth:p,startingDayOfWeek:y,year:v,month:b}=h(a),_=()=>{l(new Date(a.getFullYear(),a.getMonth()-1))},S=()=>{l(new Date(a.getFullYear(),a.getMonth()+1))},x=L=>{const B=a.getFullYear(),F=String(a.getMonth()+1).padStart(2,"0"),V=String(L).padStart(2,"0"),ne=`${B}-${F}-${V}`;e(ne),i(!1)},E=L=>{if(!t)return!1;const B=new Date(v,b,L),[F,V,ne]=t.split("-").map(Number),le=new Date(F,V-1,ne);return B<le},N=L=>{if(!n)return!1;const[B,F,V]=n.split("-").map(Number);return v===B&&b===F-1&&L===V},j=L=>{const B=new Date;return v===B.getFullYear()&&b===B.getMonth()&&L===B.getDate()},O=[],P=42,I=new Date(v,b,0).getDate();for(let L=y-1;L>=0;L--)O.push({day:I-L,isCurrentMonth:!1,isNextMonth:!1});for(let L=1;L<=p;L++)O.push({day:L,isCurrentMonth:!0,isNextMonth:!1});const D=P-O.length;for(let L=1;L<=D;L++)O.push({day:L,isCurrentMonth:!1,isNextMonth:!0});const $=["January","February","March","April","May","June","July","August","September","October","November","December"];return g.jsxs("div",{className:"calendar-picker-wrapper",ref:c,children:[g.jsxs("button",{type:"button",className:"calendar-trigger",onClick:()=>i(!r),children:[g.jsx("span",{className:"calendar-icon",children:""}),g.jsx("span",{className:"calendar-display-date",children:d(n)}),g.jsx("span",{className:"calendar-arrow",children:r?"":""})]}),r&&g.jsxs("div",{className:"calendar-dropdown",children:[g.jsxs("div",{className:"calendar-header",children:[g.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:_,children:""}),g.jsxs("div",{className:"calendar-month-year",children:[$[b]," ",v]}),g.jsx("button",{type:"button",className:"calendar-nav-btn",onClick:S,children:""})]}),g.jsx("div",{className:"calendar-weekdays",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(L=>g.jsx("div",{className:"calendar-weekday",children:L},L))}),g.jsx("div",{className:"calendar-days-grid",children:O.map((L,B)=>g.jsx("button",{type:"button",className:`calendar-day ${L.isCurrentMonth?"":"other-month"} ${N(L.day)&&L.isCurrentMonth?"selected":""} ${j(L.day)&&L.isCurrentMonth?"today":""} ${E(L.day)&&L.isCurrentMonth?"disabled":""}`,onClick:()=>L.isCurrentMonth&&!E(L.day)&&x(L.day),disabled:!L.isCurrentMonth||E(L.day),children:L.day},B))})]})]})}function oy({selectedCategory:n,onSelectCategory:e}){const[t,r]=T.useState(!1),[i,a]=T.useState(""),[l,c]=T.useState(!1),d=T.useRef(null),h=[{value:"",label:"No Category"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Coding",label:"Coding"},{value:"Shopping",label:"Shopping"},{value:"Health",label:"Health"},{value:"Hydration",label:"Hydration"},{value:"Food",label:"Food"},{value:"Finance",label:"Finance"},{value:"Education",label:"Education"},{value:"Relationship",label:"Relationship"},{value:"Travel",label:"Travel"},{value:"Home",label:"Home"},{value:"Social",label:"Social"}];T.useEffect(()=>{const _=S=>{d.current&&!d.current.contains(S.target)&&(r(!1),c(!1),a(""))};return t&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[t]);const p=_=>{e(_),r(!1),c(!1),a("")},y=()=>{i.trim()&&(e(i.trim()),r(!1),c(!1),a(""))},v=_=>{_.key==="Enter"?y():_.key==="Escape"&&(c(!1),a(""))},b=n||"Category";return h.some(_=>_.value===n),g.jsxs("div",{className:"category-picker-wrapper",ref:d,children:[g.jsxs("button",{type:"button",className:"category-trigger",onClick:()=>r(!t),children:[g.jsx("span",{className:"category-icon",children:""}),g.jsx("span",{className:"category-display-text",children:b}),g.jsx("span",{className:"category-arrow",children:t?"":""})]}),t&&g.jsx("div",{className:"category-dropdown",children:l?g.jsxs("div",{className:"category-custom-input-wrapper",children:[g.jsx("input",{type:"text",className:"category-custom-input",placeholder:"Enter custom category...",value:i,onChange:_=>a(_.target.value),onKeyDown:v,autoFocus:!0}),g.jsxs("div",{className:"category-custom-actions",children:[g.jsx("button",{type:"button",className:"category-custom-save",onClick:y,children:"Save"}),g.jsx("button",{type:"button",className:"category-custom-cancel",onClick:()=>{c(!1),a("")},children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"category-list",children:h.map(_=>g.jsxs("button",{type:"button",className:`category-option ${n===_.value?"selected":""}`,onClick:()=>p(_.value),children:[g.jsx("span",{className:"category-check",children:n===_.value?"":""}),g.jsx("span",{className:"category-label",children:_.label})]},_.value))}),g.jsx("div",{className:"category-divider"}),g.jsxs("button",{type:"button",className:"category-custom-btn",onClick:()=>c(!0),children:[g.jsx("span",{className:"category-plus",children:"+"}),g.jsx("span",{children:"Custom Category"})]})]})})]})}const wb=Array.from({length:12},(n,e)=>e+1),bb=[0,5,10,15,20,25,30,35,40,45,50,55],Ad=({selectedTime:n,onSelectTime:e})=>{const[t,r]=T.useState(!1),[i,a]=T.useState(12),[l,c]=T.useState(0),[d,h]=T.useState("AM"),p=T.useRef(null);T.useEffect(()=>{if(!n)return;const[_,S]=n.split(":").map(Number),x=_>=12?"PM":"AM",E=_%12||12;a(E),c(S||0),h(x)},[n]),T.useEffect(()=>{const _=S=>{p.current&&!p.current.contains(S.target)&&r(!1)};return t&&document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[t]);const y=()=>`${i%12||12}:${String(l).padStart(2,"0")} ${d}`,v=()=>{let _=i%12;d==="PM"&&(_+=12);const S=`${String(_).padStart(2,"0")}:${String(l).padStart(2,"0")}`;e(S),r(!1)},b=()=>{e(""),r(!1)};return g.jsxs("div",{className:"time-picker-wrapper",ref:p,children:[g.jsxs("button",{className:"time-trigger",type:"button",onClick:()=>r(_=>!_),children:[g.jsx("span",{className:"time-icon",children:""}),g.jsx("span",{className:"time-display",children:n?y():"Select time"}),g.jsx("span",{className:"time-arrow",children:t?"":""})]}),t&&g.jsxs("div",{className:"time-dropdown compact",children:[g.jsx("div",{className:"time-picker-header",children:g.jsx("span",{className:"time-picker-title",children:"Pick a time"})}),g.jsxs("div",{className:"time-picker-body",children:[g.jsxs("div",{className:"compact-clock",children:[g.jsxs("svg",{className:"clock-face",viewBox:"0 0 160 160",children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"clockGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[g.jsx("stop",{offset:"0%",style:{stopColor:"#73ABFF",stopOpacity:1}}),g.jsx("stop",{offset:"100%",style:{stopColor:"#5A8FE6",stopOpacity:1}})]})}),g.jsx("circle",{cx:"80",cy:"80",r:"70",fill:"none",stroke:"rgba(115, 171, 255, 0.2)",strokeWidth:"2"}),wb.map(_=>{const S=_%12/12*2*Math.PI-Math.PI/2,x=52,E=80+x*Math.cos(S),N=80+x*Math.sin(S),j=i===_;return g.jsxs("g",{children:[g.jsx("circle",{cx:E,cy:N,r:"13",className:`clock-number ${j?"selected":""}`,onClick:()=>a(_)}),g.jsx("text",{x:E,y:N,textAnchor:"middle",dominantBaseline:"middle",className:`clock-text ${j?"selected":""}`,pointerEvents:"none",children:_})]},_)})]}),g.jsxs("div",{className:"period-toggle-clock",children:[g.jsx("button",{type:"button",className:`period-btn ${d==="AM"?"selected":""}`,onClick:()=>h("AM"),children:"AM"}),g.jsx("button",{type:"button",className:`period-btn ${d==="PM"?"selected":""}`,onClick:()=>h("PM"),children:"PM"})]})]}),g.jsxs("div",{className:"minute-stack",children:[g.jsx("span",{className:"minute-label",children:"Minutes"}),g.jsx("div",{className:"minute-grid compact",children:bb.map(_=>g.jsx("button",{type:"button",className:`minute-btn ${l===_?"selected":""}`,onClick:()=>c(_),children:String(_).padStart(2,"0")},_))}),g.jsxs("div",{className:"time-current-selection",children:[i,":",String(l).padStart(2,"0")," ",d]})]})]}),g.jsxs("div",{className:"time-picker-actions",children:[g.jsx("button",{type:"button",className:"time-clear-btn",onClick:b,children:"Clear"}),g.jsx("button",{type:"button",className:"time-apply-btn",onClick:v,children:"Apply"})]})]})]})};function _b({selectedDuration:n,onSelectDuration:e}){const[t,r]=T.useState(!1),i=T.useRef(null);T.useEffect(()=>{const h=p=>{i.current&&!i.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t]);const a=h=>{if(!h)return"Duration";if(h<60)return`${h} min`;if(h===60)return"1 hour";if(h%60===0)return`${h/60} hours`;const p=Math.floor(h/60),y=h%60;return`${p}h ${y}m`},l=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"45 min",value:45},{label:"1 hour",value:60},{label:"1.5 hours",value:90},{label:"2 hours",value:120},{label:"3 hours",value:180},{label:"4 hours",value:240}],c=h=>{e(h),r(!1)},d=()=>{e(void 0),r(!1)};return g.jsxs("div",{className:"duration-picker-wrapper",ref:i,children:[g.jsxs("button",{type:"button",className:"duration-trigger",onClick:()=>r(!t),children:[g.jsx("span",{className:"duration-icon",children:""}),g.jsx("span",{className:"duration-display",children:a(n)}),g.jsx("span",{className:"duration-arrow",children:t?"":""})]}),t&&g.jsxs("div",{className:"duration-dropdown",children:[g.jsx("div",{className:"duration-picker-header",children:g.jsx("span",{className:"duration-picker-title",children:"Task Duration"})}),g.jsx("div",{className:"duration-presets-grid",children:l.map(h=>g.jsx("button",{type:"button",className:`duration-preset-btn ${n===h.value?"selected":""}`,onClick:()=>c(h.value),children:h.label},h.value))}),g.jsx("div",{className:"duration-picker-actions",children:g.jsx("button",{type:"button",className:"duration-clear-btn",onClick:d,children:"Clear"})})]})]})}function ay({selectedPriority:n,onSelectPriority:e}){const[t,r]=T.useState(!1),i=T.useRef(null),a=[{value:"low",label:"Low",icon:"",description:"No rush"},{value:"medium",label:"Medium",icon:"",description:"Moderate importance"},{value:"high",label:"High",icon:"",description:"Urgent"}];T.useEffect(()=>{const h=p=>{i.current&&!i.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t]);const l=h=>{e(h),r(!1)},d=a.find(p=>p.value===n)||a[1];return g.jsxs("div",{className:"priority-picker-wrapper",ref:i,children:[g.jsxs("button",{type:"button",className:`priority-trigger priority-trigger-${n}`,onClick:()=>r(!t),children:[g.jsx("span",{className:"priority-trigger-icon",children:d.icon}),g.jsxs("span",{className:"priority-trigger-text",children:[d.label," Priority"]}),g.jsx("span",{className:"priority-arrow",children:t?"":""})]}),t&&g.jsxs("div",{className:"priority-dropdown",children:[g.jsx("div",{className:"priority-header",children:g.jsx("span",{className:"priority-title",children:"Select Priority"})}),g.jsx("div",{className:"priority-options",children:a.map(h=>g.jsxs("button",{type:"button",className:`priority-option priority-option-${h.value} ${n===h.value?"selected":""}`,onClick:()=>l(h.value),children:[g.jsx("span",{className:"priority-option-icon",children:h.icon}),g.jsxs("div",{className:"priority-option-content",children:[g.jsx("span",{className:"priority-option-label",children:h.label}),g.jsx("span",{className:"priority-option-description",children:h.description})]}),n===h.value&&g.jsx("span",{className:"priority-check",children:""})]},h.value))})]})]})}function ly({selectedReminder:n,onSelectReminder:e}){const[t,r]=T.useState(!1),i=T.useRef(null),a=[{value:"",label:"No Reminder",icon:"",description:"No notification"},{value:"5",label:"5 minutes",icon:"",description:"5 min before"},{value:"15",label:"15 minutes",icon:"",description:"15 min before"},{value:"30",label:"30 minutes",icon:"",description:"30 min before"},{value:"60",label:"1 hour",icon:"",description:"1 hour before"},{value:"1440",label:"1 day",icon:"",description:"1 day before"}];T.useEffect(()=>{const h=p=>{i.current&&!i.current.contains(p.target)&&r(!1)};return t&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[t]);const l=h=>{e(h),r(!1)},d=a.find(p=>String(p.value)===String(n))||a[0];return g.jsxs("div",{className:"reminder-picker-wrapper",ref:i,children:[g.jsxs("button",{type:"button",className:"reminder-trigger",onClick:()=>r(!t),children:[g.jsx("span",{className:"reminder-trigger-icon",children:d.icon}),g.jsx("span",{className:"reminder-trigger-text",children:d.label}),g.jsx("span",{className:"reminder-arrow",children:t?"":""})]}),t&&g.jsxs("div",{className:"reminder-dropdown",children:[g.jsx("div",{className:"reminder-header",children:g.jsx("span",{className:"reminder-title",children:"Set Reminder"})}),g.jsx("div",{className:"reminder-options",children:a.map(h=>g.jsxs("button",{type:"button",className:`reminder-option ${String(n)===String(h.value)?"selected":""}`,onClick:()=>l(h.value),children:[g.jsx("span",{className:"reminder-option-icon",children:h.icon}),g.jsxs("div",{className:"reminder-option-content",children:[g.jsx("span",{className:"reminder-option-label",children:h.label}),g.jsx("span",{className:"reminder-option-description",children:h.description})]}),String(n)===String(h.value)&&g.jsx("span",{className:"reminder-check",children:""})]},h.value))})]})]})}function xb({selectedRecurrence:n,onSelectRecurrence:e}){var c,d;const[t,r]=T.useState(!1),i=[{value:"none",label:"Does not repeat",icon:""},{value:"daily",label:"Daily",icon:""},{value:"weekly",label:"Weekly",icon:""},{value:"biweekly",label:"Every 2 weeks",icon:""},{value:"monthly",label:"Monthly",icon:""},{value:"yearly",label:"Yearly",icon:""}],a=()=>i.find(h=>h.value===(n||"none")),l=h=>{e(h==="none"?null:h),r(!1)};return g.jsxs("div",{className:"recurrence-picker",children:[g.jsxs("button",{type:"button",className:"picker-button",onClick:()=>r(!t),title:"Set recurrence",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{className:"picker-icon",children:(c=a())==null?void 0:c.icon}),g.jsx("span",{className:"picker-label",children:(d=a())==null?void 0:d.label})]}),g.jsx("span",{className:"picker-arrow",children:t?"":""})]}),t&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"picker-overlay",onClick:()=>r(!1)}),g.jsx("div",{className:"recurrence-dropdown picker-dropdown",children:i.map(h=>g.jsxs("button",{type:"button",className:`recurrence-option picker-option ${(n||"none")===h.value?"selected":""}`,onClick:()=>l(h.value),children:[g.jsx("span",{className:"option-icon",children:h.icon}),g.jsx("span",{className:"option-label",children:h.label}),(n||"none")===h.value&&g.jsx("span",{className:"option-check",children:""})]},h.value))})]})]})}function Sb({onTranscript:n,onInterimTranscript:e,onError:t,onAddTask:r,inputValue:i=""}){const[a,l]=T.useState(!1),[c,d]=T.useState(!0),[h,p]=T.useState(!1);T.useEffect(()=>{h&&i===""&&p(!1)},[i,h]);const y=T.useRef(null),v=T.useRef(""),b=T.useRef(!1),_=T.useRef(n),S=T.useRef(e),x=T.useRef(t),E=T.useRef(r);T.useEffect(()=>{_.current=n,S.current=e,x.current=t,E.current=r},[n,e,t,r]),T.useEffect(()=>{const j=window.SpeechRecognition||window.webkitSpeechRecognition;if(!j){d(!1);return}const O=new j;return O.continuous=!1,O.interimResults=!0,O.lang="en-US",O.maxAlternatives=1,O.onresult=P=>{let I="",D=v.current;for(let L=P.resultIndex;L<P.results.length;L++){const B=P.results[L][0].transcript;P.results[L].isFinal?D+=B+" ":I+=B}v.current=D;const $=D+I;$&&S.current&&S.current($),D&&_.current&&_.current(D.trim())},O.onerror=P=>{if(P.error!=="no-speech"&&(l(!1),x.current)){let I="Voice recognition failed";if(P.error==="aborted")return;P.error==="not-allowed"?I="Microphone access denied. Please enable it in your browser settings.":P.error==="network"&&(I="Network error. Please check your connection."),x.current(I)}},O.onend=()=>{l(!1),b.current=!1,v.current&&_.current&&(_.current(v.current.trim()),p(!0)),v.current=""},y.current=O,()=>{y.current&&y.current.abort()}},[]);const N=()=>{var j,O;if(!c){x.current&&x.current("Voice recognition is not supported in your browser. Please try Chrome or Edge.");return}if(h){E.current&&E.current(),p(!1);return}if(a)(j=y.current)==null||j.stop(),l(!1),b.current=!1;else try{(O=y.current)==null||O.start(),l(!0),b.current=!0}catch{x.current&&x.current("Failed to start voice recognition. Please try again.")}};return c?g.jsxs("div",{className:"voice-input-wrapper",children:[g.jsx("button",{type:"button",className:`voice-input-btn ${a?"listening":""} ${h?"add-task":""}`,onClick:N,title:h?"Click to add task":a?"Click to stop":"Add task by voice",children:h?g.jsx("span",{className:"add-task-text",children:" Add Task"}):a?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mic-icon recording",children:""}),g.jsx("span",{className:"recording-pulse"})]}):g.jsx("span",{className:"mic-icon",children:""})}),a&&g.jsx("span",{className:"listening-indicator",children:"Listening..."})]}):null}function Pu({addTask:n}){const[e,t]=T.useState(""),[r,i]=T.useState("medium"),[a,l]=T.useState(""),[c,d]=T.useState(""),[h,p]=T.useState(void 0),[y,v]=T.useState(""),[b,_]=T.useState("15"),[S,x]=T.useState(null),[E,N]=T.useState(""),j=()=>{const L=new Date,B=L.getFullYear(),F=String(L.getMonth()+1).padStart(2,"0"),V=String(L.getDate()).padStart(2,"0");return`${B}-${F}-${V}`},O=L=>{L.preventDefault(),e.trim()&&(n({text:e,priority:r,dueDate:a||j(),dueTime:c,category:y.trim(),reminderMinutes:b?parseInt(b.toString()):null,recurrence:S,scheduledDuration:h}),t(""),i("medium"),l(""),d(""),p(void 0),v(""),_("15"),x(null))},P=L=>{t(L),N("")},I=L=>{t(L)},D=L=>{N(L),setTimeout(()=>N(""),5e3)},$=()=>{e.trim()&&O({preventDefault:()=>{}})};return g.jsxs("form",{className:"todo-form",onSubmit:O,children:[g.jsxs("div",{className:"form-row",children:[g.jsxs("div",{className:"input-with-voice",children:[g.jsx("input",{type:"text",className:"todo-input",placeholder:"Add a new task...",value:e,onChange:L=>t(L.target.value),required:!0}),g.jsx(Sb,{onTranscript:P,onInterimTranscript:I,onError:D,onAddTask:$,inputValue:e})]}),E&&g.jsx("p",{className:"voice-error",children:E})]}),g.jsxs("div",{className:"form-row form-options",children:[g.jsx(ay,{selectedPriority:r,onSelectPriority:i}),g.jsx(iy,{selectedDate:a,onSelectDate:l,minDate:j()}),g.jsx(Ad,{selectedTime:c,onSelectTime:d}),g.jsx(_b,{selectedDuration:h,onSelectDuration:p}),g.jsx(oy,{selectedCategory:y,onSelectCategory:v}),g.jsx(ly,{selectedReminder:b,onSelectReminder:_}),g.jsx(xb,{selectedRecurrence:S,onSelectRecurrence:x}),g.jsx("button",{type:"submit",className:"todo-button",children:"Add Task"})]})]})}function kb({task:n,onUpdateTime:e}){const[t,r]=T.useState(n.timeSpent||0);T.useEffect(()=>{if(n.isTracking&&n.trackingStartTime){const c=setInterval(()=>{const d=Math.floor((Date.now()-n.trackingStartTime)/1e3);r((n.timeSpent||0)+d)},1e3);return()=>clearInterval(c)}else r(n.timeSpent||0)},[n.isTracking,n.trackingStartTime,n.timeSpent]);const i=c=>{if(c<60)return`${c}s`;if(c<3600){const d=Math.floor(c/60),h=c%60;return h>0?`${d}m ${h}s`:`${d}m`}else{const d=Math.floor(c/3600),h=Math.floor(c%3600/60);return h>0?`${d}h ${h}m`:`${d}h`}},a=()=>{if(n.isTracking){const c=Math.floor((Date.now()-(n.trackingStartTime||0))/1e3),d=(n.timeSpent||0)+c;e(n.id,{timeSpent:d,isTracking:!1,trackingStartTime:null})}else e(n.id,{timeSpent:n.timeSpent||0,isTracking:!0,trackingStartTime:Date.now()})},l=()=>{e(n.id,{timeSpent:0,isTracking:!1,trackingStartTime:null})};return g.jsxs("div",{className:"time-tracker",children:[g.jsxs("div",{className:"time-display",children:[g.jsx("span",{className:"time-icon",children:n.isTracking?"":""}),g.jsx("span",{className:"time-value",children:i(t)})]}),g.jsxs("div",{className:"time-controls",children:[g.jsx("button",{className:`time-btn ${n.isTracking?"btn-stop":"btn-start"}`,onClick:a,disabled:n.completed,title:n.isTracking?"Stop timer":"Start timer",children:n.isTracking?"":""}),t>0&&g.jsx("button",{className:"time-btn btn-reset",onClick:l,disabled:n.isTracking,title:"Reset timer",children:""})]})]})}function oo({task:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a}){const[l,c]=T.useState(!1),[d,h]=T.useState(n.text),[p,y]=T.useState(n.priority||"medium"),[v,b]=T.useState(n.dueDate||""),[_,S]=T.useState(n.dueTime||""),[x,E]=T.useState(n.category||""),[N,j]=T.useState(n.reminderMinutes||""),O=()=>{d.trim()&&(r(n.id,{text:d,priority:p,dueDate:v,dueTime:_,category:x.trim(),reminderMinutes:N?parseInt(N.toString()):null}),c(!1))},P=()=>{h(n.text),y(n.priority||"medium"),b(n.dueDate||""),S(n.dueTime||""),E(n.category||""),j(n.reminderMinutes||""),c(!1)},I=()=>`priority-${n.priority||"medium"}`,D=()=>{if(!n.dueDate||n.completed)return!1;const F=new Date,[V,ne,le]=n.dueDate.split("-").map(Number),ae=new Date(V,ne-1,le);if(n.dueTime){const[he,oe]=n.dueTime.split(":");ae.setHours(parseInt(he),parseInt(oe),0,0)}return ae<F},$=F=>{if(!F)return"";const[V,ne,le]=F.split("-").map(Number);return new Date(V,ne-1,le).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},L=F=>{if(!F)return"";const[V,ne]=F.split(":"),le=parseInt(V),ae=le>=12?"PM":"AM";return`${le%12||12}:${ne} ${ae}`},B=F=>F?F<60?`${F} min before`:F===60?"1 hour before":F===1440?"1 day before":`${Math.floor(F/60)} hours before`:"";return g.jsx("div",{className:`todo-item ${n.completed?"completed":""} ${I()} ${D()?"overdue":""}`,children:l?g.jsxs("div",{className:"todo-edit",children:[g.jsx("input",{type:"text",className:"todo-edit-input",value:d,onChange:F=>h(F.target.value),onKeyPress:F=>F.key==="Enter"&&O()}),g.jsxs("div",{className:"edit-options",children:[g.jsx(ay,{selectedPriority:p,onSelectPriority:y}),g.jsx(iy,{selectedDate:v,onSelectDate:b,minDate:""}),g.jsx(Ad,{selectedTime:_,onSelectTime:S}),g.jsx(oy,{selectedCategory:x,onSelectCategory:E}),g.jsx(ly,{selectedReminder:N,onSelectReminder:j})]}),g.jsxs("div",{className:"todo-edit-actions",children:[g.jsx("button",{className:"btn-save",onClick:O,children:"Save"}),g.jsx("button",{className:"btn-cancel",onClick:P,children:"Cancel"})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"todo-content",children:[g.jsx("input",{type:"checkbox",className:"todo-checkbox",checked:n.completed,onChange:()=>e(n.id)}),g.jsxs("div",{className:"todo-details",children:[g.jsxs("div",{className:"todo-text-row",children:[g.jsx("span",{className:"todo-text",children:n.text}),n.recurrence&&g.jsxs("span",{className:"recurring-indicator",children:[g.jsx("span",{className:"recurring-indicator-icon",children:""}),n.recurrence==="daily"&&"Daily",n.recurrence==="weekly"&&"Weekly",n.recurrence==="biweekly"&&"Biweekly",n.recurrence==="monthly"&&"Monthly",n.recurrence==="yearly"&&"Yearly"]})]}),g.jsxs("div",{className:"todo-meta",children:[g.jsx("span",{className:`priority-badge priority-badge-${n.priority||"medium"}`,children:(n.priority||"medium").toUpperCase()}),n.category&&g.jsx("span",{className:"category-tag",children:n.category}),n.dueDate&&g.jsxs("span",{className:`due-date ${D()?"overdue-text":""}`,children:["Due: ",$(n.dueDate),n.dueTime&&` at ${L(n.dueTime)}`,D()&&" "]}),n.reminderMinutes&&!n.completed&&g.jsxs("span",{className:"reminder-badge",children:[" ",B(n.reminderMinutes)]})]})]})]}),g.jsx(kb,{task:n,onUpdateTime:i}),g.jsxs("div",{className:"todo-actions",children:[a&&!n.completed&&g.jsx("button",{className:"btn-focus",onClick:()=>a(n),title:"Enter Focus Mode",children:" Focus"}),g.jsx("button",{className:"btn-edit",onClick:()=>c(!0),disabled:n.completed,children:"Edit"}),g.jsx("button",{className:"btn-delete",onClick:()=>t(n.id),children:"Delete"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function To(n){return n+.5|0}const Pr=(n,e,t)=>Math.max(Math.min(n,t),e);function Zi(n){return Pr(To(n*2.55),0,255)}function Ir(n){return Pr(To(n*255),0,255)}function ir(n){return Pr(To(n/2.55)/100,0,1)}function rg(n){return Pr(To(n*100),0,100)}const hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},od=[..."0123456789ABCDEF"],Eb=n=>od[n&15],Tb=n=>od[(n&240)>>4]+od[n&15],Va=n=>(n&240)>>4===(n&15),Cb=n=>Va(n.r)&&Va(n.g)&&Va(n.b)&&Va(n.a);function jb(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&hn[n[1]]*17,g:255&hn[n[2]]*17,b:255&hn[n[3]]*17,a:e===5?hn[n[4]]*17:255}:(e===7||e===9)&&(t={r:hn[n[1]]<<4|hn[n[2]],g:hn[n[3]]<<4|hn[n[4]],b:hn[n[5]]<<4|hn[n[6]],a:e===9?hn[n[7]]<<4|hn[n[8]]:255})),t}const Nb=(n,e)=>n<255?e(n):"";function Ob(n){var e=Cb(n)?Eb:Tb;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Nb(n.a,e):void 0}const Rb=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cy(n,e,t){const r=e*Math.min(t,1-t),i=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function Db(n,e,t){const r=(i,a=(i+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function Pb(n,e,t){const r=cy(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function Ab(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Md(n){const t=n.r/255,r=n.g/255,i=n.b/255,a=Math.max(t,r,i),l=Math.min(t,r,i),c=(a+l)/2;let d,h,p;return a!==l&&(p=a-l,h=c>.5?p/(2-a-l):p/(a+l),d=Ab(t,r,i,p,a),d=d*60+.5),[d|0,h||0,c]}function Id(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Ir)}function Ld(n,e,t){return Id(cy,n,e,t)}function Mb(n,e,t){return Id(Pb,n,e,t)}function Ib(n,e,t){return Id(Db,n,e,t)}function uy(n){return(n%360+360)%360}function Lb(n){const e=Rb.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Zi(+e[5]):Ir(+e[5]));const i=uy(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=Mb(i,a,l):e[1]==="hsv"?r=Ib(i,a,l):r=Ld(i,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function $b(n,e){var t=Md(n);t[0]=uy(t[0]+e),t=Ld(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Fb(n){if(!n)return;const e=Md(n),t=e[0],r=rg(e[1]),i=rg(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${ir(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const sg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ig={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function zb(){const n={},e=Object.keys(ig),t=Object.keys(sg);let r,i,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],i=0;i<t.length;i++)a=t[i],c=c.replace(a,sg[a]);a=parseInt(ig[l],16),n[c]=[a>>16&255,a>>8&255,a&255]}return n}let qa;function Bb(n){qa||(qa=zb(),qa.transparent=[0,0,0,0]);const e=qa[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ub=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Hb(n){const e=Ub.exec(n);let t=255,r,i,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?Zi(l):Pr(l*255,0,255)}return r=+e[1],i=+e[3],a=+e[5],r=255&(e[2]?Zi(r):Pr(r,0,255)),i=255&(e[4]?Zi(i):Pr(i,0,255)),a=255&(e[6]?Zi(a):Pr(a,0,255)),{r,g:i,b:a,a:t}}}function Wb(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ir(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Au=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,$s=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Vb(n,e,t){const r=$s(ir(n.r)),i=$s(ir(n.g)),a=$s(ir(n.b));return{r:Ir(Au(r+t*($s(ir(e.r))-r))),g:Ir(Au(i+t*($s(ir(e.g))-i))),b:Ir(Au(a+t*($s(ir(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Ka(n,e,t){if(n){let r=Md(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Ld(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function dy(n,e){return n&&Object.assign(e||{},n)}function og(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ir(n[3]))):(e=dy(n,{r:0,g:0,b:0,a:1}),e.a=Ir(e.a)),e}function qb(n){return n.charAt(0)==="r"?Hb(n):Lb(n)}class mo{constructor(e){if(e instanceof mo)return e;const t=typeof e;let r;t==="object"?r=og(e):t==="string"&&(r=jb(e)||Bb(e)||qb(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=dy(this._rgb);return e&&(e.a=ir(e.a)),e}set rgb(e){this._rgb=og(e)}rgbString(){return this._valid?Wb(this._rgb):void 0}hexString(){return this._valid?Ob(this._rgb):void 0}hslString(){return this._valid?Fb(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let a;const l=t===a?.5:t,c=2*l-1,d=r.a-i.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-h,r.r=255&h*r.r+a*i.r+.5,r.g=255&h*r.g+a*i.g+.5,r.b=255&h*r.b+a*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=Vb(this._rgb,e._rgb,t)),this}clone(){return new mo(this.rgb)}alpha(e){return this._rgb.a=Ir(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=To(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ka(this._rgb,2,e),this}darken(e){return Ka(this._rgb,2,-e),this}saturate(e){return Ka(this._rgb,1,e),this}desaturate(e){return Ka(this._rgb,1,-e),this}rotate(e){return $b(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function tr(){}const Kb=(()=>{let n=0;return()=>n++})();function Fe(n){return n==null}function ct(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Re(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function mn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function zn(n,e){return mn(n)?n:e}function Oe(n,e){return typeof n>"u"?e:n}const Yb=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,hy=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function qe(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Le(n,e,t,r){let i,a,l;if(ct(n))for(a=n.length,i=0;i<a;i++)e.call(t,n[i],i);else if(Re(n))for(l=Object.keys(n),a=l.length,i=0;i<a;i++)e.call(t,n[l[i]],l[i])}function bl(n,e){let t,r,i,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],a=e[t],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function _l(n){if(ct(n))return n.map(_l);if(Re(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=_l(n[t[i]]);return e}return n}function fy(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Gb(n,e,t,r){if(!fy(n))return;const i=e[n],a=t[n];Re(i)&&Re(a)?yo(i,a,r):e[n]=_l(a)}function yo(n,e,t){const r=ct(e)?e:[e],i=r.length;if(!Re(n))return n;t=t||{};const a=t.merger||Gb;let l;for(let c=0;c<i;++c){if(l=r[c],!Re(l))continue;const d=Object.keys(l);for(let h=0,p=d.length;h<p;++h)a(d[h],n,l,t)}return n}function ao(n,e){return yo(n,e,{merger:Jb})}function Jb(n,e,t){if(!fy(n))return;const r=e[n],i=t[n];Re(r)&&Re(i)?ao(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=_l(i))}const ag={"":n=>n,x:n=>n.x,y:n=>n.y};function Xb(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function Qb(n){const e=Xb(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function hs(n,e){return(ag[e]||(ag[e]=Qb(e)))(n)}function $d(n){return n.charAt(0).toUpperCase()+n.slice(1)}const vo=n=>typeof n<"u",$r=n=>typeof n=="function",lg=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Zb(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const $e=Math.PI,it=2*$e,xl=Number.POSITIVE_INFINITY,e_=$e/180,ut=$e/2,Zr=$e/4,cg=$e*2/3,py=Math.log10,Lr=Math.sign;function pl(n,e,t){return Math.abs(n-e)<t}function ug(n){const e=Math.round(n);n=pl(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(py(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function t_(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,a)=>i-a).pop(),e}function n_(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Sl(n){return!n_(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function r_(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function s_(n,e,t){let r,i,a;for(r=0,i=n.length;r<i;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function or(n){return n*($e/180)}function i_(n){return n*(180/$e)}function dg(n){if(!mn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function gy(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*$e&&(a+=it),{angle:a,distance:i}}function o_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Hn(n){return(n%it+it)%it}function kl(n,e,t,r){const i=Hn(n),a=Hn(e),l=Hn(t),c=Hn(a-i),d=Hn(l-i),h=Hn(i-a),p=Hn(i-l);return i===a||i===l||r&&a===l||c>d&&h<p}function Kt(n,e,t){return Math.max(e,Math.min(t,n))}function a_(n){return Kt(n,-32768,32767)}function cs(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Fd(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,t(a)?i=a:r=a;return{lo:i,hi:r}}const ad=(n,e,t,r)=>Fd(n,t,r?i=>{const a=n[i][e];return a<t||a===t&&n[i+1][e]===t}:i=>n[i][e]<t),l_=(n,e,t)=>Fd(n,t,r=>n[r][e]>=t);function c_(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const my=["push","pop","shift","splice","unshift"];function u_(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),my.forEach(t=>{const r="_onData"+$d(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=i.apply(this,a);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function hg(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(my.forEach(a=>{delete n[a]}),delete n._chartjs)}function yy(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const vy=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function wy(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,vy.call(window,()=>{r=!1,n.apply(e,t)}))}}function d_(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const zd=n=>n==="start"?"left":n==="end"?"right":"center",Ct=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,h_=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Ya=n=>n===0||n===1,fg=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*it/t)),pg=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*it/t)+1,lo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ut)+1,easeOutSine:n=>Math.sin(n*ut),easeInOutSine:n=>-.5*(Math.cos($e*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ya(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ya(n)?n:fg(n,.075,.3),easeOutElastic:n=>Ya(n)?n:pg(n,.075,.3),easeInOutElastic(n){return Ya(n)?n:n<.5?.5*fg(n*2,.1125,.45):.5+.5*pg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-lo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?lo.easeInBounce(n*2)*.5:lo.easeOutBounce(n*2-1)*.5+.5};function by(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function gg(n){return by(n)?n:new mo(n)}function Mu(n){return by(n)?n:new mo(n).saturate(.5).darken(.1).hexString()}const f_=["x","y","borderWidth","radius","tension"],p_=["color","borderColor","backgroundColor"];function g_(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:p_},numbers:{type:"number",properties:f_}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function m_(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mg=new Map;function y_(n,e){e=e||{};const t=n+JSON.stringify(e);let r=mg.get(t);return r||(r=new Intl.NumberFormat(n,e),mg.set(t,r)),r}function Bd(n,e,t){return y_(e,t).format(n)}const v_={values(n){return ct(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,a=n;if(t.length>1){const h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),a=w_(n,t)}const l=py(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Bd(n,r,d)}};function w_(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var _y={formatters:v_};function b_(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_y.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const fs=Object.create(null),ld=Object.create(null);function co(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function Iu(n,e,t){return typeof e=="string"?yo(co(n,e),t):yo(co(n,""),e)}class __{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Mu(i.backgroundColor),this.hoverBorderColor=(r,i)=>Mu(i.borderColor),this.hoverColor=(r,i)=>Mu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Iu(this,e,t)}get(e){return co(this,e)}describe(e,t){return Iu(ld,e,t)}override(e,t){return Iu(fs,e,t)}route(e,t,r,i){const a=co(this,e),l=co(this,r),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[c],h=l[i];return Re(d)?Object.assign({},h,d):Oe(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(t=>t(this))}}var tt=new __({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[g_,m_,b_]);function x_(n){return!n||Fe(n.size)||Fe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function yg(n,e,t,r,i){let a=e[i];return a||(a=e[i]=n.measureText(i).width,t.push(i)),a>r&&(r=a),r}function es(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function vg(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function wg(n,e,t,r){xy(n,e,t,r,null)}function xy(n,e,t,r,i){let a,l,c,d,h,p,y,v;const b=e.pointStyle,_=e.rotation,S=e.radius;let x=(_||0)*e_;if(b&&typeof b=="object"&&(a=b.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(x),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),b){default:i?n.ellipse(t,r,i/2,S,0,0,it):n.arc(t,r,S,0,it),n.closePath();break;case"triangle":p=i?i/2:S,n.moveTo(t+Math.sin(x)*p,r-Math.cos(x)*S),x+=cg,n.lineTo(t+Math.sin(x)*p,r-Math.cos(x)*S),x+=cg,n.lineTo(t+Math.sin(x)*p,r-Math.cos(x)*S),n.closePath();break;case"rectRounded":h=S*.516,d=S-h,l=Math.cos(x+Zr)*d,y=Math.cos(x+Zr)*(i?i/2-h:d),c=Math.sin(x+Zr)*d,v=Math.sin(x+Zr)*(i?i/2-h:d),n.arc(t-y,r-c,h,x-$e,x-ut),n.arc(t+v,r-l,h,x-ut,x),n.arc(t+y,r+c,h,x,x+ut),n.arc(t-v,r+l,h,x+ut,x+$e),n.closePath();break;case"rect":if(!_){d=Math.SQRT1_2*S,p=i?i/2:d,n.rect(t-p,r-d,2*p,2*d);break}x+=Zr;case"rectRot":y=Math.cos(x)*(i?i/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(i?i/2:S),n.moveTo(t-y,r-c),n.lineTo(t+v,r-l),n.lineTo(t+y,r+c),n.lineTo(t-v,r+l),n.closePath();break;case"crossRot":x+=Zr;case"cross":y=Math.cos(x)*(i?i/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(i?i/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"star":y=Math.cos(x)*(i?i/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(i?i/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l),x+=Zr,y=Math.cos(x)*(i?i/2:S),l=Math.cos(x)*S,c=Math.sin(x)*S,v=Math.sin(x)*(i?i/2:S),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"line":l=i?i/2:Math.cos(x)*S,c=Math.sin(x)*S,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(x)*(i?i/2:S),r+Math.sin(x)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Sy(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Ud(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Hd(n){n.restore()}function S_(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Fe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function k_(n,e,t,r,i){if(i.strikethrough||i.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,h=t+a.actualBoundingBoxDescent,p=i.strikethrough?(d+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function E_(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function wo(n,e,t,r,i,a={}){const l=ct(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,h;for(n.save(),n.font=i.string,S_(n,a),d=0;d<l.length;++d)h=l[d],a.backdrop&&E_(n,a.backdrop),c&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Fe(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,t,r,a.maxWidth)),n.fillText(h,t,r,a.maxWidth),k_(n,t,r,h,a),r+=Number(i.lineHeight);n.restore()}function El(n,e){const{x:t,y:r,w:i,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*$e,$e,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,$e,ut,!0),n.lineTo(t+i-l.bottomRight,r+a),n.arc(t+i-l.bottomRight,r+a-l.bottomRight,l.bottomRight,ut,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-ut,!0),n.lineTo(t+l.topLeft,r)}const T_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,C_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function j_(n,e){const t=(""+n).match(T_);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const N_=n=>+n||0;function Wd(n,e){const t={},r=Re(e),i=r?Object.keys(e):e,a=Re(n)?r?l=>Oe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=N_(a(l));return t}function ky(n){return Wd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ys(n){return Wd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function yn(n){const e=ky(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function jt(n,e){n=n||{},e=e||tt.font;let t=Oe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Oe(n.style,e.style);r&&!(""+r).match(C_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Oe(n.family,e.family),lineHeight:j_(Oe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Oe(n.weight,e.weight),string:""};return i.string=x_(i),i}function Ga(n,e,t,r){let i,a,l;for(i=0,a=n.length;i<a;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function O_(n,e,t){const{min:r,max:i}=n,a=hy(e,(i-r)/2),l=(c,d)=>t&&c===0?0:c+d;return{min:l(r,-Math.abs(a)),max:l(i,a)}}function ti(n,e){return Object.assign(Object.create(n),e)}function Vd(n,e=[""],t,r,i=()=>n[0]){const a=t||n;typeof r>"u"&&(r=jy("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:i,override:c=>Vd([c,...n],e,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete n[0][d],!0},get(c,d){return Ty(c,d,()=>$_(d,e,n,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,d){return _g(c).includes(d)},ownKeys(c){return _g(c)},set(c,d,h){const p=c._storage||(c._storage=i());return c[d]=p[d]=h,delete c._keys,!0}})}function Zs(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Ey(n,r),setContext:a=>Zs(n,a,t,r),override:a=>Zs(n.override(a),e,t,r)};return new Proxy(i,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,c){return Ty(a,l,()=>D_(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,c){return n[l]=c,delete a[l],!0}})}function Ey(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:$r(t)?t:()=>t,isIndexable:$r(r)?r:()=>r}}const R_=(n,e)=>n?n+$d(e):e,qd=(n,e)=>Re(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ty(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function D_(n,e,t){const{_proxy:r,_context:i,_subProxy:a,_descriptors:l}=n;let c=r[e];return $r(c)&&l.isScriptable(e)&&(c=P_(e,c,n,t)),ct(c)&&c.length&&(c=A_(e,c,n,l.isIndexable)),qd(e,c)&&(c=Zs(c,i,a&&a[e],l)),c}function P_(n,e,t,r){const{_proxy:i,_context:a,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let d=e(a,l||r);return c.delete(n),qd(n,d)&&(d=Kd(i._scopes,i,n,d)),d}function A_(n,e,t,r){const{_proxy:i,_context:a,_subProxy:l,_descriptors:c}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(Re(e[0])){const d=e,h=i._scopes.filter(p=>p!==d);e=[];for(const p of d){const y=Kd(h,i,n,p);e.push(Zs(y,a,l&&l[n],c))}}return e}function Cy(n,e,t){return $r(n)?n(e,t):n}const M_=(n,e)=>n===!0?e:typeof n=="string"?hs(e,n):void 0;function I_(n,e,t,r,i){for(const a of e){const l=M_(t,a);if(l){n.add(l);const c=Cy(l._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function Kd(n,e,t,r){const i=e._rootScopes,a=Cy(e._fallback,t,r),l=[...n,...i],c=new Set;c.add(r);let d=bg(c,l,t,a||t,r);return d===null||typeof a<"u"&&a!==t&&(d=bg(c,l,a,d,r),d===null)?!1:Vd(Array.from(c),[""],i,a,()=>L_(e,t,r))}function bg(n,e,t,r,i){for(;t;)t=I_(n,e,t,r,i);return t}function L_(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return ct(i)&&Re(t)?t:i||{}}function $_(n,e,t,r){let i;for(const a of e)if(i=jy(R_(a,n),t),typeof i<"u")return qd(n,i)?Kd(t,r,n,i):i}function jy(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function _g(n){let e=n._keys;return e||(e=n._keys=F_(n._scopes)),e}function F_(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function Yd(){return typeof window<"u"&&typeof document<"u"}function Gd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Tl(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Bl=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function z_(n,e){return Bl(n).getPropertyValue(e)}const B_=["top","right","bottom","left"];function ds(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const a=B_[i];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const U_=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function H_(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:a}=r;let l=!1,c,d;if(U_(i,a,n.target))c=i,d=a;else{const h=e.getBoundingClientRect();c=r.clientX-h.left,d=r.clientY-h.top,l=!0}return{x:c,y:d,box:l}}function ss(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Bl(t),a=i.boxSizing==="border-box",l=ds(i,"padding"),c=ds(i,"border","width"),{x:d,y:h,box:p}=H_(n,t),y=l.left+(p&&c.left),v=l.top+(p&&c.top);let{width:b,height:_}=e;return a&&(b-=l.width+c.width,_-=l.height+c.height),{x:Math.round((d-y)/b*t.width/r),y:Math.round((h-v)/_*t.height/r)}}function W_(n,e,t){let r,i;if(e===void 0||t===void 0){const a=n&&Gd(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),c=Bl(a),d=ds(c,"border","width"),h=ds(c,"padding");e=l.width-h.width-d.width,t=l.height-h.height-d.height,r=Tl(c.maxWidth,a,"clientWidth"),i=Tl(c.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||xl,maxHeight:i||xl}}const Ar=n=>Math.round(n*10)/10;function V_(n,e,t,r){const i=Bl(n),a=ds(i,"margin"),l=Tl(i.maxWidth,n,"clientWidth")||xl,c=Tl(i.maxHeight,n,"clientHeight")||xl,d=W_(n,e,t);let{width:h,height:p}=d;if(i.boxSizing==="content-box"){const v=ds(i,"border","width"),b=ds(i,"padding");h-=b.width+v.width,p-=b.height+v.height}return h=Math.max(0,h-a.width),p=Math.max(0,r?h/r:p-a.height),h=Ar(Math.min(h,l,d.maxWidth)),p=Ar(Math.min(p,c,d.maxHeight)),h&&!p&&(p=Ar(h/2)),(e!==void 0||t!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,h=Ar(Math.floor(p*r))),{width:h,height:p}}function xg(n,e,t){const r=e||1,i=Ar(n.height*r),a=Ar(n.width*r);n.height=Ar(n.height),n.width=Ar(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==a?(n.currentDevicePixelRatio=r,l.height=i,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const q_=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Yd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Sg(n,e){const t=z_(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const K_=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},Y_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Gs(n,e,t){return n?K_(e,t):Y_()}function Ny(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Oy(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Ja(n,e,t){return n.options.clip?n[t]:e[t]}function G_(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Ja(t,e,"left"),right:Ja(t,e,"right"),top:Ja(r,e,"top"),bottom:Ja(r,e,"bottom")}:e}function J_(n,e){const t=e._clip;if(t.disabled)return!1;const r=G_(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class X_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const a=t.listeners[i],l=t.duration;a.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=vy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),a.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var nr=new X_;const kg="transparent",Q_={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=gg(n||kg),i=r.valid&&gg(e||kg);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Z_{constructor(e,t,r,i){const a=t[r];i=Ga([e.to,i,a,e.from]);const l=Ga([e.from,a,i]);this._active=!0,this._fn=e.fn||Q_[e.type||typeof l],this._easing=lo[e.easing]||lo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ga([e.to,t,i,e.from]),this._from=Ga([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,a=this._from,l=this._loop,c=this._to;let d;if(this._active=a!==c&&(l||t<r),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=a;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[i]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Ry{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Re(e))return;const t=Object.keys(tt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const a=e[i];if(!Re(a))return;const l={};for(const c of t)l[c]=a[c];(ct(a.properties)&&a.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,i=tx(e,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&ex(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,i=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const h=l[d];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(e,t));continue}const p=t[h];let y=a[h];const v=r.get(h);if(y)if(v&&y.active()){y.update(v,p,c);continue}else y.cancel();if(!v||!v.duration){e[h]=p;continue}a[h]=y=new Z_(v,e,h,p),i.push(y)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return nr.add(this._chart,r),!0}}function ex(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const a=n[r[i]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function tx(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Eg(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:i,end:r?i:a}}function nx(n,e,t){if(t===!1)return!1;const r=Eg(n,t),i=Eg(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function rx(n){let e,t,r,i;return Re(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function Dy(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,a;for(i=0,a=r.length;i<a;++i)t.push(r[i].index);return t}function Tg(n,e,t,r={}){const i=n.keys,a=r.mode==="single";let l,c,d,h;if(e===null)return;let p=!1;for(l=0,c=i.length;l<c;++l){if(d=+i[l],d===t){if(p=!0,r.all)continue;break}h=n.values[d],mn(h)&&(a||e===0||Lr(e)===Lr(h))&&(e+=h)}return!p&&!r.all?0:e}function sx(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let d,h,p;for(d=0,h=l.length;d<h;++d)p=l[d],c[d]={[i]:p,[a]:n[p]};return c}function Lu(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function ix(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function ox(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function ax(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function Cg(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const a=n[i.index];if(t&&a>0||!t&&a<0)return i.index}return null}function jg(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:c}=r,d=a.axis,h=l.axis,p=ix(a,l,r),y=e.length;let v;for(let b=0;b<y;++b){const _=e[b],{[d]:S,[h]:x}=_,E=_._stacks||(_._stacks={});v=E[h]=ax(i,p,S),v[c]=x,v._top=Cg(v,l,!0,r.type),v._bottom=Cg(v,l,!1,r.type);const N=v._visualValues||(v._visualValues={});N[c]=x}}function $u(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function lx(n,e){return ti(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function cx(n,e,t){return ti(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Yi(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const a=i._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const Fu=n=>n==="reset"||n==="none",Ng=(n,e)=>e?n:Object.assign({},n),ux=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Dy(t,!0),values:null};class Js{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Lu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(y,v,b,_)=>y==="x"?v:y==="r"?_:b,a=t.xAxisID=Oe(r.xAxisID,$u(e,"x")),l=t.yAxisID=Oe(r.yAxisID,$u(e,"y")),c=t.rAxisID=Oe(r.rAxisID,$u(e,"r")),d=t.indexAxis,h=t.iAxisID=i(d,a,l,c),p=t.vAxisID=i(d,l,a,c);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(h),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&hg(this._data,this),e._stacked&&Yi(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Re(t)){const i=this._cachedMeta;this._data=sx(t,i)}else if(r!==t){if(r){hg(r,this);const i=this._cachedMeta;Yi(i),i._parsed=[]}t&&Object.isExtensible(t)&&u_(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=t._stacked;t._stacked=Lu(t.vScale,t),t.stack!==r.stack&&(i=!0,Yi(t),t.stack=r.stack),this._resyncElements(e),(i||a!==t._stacked)&&(jg(this,t._parsed),t._stacked=Lu(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:l}=r,c=a.axis;let d=e===0&&t===i.length?!0:r._sorted,h=e>0&&r._parsed[e-1],p,y,v;if(this._parsing===!1)r._parsed=i,r._sorted=!0,v=i;else{ct(i[e])?v=this.parseArrayData(r,i,e,t):Re(i[e])?v=this.parseObjectData(r,i,e,t):v=this.parsePrimitiveData(r,i,e,t);const b=()=>y[c]===null||h&&y[c]<h[c];for(p=0;p<t;++p)r._parsed[p+e]=y=v[p],d&&(b()&&(d=!1),h=y);r._sorted=d}l&&jg(this,v)}parsePrimitiveData(e,t,r,i){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,h=a.getLabels(),p=a===l,y=new Array(i);let v,b,_;for(v=0,b=i;v<b;++v)_=v+r,y[v]={[c]:p||a.parse(h[_],_),[d]:l.parse(t[_],_)};return y}parseArrayData(e,t,r,i){const{xScale:a,yScale:l}=e,c=new Array(i);let d,h,p,y;for(d=0,h=i;d<h;++d)p=d+r,y=t[p],c[d]={x:a.parse(y[0],p),y:l.parse(y[1],p)};return c}parseObjectData(e,t,r,i){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(i);let p,y,v,b;for(p=0,y=i;p<y;++p)v=p+r,b=t[v],h[p]={x:a.parse(hs(b,c),v),y:l.parse(hs(b,d),v)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,a=this._cachedMeta,l=t[e.axis],c={keys:Dy(i,!0),values:t._stacks[e.axis]._visualValues};return Tg(c,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const a=r[t.axis];let l=a===null?NaN:a;const c=i&&r._stacks[t.axis];i&&c&&(i.values=c,l=Tg(i,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&e===r.iScale,l=i.length,c=this._getOtherScale(e),d=ux(t,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=ox(c);let v,b;function _(){b=i[v];const S=b[c.axis];return!mn(b[e.axis])||p>S||y<S}for(v=0;v<l&&!(!_()&&(this.updateRangeFromParsed(h,e,b,d),a));++v);if(a){for(v=l-1;v>=0;--v)if(!_()){this.updateRangeFromParsed(h,e,b,d);break}}return h}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,a,l;for(i=0,a=t.length;i<a;++i)l=t[i][e.axis],mn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=rx(Oe(this.options.clip,nx(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],a=t.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||i.length-c,h=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,c,d),p=c;p<c+d;++p){const y=i[p];y.hidden||(y.active&&h?l.push(y):y.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=cx(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=i.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=lx(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",a=this._cachedDataOpts,l=e+"-"+t,c=a[l],d=this.enableOptionSharing&&vo(r);if(c)return Ng(c,d);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,e),y=i?[`${e}Hover`,"hover",e,""]:[e,""],v=h.getOptionScopes(this.getDataset(),p),b=Object.keys(tt.elements[e]),_=()=>this.getContext(r,i,t),S=h.resolveNamedOptions(v,b,_,y);return S.$shared&&(S.$shared=d,a[l]=Object.freeze(Ng(S,d))),S}_resolveAnimations(e,t,r){const i=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,c=a[l];if(c)return c;let d;if(i.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),v=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(v,this.getContext(e,r,t))}const h=new Ry(i,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Fu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==i;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,i){Fu(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Fu(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const a=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const i=r.length,a=t.length,l=Math.min(a,i);l&&this.parse(0,l),a>i?this._insertElements(i,a-i,e):a<i&&this._removeElements(a,i-a)}_insertElements(e,t,r=!0){const i=this._cachedMeta,a=i.data,l=e+t;let c;const d=h=>{for(h.length+=t,c=h.length-1;c>=l;c--)h[c]=h[c-t]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Yi(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}be(Js,"defaults",{}),be(Js,"datasetElementType",null),be(Js,"dataElementType",null);function dx(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,a=t.length;i<a;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=yy(r.sort((i,a)=>i-a))}return n._cache.$bar}function hx(n){const e=n.iScale,t=dx(e,n.type);let r=e._length,i,a,l,c;const d=()=>{l===32767||l===-32768||(vo(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(i=0,a=t.length;i<a;++i)l=e.getPixelForValue(t[i]),d();for(c=void 0,i=0,a=e.ticks.length;i<a;++i)l=e.getPixelForTick(i),d();return r}function fx(n,e,t,r){const i=t.barThickness;let a,l;return Fe(i)?(a=e.min*t.categoryPercentage,l=t.barPercentage):(a=i*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[n]-a/2}}function px(n,e,t,r){const i=e.pixels,a=i[n];let l=n>0?i[n-1]:null,c=n<i.length-1?i[n+1]:null;const d=t.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const h=a-(a-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/r,ratio:t.barPercentage,start:h}}function gx(n,e,t,r){const i=t.parse(n[0],r),a=t.parse(n[1],r),l=Math.min(i,a),c=Math.max(i,a);let d=l,h=c;Math.abs(l)>Math.abs(c)&&(d=c,h=l),e[t.axis]=h,e._custom={barStart:d,barEnd:h,start:i,end:a,min:l,max:c}}function Py(n,e,t,r){return ct(n)?gx(n,e,t,r):e[t.axis]=t.parse(n,r),e}function Og(n,e,t,r){const i=n.iScale,a=n.vScale,l=i.getLabels(),c=i===a,d=[];let h,p,y,v;for(h=t,p=t+r;h<p;++h)v=e[h],y={},y[i.axis]=c||i.parse(l[h],h),d.push(Py(v,y,a,h));return d}function zu(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function mx(n,e,t){return n!==0?Lr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function yx(n){let e,t,r,i,a;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",a="start"):(i="start",a="end"),{start:t,end:r,reverse:e,top:i,bottom:a}}function vx(n,e,t,r){let i=e.borderSkipped;const a={};if(!i){n.borderSkipped=a;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:h,bottom:p}=yx(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=h:(t._bottom||0)===r?i=p:(a[Rg(p,l,c,d)]=!0,i=h)),a[Rg(i,l,c,d)]=!0,n.borderSkipped=a}function Rg(n,e,t,r){return r?(n=wx(n,e,t),n=Dg(n,t,e)):n=Dg(n,e,t),n}function wx(n,e,t){return n===e?t:n===t?e:n}function Dg(n,e,t){return n==="start"?e:n==="end"?t:n}function bx(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class gl extends Js{parsePrimitiveData(e,t,r,i){return Og(e,t,r,i)}parseArrayData(e,t,r,i){return Og(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=a.axis==="x"?c:d,p=l.axis==="x"?c:d,y=[];let v,b,_,S;for(v=r,b=r+i;v<b;++v)S=t[v],_={},_[a.axis]=a.parse(hs(S,h),v),y.push(Py(hs(S,p),_,l,v));return y}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,a=this.getParsed(e),l=a._custom,c=zu(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const a=i==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,i);for(let b=t;b<t+r;b++){const _=this.getParsed(b),S=a||Fe(_[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(b),x=this._calculateBarIndexPixels(b,p),E=(_._stacks||{})[c.axis],N={horizontal:h,base:S.base,enableBorderRadius:!E||zu(_._custom)||l===E._top||l===E._bottom,x:h?S.head:x.center,y:h?x.center:S.head,height:h?x.size:Math.abs(S.size),width:h?Math.abs(S.size):x.size};v&&(N.options=y||this.resolveDataElementOptions(b,e[b].active?"active":i));const j=N.options||e[b].options;vx(N,j,E,l),bx(N,j,p.ratio),this.updateElement(e[b],b,N,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),d=c&&c[r.axis],h=p=>{const y=p._parsed.find(b=>b[r.axis]===d),v=y&&y[p.vScale.axis];if(Fe(v)||isNaN(v))return!0};for(const p of i)if(!(t!==void 0&&h(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),a=t!==void 0?i.indexOf(t):-1;return a===-1?i.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let a,l;for(a=0,l=t.data.length;a<l;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const c=e.barThickness;return{min:c||hx(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(e),h=d._custom,p=zu(h);let y=d[t.axis],v=0,b=r?this.applyStack(t,d,r):y,_,S;b!==y&&(v=b-y,b=y),p&&(y=h.barStart,b=h.barEnd-h.barStart,y!==0&&Lr(y)!==Lr(h.barEnd)&&(v=0),v+=y);const x=!Fe(a)&&!p?a:v;let E=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?_=t.getPixelForValue(v+b):_=E,S=_-E,Math.abs(S)<l){S=mx(S,t,c)*l,y===c&&(E-=S/2);const N=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),O=Math.min(N,j),P=Math.max(N,j);E=Math.max(Math.min(E,P),O),_=E+S,r&&!p&&(d._stacks[t.axis]._visualValues[i]=t.getValueForPixel(_)-t.getValueForPixel(E))}if(E===t.getPixelForValue(c)){const N=Lr(S)*t.getLineWidthForValue(c)/2;E+=N,S-=N}return{size:S,base:E,head:_,center:_+S/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,a=i.skipNull,l=Oe(i.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(t.grouped){const p=a?this._getStackCount(e):t.stackCount,y=i.barThickness==="flex"?px(e,t,i,p*h):fx(e,t,i,p*h),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Oe(v,this.getFirstScaleIdForIndexAxis())),_=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+b;c=y.start+y.chunk*_+y.chunk/2,d=Math.min(l,y.chunk*y.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,t.min*t.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[t.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}be(gl,"id","bar"),be(gl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),be(gl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function _x(n,e,t){let r=1,i=1,a=0,l=0;if(e<it){const c=n,d=c+e,h=Math.cos(c),p=Math.sin(c),y=Math.cos(d),v=Math.sin(d),b=(j,O,P)=>kl(j,c,d,!0)?1:Math.max(O,O*t,P,P*t),_=(j,O,P)=>kl(j,c,d,!0)?-1:Math.min(O,O*t,P,P*t),S=b(0,h,y),x=b(ut,p,v),E=_($e,h,y),N=_($e+ut,p,v);r=(S-E)/2,i=(x-N)/2,a=-(S+E)/2,l=-(x+N)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:l}}class Ks extends Js{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=d=>+r[d];if(Re(r[e])){const{key:d="value"}=this._parsing;a=h=>+hs(r[h],d)}let l,c;for(l=e,c=e+t;l<c;++l)i._parsed[l]=a(l)}}_getRotation(){return or(this.options.rotation-90)}_getCircumference(){return or(this.options.circumference)}_getRotationExtents(){let e=it,t=-it;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),l=i._getCircumference();e=Math.min(e,a),t=Math.max(t,a+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,a=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(Yb(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:b,offsetX:_,offsetY:S}=_x(y,p,d),x=(r.width-l)/v,E=(r.height-l)/b,N=Math.max(Math.min(x,E)/2,0),j=hy(this.options.radius,N),O=Math.max(j*d,0),P=(j-O)/this._getVisibleDatasetWeightTotal();this.offsetX=_*j,this.offsetY=S*j,i.total=this.calculateTotal(),this.outerRadius=j-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*h,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*a/it)}updateElements(e,t,r,i){const a=i==="reset",l=this.chart,c=l.chartArea,h=l.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,v=a&&h.animateScale,b=v?0:this.innerRadius,_=v?0:this.outerRadius,{sharedOptions:S,includeOptions:x}=this._getSharedOptions(t,i);let E=this._getRotation(),N;for(N=0;N<t;++N)E+=this._circumference(N,a);for(N=t;N<t+r;++N){const j=this._circumference(N,a),O=e[N],P={x:p+this.offsetX,y:y+this.offsetY,startAngle:E,endAngle:E+j,circumference:j,outerRadius:_,innerRadius:b};x&&(P.options=S||this.resolveDataElementOptions(N,O.active?"active":i)),E+=j,this.updateElement(O,N,P,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const a=e._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?it*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Bd(t._parsed[e],r.options.locale);return{label:i[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,a,l,c,d;if(!e){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,c=l.controller;break}}if(!e)return 0;for(i=0,a=e.length;i<a;++i)d=c.resolveDataElementOptions(i),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const a=this.resolveDataElementOptions(r);t=Math.max(t,a.offset||0,a.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}be(Ks,"id","doughnut"),be(Ks,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),be(Ks,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),be(Ks,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,h)=>{const y=e.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:y.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(h),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:i,pointStyle:r,borderRadius:l&&(c||y.borderRadius),index:h}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class cd extends Ks{}be(cd,"id","pie"),be(cd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ts(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jd{constructor(e){be(this,"options");this.options=e||{}}static override(e){Object.assign(Jd.prototype,e)}init(){}formats(){return ts()}parse(){return ts()}format(){return ts()}add(){return ts()}diff(){return ts()}startOf(){return ts()}endOf(){return ts()}}var xx={_date:Jd};function Sx(n,e,t,r){const{controller:i,data:a,_sorted:l}=n,c=i._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const h=c._reversePixels?l_:ad;if(r){if(i._sharedOptions){const p=a[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const v=h(a,e,t-y),b=h(a,e,t+y);return{lo:v.lo,hi:b.hi}}}}else{const p=h(a,e,t);if(d){const{vScale:y}=i._cachedMeta,{_parsed:v}=n,b=v.slice(0,p.lo+1).reverse().findIndex(S=>!Fe(S[y.axis]));p.lo-=Math.max(0,b);const _=v.slice(p.hi).findIndex(S=>!Fe(S[y.axis]));p.hi+=Math.max(0,_)}return p}}return{lo:0,hi:a.length-1}}function Ul(n,e,t,r,i){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,d=a.length;c<d;++c){const{index:h,data:p}=a[c],{lo:y,hi:v}=Sx(a[c],e,l,i);for(let b=y;b<=v;++b){const _=p[b];_.skip||r(_,h,b)}}}function kx(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const a=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Bu(n,e,t,r,i){const a=[];return!i&&!n.isPointInArea(e)||Ul(n,t,e,function(c,d,h){!i&&!Sy(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:d,index:h})},!0),a}function Ex(n,e,t,r){let i=[];function a(l,c,d){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:y}=gy(l,{x:e.x,y:e.y});kl(y,h,p)&&i.push({element:l,datasetIndex:c,index:d})}return Ul(n,t,e,a),i}function Tx(n,e,t,r,i,a){let l=[];const c=kx(t);let d=Number.POSITIVE_INFINITY;function h(p,y,v){const b=p.inRange(e.x,e.y,i);if(r&&!b)return;const _=p.getCenterPoint(i);if(!(!!a||n.isPointInArea(_))&&!b)return;const x=c(e,_);x<d?(l=[{element:p,datasetIndex:y,index:v}],d=x):x===d&&l.push({element:p,datasetIndex:y,index:v})}return Ul(n,t,e,h),l}function Uu(n,e,t,r,i,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?Ex(n,e,t,i):Tx(n,e,t,r,i,a)}function Pg(n,e,t,r,i){const a=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return Ul(n,t,e,(d,h,p)=>{d[l]&&d[l](e[t],i)&&(a.push({element:d,datasetIndex:h,index:p}),c=c||d.inRange(e.x,e.y,i))}),r&&!c?[]:a}var Cx={modes:{index(n,e,t,r){const i=ss(e,n),a=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Bu(n,i,a,r,l):Uu(n,i,a,!1,r,l),d=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const p=c[0].index,y=h.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:h.index,index:p})}),d):[]},dataset(n,e,t,r){const i=ss(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Bu(n,i,a,r,l):Uu(n,i,a,!1,r,l);if(c.length>0){const d=c[0].datasetIndex,h=n.getDatasetMeta(d).data;c=[];for(let p=0;p<h.length;++p)c.push({element:h[p],datasetIndex:d,index:p})}return c},point(n,e,t,r){const i=ss(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Bu(n,i,a,r,l)},nearest(n,e,t,r){const i=ss(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Uu(n,i,a,t.intersect,r,l)},x(n,e,t,r){const i=ss(e,n);return Pg(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=ss(e,n);return Pg(n,i,"y",t.intersect,r)}}};const Ay=["left","top","right","bottom"];function Gi(n,e){return n.filter(t=>t.pos===e)}function Ag(n,e){return n.filter(t=>Ay.indexOf(t.pos)===-1&&t.box.axis===e)}function Ji(n,e){return n.sort((t,r)=>{const i=e?r:t,a=e?t:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function jx(n){const e=[];let t,r,i,a,l,c;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:a,options:{stack:l,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&a+l,stackWeight:c});return e}function Nx(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:a}=t;if(!r||!Ay.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function Ox(n,e){const t=Nx(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let a,l,c;for(a=0,l=n.length;a<l;++a){c=n[a];const{fullSize:d}=c.box,h=t[c.stack],p=h&&c.stackWeight/h.weight;c.horizontal?(c.width=p?p*r:d&&e.availableWidth,c.height=i):(c.width=r,c.height=p?p*i:d&&e.availableHeight)}return t}function Rx(n){const e=jx(n),t=Ji(e.filter(h=>h.box.fullSize),!0),r=Ji(Gi(e,"left"),!0),i=Ji(Gi(e,"right")),a=Ji(Gi(e,"top"),!0),l=Ji(Gi(e,"bottom")),c=Ag(e,"x"),d=Ag(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:i.concat(d).concat(l).concat(c),chartArea:Gi(e,"chartArea"),vertical:r.concat(i).concat(d),horizontal:a.concat(l).concat(c)}}function Mg(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function My(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Dx(n,e,t,r){const{pos:i,box:a}=t,l=n.maxPadding;if(!Re(i)){t.size&&(n[i]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[i]+=t.size}a.getPadding&&My(l,a.getPadding());const c=Math.max(0,e.outerWidth-Mg(l,n,"left","right")),d=Math.max(0,e.outerHeight-Mg(l,n,"top","bottom")),h=c!==n.w,p=d!==n.h;return n.w=c,n.h=d,t.horizontal?{same:h,other:p}:{same:p,other:h}}function Px(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Ax(n,e){const t=e.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function eo(n,e,t,r){const i=[];let a,l,c,d,h,p;for(a=0,l=n.length,h=0;a<l;++a){c=n[a],d=c.box,d.update(c.width||e.w,c.height||e.h,Ax(c.horizontal,e));const{same:y,other:v}=Dx(e,t,c,r);h|=y&&i.length,p=p||v,d.fullSize||i.push(c)}return h&&eo(i,e,t,r)||p}function Xa(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Ig(n,e,t,r){const i=t.padding;let{x:a,y:l}=e;for(const c of n){const d=c.box,h=r[c.stack]||{placed:0,weight:1},p=c.stackWeight/h.weight||1;if(c.horizontal){const y=e.w*p,v=h.size||d.height;vo(h.start)&&(l=h.start),d.fullSize?Xa(d,i.left,l,t.outerWidth-i.right-i.left,v):Xa(d,e.left+h.placed,l,y,v),h.start=l,h.placed+=y,l=d.bottom}else{const y=e.h*p,v=h.size||d.width;vo(h.start)&&(a=h.start),d.fullSize?Xa(d,a,i.top,v,t.outerHeight-i.bottom-i.top):Xa(d,a,e.top+h.placed,v,y),h.start=a,h.placed+=y,a=d.right}}e.x=a,e.y=l}var gn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=yn(n.options.layout.padding),a=Math.max(e-i.width,0),l=Math.max(t-i.height,0),c=Rx(n.boxes),d=c.vertical,h=c.horizontal;Le(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=d.reduce((S,x)=>x.box.options&&x.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},i);My(v,yn(r));const b=Object.assign({maxPadding:v,w:a,h:l,x:i.left,y:i.top},i),_=Ox(d.concat(h),y);eo(c.fullSize,b,y,_),eo(d,b,y,_),eo(h,b,y,_)&&eo(d,b,y,_),Px(b),Ig(c.leftAndTop,b,y,_),b.x+=b.w,b.y+=b.h,Ig(c.rightAndBottom,b,y,_),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Le(c.chartArea,S=>{const x=S.box;Object.assign(x,n.chartArea),x.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class Iy{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class Mx extends Iy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ml="$chartjs",Ix={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lg=n=>n===null||n==="";function Lx(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ml]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Lg(i)){const a=Sg(n,"width");a!==void 0&&(n.width=a)}if(Lg(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Sg(n,"height");a!==void 0&&(n.height=a)}return n}const Ly=q_?{passive:!0}:!1;function $x(n,e,t){n&&n.addEventListener(e,t,Ly)}function Fx(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Ly)}function zx(n,e){const t=Ix[n.type]||n.type,{x:r,y:i}=ss(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Cl(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Bx(n,e,t){const r=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Cl(c.addedNodes,r),l=l&&!Cl(c.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ux(n,e,t){const r=n.canvas,i=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Cl(c.removedNodes,r),l=l&&!Cl(c.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const bo=new Map;let $g=0;function $y(){const n=window.devicePixelRatio;n!==$g&&($g=n,bo.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Hx(n,e){bo.size||window.addEventListener("resize",$y),bo.set(n,e)}function Wx(n){bo.delete(n),bo.size||window.removeEventListener("resize",$y)}function Vx(n,e,t){const r=n.canvas,i=r&&Gd(r);if(!i)return;const a=wy((c,d)=>{const h=i.clientWidth;t(c,d),h<i.clientWidth&&t()},window),l=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,p=d.contentRect.height;h===0&&p===0||a(h,p)});return l.observe(i),Hx(n,a),l}function Hu(n,e,t){t&&t.disconnect(),e==="resize"&&Wx(n)}function qx(n,e,t){const r=n.canvas,i=wy(a=>{n.ctx!==null&&t(zx(a,n))},n);return $x(r,e,i),i}class Kx extends Iy{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Lx(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ml])return!1;const r=t[ml].initial;["height","width"].forEach(a=>{const l=r[a];Fe(l)?t.removeAttribute(a):t.setAttribute(a,l)});const i=r.style||{};return Object.keys(i).forEach(a=>{t.style[a]=i[a]}),t.width=t.width,delete t[ml],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:Bx,detach:Ux,resize:Vx}[t]||qx;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:Hu,detach:Hu,resize:Hu}[t]||Fx)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return V_(e,t,r,i)}isAttached(e){const t=e&&Gd(e);return!!(t&&t.isConnected)}}function Yx(n){return!Yd()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Mx:Kx}class ar{constructor(){be(this,"x");be(this,"y");be(this,"active",!1);be(this,"options");be(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Sl(this.x)&&Sl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}}be(ar,"defaults",{}),be(ar,"defaultRoutes");function Gx(n,e){const t=n.options.ticks,r=Jx(n),i=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?Qx(e):[],l=a.length,c=a[0],d=a[l-1],h=[];if(l>i)return Zx(e,h,a,l/i),h;const p=Xx(a,e,i);if(l>0){let y,v;const b=l>1?Math.round((d-c)/(l-1)):null;for(Qa(e,h,p,Fe(b)?0:c-b,c),y=0,v=l-1;y<v;y++)Qa(e,h,p,a[y],a[y+1]);return Qa(e,h,p,d,Fe(b)?e.length:d+b),h}return Qa(e,h,p),h}function Jx(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function Xx(n,e,t){const r=eS(n),i=e.length/t;if(!r)return Math.max(i,1);const a=t_(r);for(let l=0,c=a.length-1;l<c;l++){const d=a[l];if(d>i)return d}return Math.max(i,1)}function Qx(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function Zx(n,e,t,r){let i=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),i++,a=t[i*r])}function Qa(n,e,t,r,i){const a=Oe(r,0),l=Math.min(Oe(i,n.length),n.length);let c=0,d,h,p;for(t=Math.ceil(t),i&&(d=i-r,t=d/Math.floor(d/t)),p=a;p<0;)c++,p=Math.round(a+c*t);for(h=Math.max(a,0);h<l;h++)h===p&&(e.push(n[h]),c++,p=Math.round(a+c*t))}function eS(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const tS=n=>n==="left"?"right":n==="right"?"left":n,Fg=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,zg=(n,e)=>Math.min(e||n,n);function Bg(n,e){const t=[],r=n.length/e,i=n.length;let a=0;for(;a<i;a+=r)t.push(n[Math.floor(a)]);return t}function nS(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,c=1e-6;let d=n.getPixelForTick(i),h;if(!(t&&(r===1?h=Math.max(d-a,l-d):e===0?h=(n.getPixelForTick(1)-d)/2:h=(d-n.getPixelForTick(i-1))/2,d+=i<e?h:-h,d<a-c||d>l+c)))return d}function rS(n,e){Le(n,t=>{const r=t.gc,i=r.length/2;let a;if(i>e){for(a=0;a<i;++a)delete t.data[r[a]];r.splice(0,i)}})}function Xi(n){return n.drawTicks?n.tickLength:0}function Ug(n,e){if(!n.display)return 0;const t=jt(n.font,e),r=yn(n.padding);return(ct(n.text)?n.text.length:1)*t.lineHeight+r.height}function sS(n,e){return ti(n,{scale:e,type:"scale"})}function iS(n,e,t){return ti(n,{tick:t,index:e,type:"tick"})}function oS(n,e,t){let r=zd(n);return(t&&e!=="right"||!t&&e==="right")&&(r=tS(r)),r}function aS(n,e,t,r){const{top:i,left:a,bottom:l,right:c,chart:d}=n,{chartArea:h,scales:p}=d;let y=0,v,b,_;const S=l-i,x=c-a;if(n.isHorizontal()){if(b=Ct(r,a,c),Re(t)){const E=Object.keys(t)[0],N=t[E];_=p[E].getPixelForValue(N)+S-e}else t==="center"?_=(h.bottom+h.top)/2+S-e:_=Fg(n,t,e);v=c-a}else{if(Re(t)){const E=Object.keys(t)[0],N=t[E];b=p[E].getPixelForValue(N)-x+e}else t==="center"?b=(h.left+h.right)/2-x+e:b=Fg(n,t,e);_=Ct(r,l,i),y=t==="left"?-ut:ut}return{titleX:b,titleY:_,maxWidth:v,rotation:y}}class ni extends ar{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=zn(e,Number.POSITIVE_INFINITY),t=zn(t,Number.NEGATIVE_INFINITY),r=zn(r,Number.POSITIVE_INFINITY),i=zn(i,Number.NEGATIVE_INFINITY),{min:zn(e,r),max:zn(t,i),minDefined:mn(e),maxDefined:mn(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),l;if(i&&a)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)l=c[d].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=i&&t>r?t:r,{min:zn(t,zn(r,t)),max:zn(r,zn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qe(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O_(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?Bg(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Gx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qe(this.options.afterUpdate,[this])}beforeSetDimensions(){qe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),qe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r],a.label=qe(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){qe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=zg(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,a=t.maxRotation;let l=i,c,d,h;if(!this._isVisible()||!t.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,b=Kt(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/r:b/(r-1),y+6>c&&(c=b/(r-(e.offset?.5:1)),d=this.maxHeight-Xi(e.grid)-t.padding-Ug(e.title,this.chart.options.font),h=Math.sqrt(y*y+v*v),l=i_(Math.min(Math.asin(Kt((p.highest.height+6)/c,-1,1)),Math.asin(Kt(d/h,-1,1))-Math.asin(Kt(v/h,-1,1)))),l=Math.max(i,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){qe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=Ug(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=Xi(a)+d):(e.height=this.maxHeight,e.width=Xi(a)+d),r.display&&this.ticks.length){const{first:h,last:p,widest:y,highest:v}=this._getLabelSizes(),b=r.padding*2,_=or(this.labelRotation),S=Math.cos(_),x=Math.sin(_);if(c){const E=r.mirror?0:x*y.width+S*v.height;e.height=Math.min(this.maxHeight,e.height+E+b)}else{const E=r.mirror?0:S*y.width+x*v.height;e.width=Math.min(this.maxWidth,e.width+E+b)}this._calculatePadding(h,p,x,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:a,padding:l},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,b=0;d?h?(v=i*e.width,b=r*t.height):(v=r*e.height,b=i*t.width):a==="start"?b=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,b=t.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+l)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;a==="start"?(p=0,y=e.height):a==="end"&&(p=t.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Fe(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Bg(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:a}=this,l=[],c=[],d=Math.floor(t/zg(t,r));let h=0,p=0,y,v,b,_,S,x,E,N,j,O,P;for(y=0;y<t;y+=d){if(_=e[y].label,S=this._resolveTickFontOptions(y),i.font=x=S.string,E=a[x]=a[x]||{data:{},gc:[]},N=S.lineHeight,j=O=0,!Fe(_)&&!ct(_))j=yg(i,E.data,E.gc,j,_),O=N;else if(ct(_))for(v=0,b=_.length;v<b;++v)P=_[v],!Fe(P)&&!ct(P)&&(j=yg(i,E.data,E.gc,j,P),O+=N);l.push(j),c.push(O),h=Math.max(j,h),p=Math.max(O,p)}rS(a,t);const I=l.indexOf(h),D=c.indexOf(p),$=L=>({width:l[L]||0,height:c[L]||0});return{first:$(0),last:$(t-1),widest:$(I),highest:$(D),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return a_(this._alignToPixels?es(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=iS(this.getContext(),e,r))}return this.$context||(this.$context=sS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=or(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>c*i?c/r:d/i:d*i<c*r?d/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:a,position:l,border:c}=i,d=a.offset,h=this.isHorizontal(),y=this.ticks.length+(d?1:0),v=Xi(a),b=[],_=c.setContext(this.getContext()),S=_.display?_.width:0,x=S/2,E=function(he){return es(r,he,S)};let N,j,O,P,I,D,$,L,B,F,V,ne;if(l==="top")N=E(this.bottom),D=this.bottom-v,L=N-x,F=E(e.top)+x,ne=e.bottom;else if(l==="bottom")N=E(this.top),F=e.top,ne=E(e.bottom)-x,D=N+x,L=this.top+v;else if(l==="left")N=E(this.right),I=this.right-v,$=N-x,B=E(e.left)+x,V=e.right;else if(l==="right")N=E(this.left),B=e.left,V=E(e.right)-x,I=N+x,$=this.left+v;else if(t==="x"){if(l==="center")N=E((e.top+e.bottom)/2+.5);else if(Re(l)){const he=Object.keys(l)[0],oe=l[he];N=E(this.chart.scales[he].getPixelForValue(oe))}F=e.top,ne=e.bottom,D=N+x,L=D+v}else if(t==="y"){if(l==="center")N=E((e.left+e.right)/2);else if(Re(l)){const he=Object.keys(l)[0],oe=l[he];N=E(this.chart.scales[he].getPixelForValue(oe))}I=N-x,$=I-v,B=e.left,V=e.right}const le=Oe(i.ticks.maxTicksLimit,y),ae=Math.max(1,Math.ceil(y/le));for(j=0;j<y;j+=ae){const he=this.getContext(j),oe=a.setContext(he),G=c.setContext(he),Z=oe.lineWidth,R=oe.color,W=G.dash||[],Q=G.dashOffset,ge=oe.tickWidth,ue=oe.tickColor,Te=oe.tickBorderDash||[],ye=oe.tickBorderDashOffset;O=nS(this,j,d),O!==void 0&&(P=es(r,O,Z),h?I=$=B=V=P:D=L=F=ne=P,b.push({tx1:I,ty1:D,tx2:$,ty2:L,x1:B,y1:F,x2:V,y2:ne,width:Z,color:R,borderDash:W,borderDashOffset:Q,tickWidth:ge,tickColor:ue,tickBorderDash:Te,tickBorderDashOffset:ye}))}return this._ticksLength=y,this._borderValue=N,b}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:p,mirror:y}=a,v=Xi(r.grid),b=v+p,_=y?-p:b,S=-or(this.labelRotation),x=[];let E,N,j,O,P,I,D,$,L,B,F,V,ne="middle";if(i==="top")I=this.bottom-_,D=this._getXAxisLabelAlignment();else if(i==="bottom")I=this.top+_,D=this._getXAxisLabelAlignment();else if(i==="left"){const ae=this._getYAxisLabelAlignment(v);D=ae.textAlign,P=ae.x}else if(i==="right"){const ae=this._getYAxisLabelAlignment(v);D=ae.textAlign,P=ae.x}else if(t==="x"){if(i==="center")I=(e.top+e.bottom)/2+b;else if(Re(i)){const ae=Object.keys(i)[0],he=i[ae];I=this.chart.scales[ae].getPixelForValue(he)+b}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")P=(e.left+e.right)/2-b;else if(Re(i)){const ae=Object.keys(i)[0],he=i[ae];P=this.chart.scales[ae].getPixelForValue(he)}D=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?ne="top":d==="end"&&(ne="bottom"));const le=this._getLabelSizes();for(E=0,N=c.length;E<N;++E){j=c[E],O=j.label;const ae=a.setContext(this.getContext(E));$=this.getPixelForTick(E)+a.labelOffset,L=this._resolveTickFontOptions(E),B=L.lineHeight,F=ct(O)?O.length:1;const he=F/2,oe=ae.color,G=ae.textStrokeColor,Z=ae.textStrokeWidth;let R=D;l?(P=$,D==="inner"&&(E===N-1?R=this.options.reverse?"left":"right":E===0?R=this.options.reverse?"right":"left":R="center"),i==="top"?h==="near"||S!==0?V=-F*B+B/2:h==="center"?V=-le.highest.height/2-he*B+B:V=-le.highest.height+B/2:h==="near"||S!==0?V=B/2:h==="center"?V=le.highest.height/2-he*B:V=le.highest.height-F*B,y&&(V*=-1),S!==0&&!ae.showLabelBackdrop&&(P+=B/2*Math.sin(S))):(I=$,V=(1-F)*B/2);let W;if(ae.showLabelBackdrop){const Q=yn(ae.backdropPadding),ge=le.heights[E],ue=le.widths[E];let Te=V-Q.top,ye=0-Q.left;switch(ne){case"middle":Te-=ge/2;break;case"bottom":Te-=ge;break}switch(D){case"center":ye-=ue/2;break;case"right":ye-=ue;break;case"inner":E===N-1?ye-=ue:E>0&&(ye-=ue/2);break}W={left:ye,top:Te,width:ue+Q.width,height:ge+Q.height,color:ae.backdropColor}}x.push({label:O,font:L,textOffset:V,options:{rotation:S,color:oe,strokeColor:G,strokeWidth:Z,textAlign:R,textBaseline:ne,translation:[P,I],backdrop:W}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-or(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,d=l.widest.width;let h,p;return t==="left"?i?(p=this.right+a,r==="near"?h="left":r==="center"?(h="center",p+=d/2):(h="right",p+=d)):(p=this.right-c,r==="near"?h="right":r==="center"?(h="center",p-=d/2):(h="left",p=this.left)):t==="right"?i?(p=this.left+a,r==="near"?h="right":r==="center"?(h="center",p-=d/2):(h="left",p-=d)):(p=this.left+c,r==="near"?h="left":r==="center"?(h="center",p+=d/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(a=>a.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(d,h,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=i.length;a<l;++a){const d=i[a];t.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,p,y,v;this.isHorizontal()?(h=es(e,this.left,l)-l/2,p=es(e,this.right,c)+c/2,y=v=d):(y=es(e,this.top,l)-l/2,v=es(e,this.bottom,c)+c/2,h=p=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(h,y),t.lineTo(p,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ud(r,i);const a=this.getLabelItems(e);for(const l of a){const c=l.options,d=l.font,h=l.label,p=l.textOffset;wo(r,h,0,p,d,c)}i&&Hd(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const a=jt(r.font),l=yn(r.padding),c=r.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||Re(t)?(d+=l.bottom,ct(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:h,titleY:p,maxWidth:y,rotation:v}=aS(this,d,t,c);wo(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:v,textAlign:oS(c,t,i),textBaseline:"middle",translation:[h,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Oe(e.grid&&e.grid.z,-1),i=Oe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ni.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,l;for(a=0,l=t.length;a<l;++a){const c=t[a];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return jt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Za{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;uS(t)&&(r=this.register(t));const i=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in i||(i[a]=e,lS(e,l,r),this.override&&tt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in tt[i]&&(delete tt[i][r],this.override&&delete fs[r])}}function lS(n,e,t){const r=yo(Object.create(null),[t?tt.get(t):{},tt.get(e),n.defaults]);tt.set(e,r),n.defaultRoutes&&cS(e,n.defaultRoutes),n.descriptors&&tt.describe(e,n.descriptors)}function cS(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),d=l.join(".");tt.route(a,i,d,c)})}function uS(n){return"id"in n&&"defaults"in n}class dS{constructor(){this.controllers=new Za(Js,"datasets",!0),this.elements=new Za(ar,"elements"),this.plugins=new Za(Object,"plugins"),this.scales=new Za(ni,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(e,a,i):Le(i,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const i=$d(e);qe(r["before"+i],[],r),t[e](r),qe(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Un=new dS;class hS{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,i){i=i||{};for(const a of e){const l=a.plugin,c=l[r],d=[t,i,a.options];if(qe(c,d,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Fe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Oe(r.options&&r.options.plugins,{}),a=fS(r);return i===!1&&!t?[]:gS(e,a,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(a,l)=>a.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function fS(n){const e={},t=[],r=Object.keys(Un.plugins.items);for(let a=0;a<r.length;a++)t.push(Un.getPlugin(r[a]));const i=n.plugins||[];for(let a=0;a<i.length;a++){const l=i[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function pS(n,e){return!e&&n===!1?null:n===!0?{}:n}function gS(n,{plugins:e,localIds:t},r,i){const a=[],l=n.getContext();for(const c of e){const d=c.id,h=pS(r[d],i);h!==null&&a.push({plugin:c,options:mS(n.config,{plugin:c,local:t[d]},h,l)})}return a}function mS(n,{plugin:e,local:t},r,i){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ud(n,e){const t=tt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function yS(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function vS(n,e){return n===e?"_index_":"_value_"}function Hg(n){if(n==="x"||n==="y"||n==="r")return n}function wS(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function dd(n,...e){if(Hg(n))return n;for(const t of e){const r=t.axis||wS(t.position)||n.length>1&&Hg(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Wg(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function bS(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Wg(n,"x",t[0])||Wg(n,"y",t[0])}return{}}function _S(n,e){const t=fs[n.type]||{scales:{}},r=e.scales||{},i=ud(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!Re(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=dd(l,c,bS(l,n),tt.scales[c.type]),h=vS(d,i),p=t.scales||{};a[l]=ao(Object.create(null),[{axis:d},c,p[d],p[h]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,d=l.indexAxis||ud(c,e),p=(fs[c]||{}).scales||{};Object.keys(p).forEach(y=>{const v=yS(y,d),b=l[v+"AxisID"]||v;a[b]=a[b]||Object.create(null),ao(a[b],[{axis:v},r[b],p[y]])})}),Object.keys(a).forEach(l=>{const c=a[l];ao(c,[tt.scales[c.type],tt.scale])}),a}function Fy(n){const e=n.options||(n.options={});e.plugins=Oe(e.plugins,{}),e.scales=_S(n,e)}function zy(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function xS(n){return n=n||{},n.data=zy(n.data),Fy(n),n}const Vg=new Map,By=new Set;function el(n,e){let t=Vg.get(n);return t||(t=e(),Vg.set(n,t),By.add(t)),t}const Qi=(n,e,t)=>{const r=hs(e,t);r!==void 0&&n.add(r)};class SS{constructor(e){this._config=xS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=zy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Fy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return el(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return el(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return el(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return el(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:a}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const d=new Set;t.forEach(p=>{e&&(d.add(e),p.forEach(y=>Qi(d,e,y))),p.forEach(y=>Qi(d,i,y)),p.forEach(y=>Qi(d,fs[a]||{},y)),p.forEach(y=>Qi(d,tt,y)),p.forEach(y=>Qi(d,ld,y))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),By.has(t)&&l.set(t,h),h}chartOptionScopes(){const{options:e,type:t}=this;return[e,fs[t]||{},tt.datasets[t]||{},{type:t},tt,ld]}resolveNamedOptions(e,t,r,i=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=qg(this._resolverCache,e,i);let d=l;if(ES(l,t)){a.$shared=!1,r=$r(r)?r():r;const h=this.createResolver(e,r,c);d=Zs(l,r,h)}for(const h of t)a[h]=d[h];return a}createResolver(e,t,r=[""],i){const{resolver:a}=qg(this._resolverCache,e,r);return Re(t)?Zs(a,t,void 0,i):a}}function qg(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let a=r.get(i);return a||(a={resolver:Vd(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,a)),a}const kS=n=>Re(n)&&Object.getOwnPropertyNames(n).some(e=>$r(n[e]));function ES(n,e){const{isScriptable:t,isIndexable:r}=Ey(n);for(const i of e){const a=t(i),l=r(i),c=(l||a)&&n[i];if(a&&($r(c)||kS(c))||l&&ct(c))return!0}return!1}var TS="4.5.1";const CS=["top","bottom","left","right","chartArea"];function Kg(n,e){return n==="top"||n==="bottom"||CS.indexOf(n)===-1&&e==="x"}function Yg(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Gg(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),qe(t&&t.onComplete,[n],e)}function jS(n){const e=n.chart,t=e.options.animation;qe(t&&t.onProgress,[n],e)}function Uy(n){return Yd()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const yl={},Jg=n=>{const e=Uy(n);return Object.values(yl).filter(t=>t.canvas===e).pop()};function NS(n,e,t){const r=Object.keys(n);for(const i of r){const a=+i;if(a>=e){const l=n[i];delete n[i],(t>0||a>e)&&(n[a+t]=l)}}}function OS(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Or;let Hl=(Or=class{static register(...e){Un.add(...e),Xg()}static unregister(...e){Un.remove(...e),Xg()}constructor(e,t){const r=this.config=new SS(t),i=Uy(e),a=Jg(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Yx(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,l.aspectRatio),d=c&&c.canvas,h=d&&d.height,p=d&&d.width;if(this.id=Kb(),this.ctx=c,this.canvas=d,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=d_(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],yl[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}nr.listen(this,"complete",Gg),nr.listen(this,"progress",jS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:a}=this;return Fe(e)?t&&a?a:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Un}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vg(this.canvas,this.ctx),this}stop(){return nr.stop(this),this}resize(e,t){nr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,xg(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),qe(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Le(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const c=t[l],d=dd(l,c),h=d==="r",p=d==="x";return{options:c,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Le(a,l=>{const c=l.options,d=c.id,h=dd(d,c),p=Oe(c.type,l.dtype);(c.position===void 0||Kg(c.position,h)!==Kg(l.dposition))&&(c.position=l.dposition),i[d]=!0;let y=null;if(d in r&&r[d].type===p)y=r[d];else{const v=Un.getScale(p);y=new v({id:d,type:p,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,e)}),Le(i,(l,c)=>{l||delete r[c]}),Le(r,l=>{gn.configure(this,l,l.options),gn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,a)=>i.index-a.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Yg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const a=t[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||ud(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=Un.getController(c),{datasetElementType:h,dataElementType:p}=tt.datasets[c];Object.assign(d,{dataElementType:Un.getElement(p),datasetElementType:h&&Un.getElement(h)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Le(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:y}=this.getDatasetMeta(h),v=!i&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Le(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Yg("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Le(this.scales,e=>{gn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!lg(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of t){const l=r==="_removeElements"?-a:a;NS(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),i=r(0);for(let a=1;a<t;a++)if(!lg(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Le(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,$r(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nr.has(this)?this.attached&&!nr.running(this)&&nr.start(this):(this.draw(),Gg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,a;for(i=0,a=t.length;i<a;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=J_(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ud(t,i),e.controller.draw(),i&&Hd(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Sy(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const a=Cx.modes[t];return typeof a=="function"?a(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(a=>a&&a._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,i);vo(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),nr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vg(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete yl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},i=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};Le(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,h)=>{t.addEventListener(this,d,h),e[d]=h},i=(d,h)=>{e[d]&&(t.removeEventListener(this,d,h),delete e[d])},a=(d,h)=>{this.canvas&&this.resize(d,h)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Le(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Le(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let a,l,c,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!bl(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,a=(d,h)=>d.filter(p=>!h.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=a(t,e),c=r?e:a(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:a}=this,l=t,c=this._getActiveElements(e,i,r,l),d=Zb(e),h=OS(e,this._lastEvent,r,d);r&&(this._lastEvent=null,qe(a.onHover,[e,c,this],this),d&&qe(a.onClick,[e,c,this],this));const p=!bl(c,i);return(p||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=h,p}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,i)}},be(Or,"defaults",tt),be(Or,"instances",yl),be(Or,"overrides",fs),be(Or,"registry",Un),be(Or,"version",TS),be(Or,"getChart",Jg),Or);function Xg(){return Le(Hl.instances,n=>n._plugins.invalidate())}function RS(n,e,t){const{startAngle:r,x:i,y:a,outerRadius:l,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:p}=d,y=Math.min(h/l,Hn(r-t));if(n.beginPath(),n.arc(i,a,l-h/2,r+y/2,t-y/2),c>0){const v=Math.min(h/c,Hn(r-t));n.arc(i,a,c+h/2,t-v/2,r+v/2,!0)}else{const v=Math.min(h/2,l*Hn(r-t));if(p==="round")n.arc(i,a,v,t-$e/2,r+$e/2,!0);else if(p==="bevel"){const b=2*v*v,_=-b*Math.cos(t+$e/2)+i,S=-b*Math.sin(t+$e/2)+a,x=b*Math.cos(r+$e/2)+i,E=b*Math.sin(r+$e/2)+a;n.lineTo(_,S),n.lineTo(x,E)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function DS(n,e,t){const{startAngle:r,pixelMargin:i,x:a,y:l,outerRadius:c,innerRadius:d}=e;let h=i/c;n.beginPath(),n.arc(a,l,c,r-h,t+h),d>i?(h=i/d,n.arc(a,l,d,t+h,r-h,!0)):n.arc(a,l,i,t+ut,r-ut),n.closePath(),n.clip()}function PS(n){return Wd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function AS(n,e,t,r){const i=PS(n.options.borderRadius),a=(t-e)/2,l=Math.min(a,r*e/2),c=d=>{const h=(t-Math.min(a,d))*r/2;return Kt(d,0,Math.min(a,h))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:Kt(i.innerStart,0,l),innerEnd:Kt(i.innerEnd,0,l)}}function Fs(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function jl(n,e,t,r,i,a){const{x:l,y:c,startAngle:d,pixelMargin:h,innerRadius:p}=e,y=Math.max(e.outerRadius+r+t-h,0),v=p>0?p+r+t+h:0;let b=0;const _=i-d;if(r){const ae=p>0?p-r:0,he=y>0?y-r:0,oe=(ae+he)/2,G=oe!==0?_*oe/(oe+r):_;b=(_-G)/2}const S=Math.max(.001,_*y-t/$e)/y,x=(_-S)/2,E=d+x+b,N=i-x-b,{outerStart:j,outerEnd:O,innerStart:P,innerEnd:I}=AS(e,v,y,N-E),D=y-j,$=y-O,L=E+j/D,B=N-O/$,F=v+P,V=v+I,ne=E+P/F,le=N-I/V;if(n.beginPath(),a){const ae=(L+B)/2;if(n.arc(l,c,y,L,ae),n.arc(l,c,y,ae,B),O>0){const Z=Fs($,B,l,c);n.arc(Z.x,Z.y,O,B,N+ut)}const he=Fs(V,N,l,c);if(n.lineTo(he.x,he.y),I>0){const Z=Fs(V,le,l,c);n.arc(Z.x,Z.y,I,N+ut,le+Math.PI)}const oe=(N-I/v+(E+P/v))/2;if(n.arc(l,c,v,N-I/v,oe,!0),n.arc(l,c,v,oe,E+P/v,!0),P>0){const Z=Fs(F,ne,l,c);n.arc(Z.x,Z.y,P,ne+Math.PI,E-ut)}const G=Fs(D,E,l,c);if(n.lineTo(G.x,G.y),j>0){const Z=Fs(D,L,l,c);n.arc(Z.x,Z.y,j,E-ut,L)}}else{n.moveTo(l,c);const ae=Math.cos(L)*y+l,he=Math.sin(L)*y+c;n.lineTo(ae,he);const oe=Math.cos(B)*y+l,G=Math.sin(B)*y+c;n.lineTo(oe,G)}n.closePath()}function MS(n,e,t,r,i){const{fullCircles:a,startAngle:l,circumference:c}=e;let d=e.endAngle;if(a){jl(n,e,t,r,d,i);for(let h=0;h<a;++h)n.fill();isNaN(c)||(d=l+(c%it||it))}return jl(n,e,t,r,d,i),n.fill(),d}function IS(n,e,t,r,i){const{fullCircles:a,startAngle:l,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:p,borderDash:y,borderDashOffset:v,borderRadius:b}=d,_=d.borderAlign==="inner";if(!h)return;n.setLineDash(y||[]),n.lineDashOffset=v,_?(n.lineWidth=h*2,n.lineJoin=p||"round"):(n.lineWidth=h,n.lineJoin=p||"bevel");let S=e.endAngle;if(a){jl(n,e,t,r,S,i);for(let x=0;x<a;++x)n.stroke();isNaN(c)||(S=l+(c%it||it))}_&&DS(n,e,S),d.selfJoin&&S-l>=$e&&b===0&&p!=="miter"&&RS(n,e,S),a||(jl(n,e,t,r,S,i),n.stroke())}class to extends ar{constructor(t){super();be(this,"circumference");be(this,"endAngle");be(this,"fullCircles");be(this,"innerRadius");be(this,"outerRadius");be(this,"pixelMargin");be(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,i){const a=this.getProps(["x","y"],i),{angle:l,distance:c}=gy(a,{x:t,y:r}),{startAngle:d,endAngle:h,innerRadius:p,outerRadius:y,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,_=Oe(v,h-d),S=kl(l,d,h)&&d!==h,x=_>=it||S,E=cs(c,p+b,y+b);return x&&E}getCenterPoint(t){const{x:r,y:i,startAngle:a,endAngle:l,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:p}=this.options,y=(a+l)/2,v=(c+d+p+h)/2;return{x:r+Math.cos(y)*v,y:i+Math.sin(y)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:i}=this,a=(r.offset||0)/4,l=(r.spacing||0)/2,c=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>it?Math.floor(i/it):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*a,Math.sin(d)*a);const h=1-Math.sin(Math.min($e,i||0)),p=a*h;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,MS(t,this,p,l,c),IS(t,this,p,l,c),t.restore()}}be(to,"id","arc"),be(to,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),be(to,"defaultRoutes",{backgroundColor:"backgroundColor"}),be(to,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function Hy(n,e){const{x:t,y:r,base:i,width:a,height:l}=n.getProps(["x","y","base","width","height"],e);let c,d,h,p,y;return n.horizontal?(y=l/2,c=Math.min(t,i),d=Math.max(t,i),h=r-y,p=r+y):(y=a/2,c=t-y,d=t+y,h=Math.min(r,i),p=Math.max(r,i)),{left:c,top:h,right:d,bottom:p}}function Mr(n,e,t,r){return n?0:Kt(e,t,r)}function LS(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,a=ky(r);return{t:Mr(i.top,a.top,0,t),r:Mr(i.right,a.right,0,e),b:Mr(i.bottom,a.bottom,0,t),l:Mr(i.left,a.left,0,e)}}function $S(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,a=Ys(i),l=Math.min(e,t),c=n.borderSkipped,d=r||Re(i);return{topLeft:Mr(!d||c.top||c.left,a.topLeft,0,l),topRight:Mr(!d||c.top||c.right,a.topRight,0,l),bottomLeft:Mr(!d||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:Mr(!d||c.bottom||c.right,a.bottomRight,0,l)}}function FS(n){const e=Hy(n),t=e.right-e.left,r=e.bottom-e.top,i=LS(n,t/2,r/2),a=$S(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:a},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Wu(n,e,t,r){const i=e===null,a=t===null,c=n&&!(i&&a)&&Hy(n,r);return c&&(i||cs(e,c.left,c.right))&&(a||cs(t,c.top,c.bottom))}function zS(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function BS(n,e){n.rect(e.x,e.y,e.w,e.h)}function Vu(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+a,h:n.h+l,radius:n.radius}}class vl extends ar{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:l}=FS(this),c=zS(l.radius)?El:BS;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,Vu(l,t,a)),e.clip(),c(e,Vu(a,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Vu(a,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return Wu(this,e,t,r)}inXRange(e,t){return Wu(this,e,null,t)}inYRange(e,t){return Wu(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+i)/2:t,y:a?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}be(vl,"id","bar"),be(vl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),be(vl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Qg=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},US=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Zg extends ar{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=qe(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=jt(r.font),a=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=Qg(r,a);let h,p;t.font=i.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,a,c,d)+10):(p=this.maxHeight,h=this._fitCols(l,i,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],p=i+c;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,b=-p;return this.legendItems.forEach((_,S)=>{const x=r+t/2+a.measureText(_.text).width;(S===0||h[h.length-1]+x+2*c>l)&&(y+=p,h[h.length-(S>0?0:1)]=0,b+=p,v++),d[S]={left:0,top:b,row:v,width:x,height:i},h[h.length-1]+=x+c}),y}_fitCols(e,t,r,i){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-e;let y=c,v=0,b=0,_=0,S=0;return this.legendItems.forEach((x,E)=>{const{itemWidth:N,itemHeight:j}=HS(r,t,a,x,i);E>0&&b+j+2*c>p&&(y+=v+c,h.push({width:v,height:b}),_+=v+c,S++,v=b=0),d[E]={left:_,top:b,col:S,width:N,height:j},v=Math.max(v,N),b+=j+c}),y+=v,h.push({width:v,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:a}}=this,l=Gs(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=Ct(r,this.left+i,this.right-this.lineWidths[c]);for(const h of t)c!==h.row&&(c=h.row,d=Ct(r,this.left+i,this.right-this.lineWidths[c])),h.top+=this.top+e+i,h.left=l.leftForLtr(l.x(d),h.width),d+=h.width+i}else{let c=0,d=Ct(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const h of t)h.col!==c&&(c=h.col,d=Ct(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+i,h.left=l.leftForLtr(l.x(h.left),h.width),d+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ud(e,this),this._draw(),Hd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:a,labels:l}=e,c=tt.color,d=Gs(e.rtl,this.left,this.width),h=jt(l.font),{padding:p}=l,y=h.size,v=y/2;let b;this.drawTitle(),i.textAlign=d.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:_,boxHeight:S,itemHeight:x}=Qg(l,y),E=function(I,D,$){if(isNaN(_)||_<=0||isNaN(S)||S<0)return;i.save();const L=Oe($.lineWidth,1);if(i.fillStyle=Oe($.fillStyle,c),i.lineCap=Oe($.lineCap,"butt"),i.lineDashOffset=Oe($.lineDashOffset,0),i.lineJoin=Oe($.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=Oe($.strokeStyle,c),i.setLineDash(Oe($.lineDash,[])),l.usePointStyle){const B={radius:S*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:L},F=d.xPlus(I,_/2),V=D+v;xy(i,B,F,V,l.pointStyleWidth&&_)}else{const B=D+Math.max((y-S)/2,0),F=d.leftForLtr(I,_),V=Ys($.borderRadius);i.beginPath(),Object.values(V).some(ne=>ne!==0)?El(i,{x:F,y:B,w:_,h:S,radius:V}):i.rect(F,B,_,S),i.fill(),L!==0&&i.stroke()}i.restore()},N=function(I,D,$){wo(i,$.text,I,D+x/2,h,{strikethrough:$.hidden,textAlign:d.textAlign($.textAlign)})},j=this.isHorizontal(),O=this._computeTitleHeight();j?b={x:Ct(a,this.left+p,this.right-r[0]),y:this.top+p+O,line:0}:b={x:this.left+p,y:Ct(a,this.top+O+p,this.bottom-t[0].height),line:0},Ny(this.ctx,e.textDirection);const P=x+p;this.legendItems.forEach((I,D)=>{i.strokeStyle=I.fontColor,i.fillStyle=I.fontColor;const $=i.measureText(I.text).width,L=d.textAlign(I.textAlign||(I.textAlign=l.textAlign)),B=_+v+$;let F=b.x,V=b.y;d.setWidth(this.width),j?D>0&&F+B+p>this.right&&(V=b.y+=P,b.line++,F=b.x=Ct(a,this.left+p,this.right-r[b.line])):D>0&&V+P>this.bottom&&(F=b.x=F+t[b.line].width+p,b.line++,V=b.y=Ct(a,this.top+O+p,this.bottom-t[b.line].height));const ne=d.x(F);if(E(ne,V,I),F=h_(L,F+_+v,j?F+B:this.right,e.rtl),N(d.x(F),V,I),j)b.x+=B+p;else if(typeof I.text!="string"){const le=h.lineHeight;b.y+=Wy(I,le)+p}else b.y+=P}),Oy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=jt(t.font),i=yn(t.padding);if(!t.display)return;const a=Gs(e.rtl,this.left,this.width),l=this.ctx,c=t.position,d=r.size/2,h=i.top+d;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+h,y=Ct(e.align,y,this.right-v);else{const _=this.columnSizes.reduce((S,x)=>Math.max(S,x.height),0);p=h+Ct(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const b=Ct(c,y,y+v);l.textAlign=a.textAlign(zd(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,wo(l,t.text,b,p,r)}_computeTitleHeight(){const e=this.options.title,t=jt(e.font),r=yn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,a;if(cs(e,this.left,this.right)&&cs(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],cs(e,i.left,i.left+i.width)&&cs(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!qS(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,a=US(i,r);i&&!a&&qe(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!a&&qe(t.onHover,[e,r,this],this)}else r&&qe(t.onClick,[e,r,this],this)}}function HS(n,e,t,r,i){const a=WS(r,n,e,t),l=VS(i,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function WS(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(i).width}function VS(n,e,t){let r=n;return typeof e.text!="string"&&(r=Wy(e,t)),r}function Wy(n,e){const t=n.text?n.text.length:0;return e*t}function qS(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var KS={id:"legend",_element:Zg,start(n,e,t){const r=n.legend=new Zg({ctx:n.ctx,options:t,chart:n});gn.configure(n,r,t),gn.addBox(n,r)},stop(n){gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;gn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:a,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(t?0:void 0),p=yn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:l&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Vy extends ar{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=ct(r.text)?r.text.length:1;this._padding=yn(r.padding);const a=i*jt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:a,options:l}=this,c=l.align;let d=0,h,p,y;return this.isHorizontal()?(p=Ct(c,r,a),y=t+e,h=a-r):(l.position==="left"?(p=r+e,y=Ct(c,i,t),d=$e*-.5):(p=a-e,y=Ct(c,t,i),d=$e*.5),h=i-t),{titleX:p,titleY:y,maxWidth:h,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=jt(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(a);wo(e,t.text,0,0,r,{color:t.color,maxWidth:d,rotation:h,textAlign:zd(t.align),textBaseline:"middle",translation:[l,c]})}}function YS(n,e){const t=new Vy({ctx:n.ctx,options:e,chart:n});gn.configure(n,t,e),gn.addBox(n,t),n.titleBlock=t}var GS={id:"title",_element:Vy,start(n,e,t){YS(n,t)},stop(n){const e=n.titleBlock;gn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;gn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const no={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,a=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),i+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:i/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),p=o_(e,h);p<i&&(i=p,c=d)}}if(c){const d=c.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function Bn(n,e){return e&&(ct(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function rr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function JS(n,e){const{element:t,datasetIndex:r,index:i}=e,a=n.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(i);return{chart:n,label:l,parsed:a.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:c,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function em(n,e){const t=n.chart.ctx,{body:r,footer:i,title:a}=n,{boxWidth:l,boxHeight:c}=e,d=jt(e.bodyFont),h=jt(e.titleFont),p=jt(e.footerFont),y=a.length,v=i.length,b=r.length,_=yn(e.padding);let S=_.height,x=0,E=r.reduce((O,P)=>O+P.before.length+P.lines.length+P.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,y&&(S+=y*h.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),E){const O=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;S+=b*O+(E-b)*d.lineHeight+(E-1)*e.bodySpacing}v&&(S+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let N=0;const j=function(O){x=Math.max(x,t.measureText(O).width+N)};return t.save(),t.font=h.string,Le(n.title,j),t.font=d.string,Le(n.beforeBody.concat(n.afterBody),j),N=e.displayColors?l+2+e.boxPadding:0,Le(r,O=>{Le(O.before,j),Le(O.lines,j),Le(O.after,j)}),N=0,t.font=p.string,Le(n.footer,j),t.restore(),x+=_.width,{width:x,height:S}}function XS(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function QS(n,e,t,r){const{x:i,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+a+l>e.width||n==="right"&&i-a-l<0)return!0}function ZS(n,e,t,r){const{x:i,width:a}=t,{width:l,chartArea:{left:c,right:d}}=n;let h="center";return r==="center"?h=i<=(c+d)/2?"left":"right":i<=a/2?h="left":i>=l-a/2&&(h="right"),QS(h,n,e,t)&&(h="center"),h}function tm(n,e,t){const r=t.yAlign||e.yAlign||XS(n,t);return{xAlign:t.xAlign||e.xAlign||ZS(n,e,t,r),yAlign:r}}function ek(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function tk(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function nm(n,e,t,r){const{caretSize:i,caretPadding:a,cornerRadius:l}=n,{xAlign:c,yAlign:d}=t,h=i+a,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:b}=Ys(l);let _=ek(e,c);const S=tk(e,d,h);return d==="center"?c==="left"?_+=h:c==="right"&&(_-=h):c==="left"?_-=Math.max(p,v)+i:c==="right"&&(_+=Math.max(y,b)+i),{x:Kt(_,0,r.width-e.width),y:Kt(S,0,r.height-e.height)}}function tl(n,e,t){const r=yn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function rm(n){return Bn([],rr(n))}function nk(n,e,t){return ti(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function sm(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const qy={beforeTitle:tr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:tr,beforeBody:tr,beforeLabel:tr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Fe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:tr,afterBody:tr,beforeFooter:tr,footer:tr,afterFooter:tr};function Vt(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?qy[e].call(t,r):i}class hd extends ar{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,a=new Ry(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=nk(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=Vt(r,"beforeTitle",this,e),a=Vt(r,"title",this,e),l=Vt(r,"afterTitle",this,e);let c=[];return c=Bn(c,rr(i)),c=Bn(c,rr(a)),c=Bn(c,rr(l)),c}getBeforeBody(e,t){return rm(Vt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Le(e,a=>{const l={before:[],lines:[],after:[]},c=sm(r,a);Bn(l.before,rr(Vt(c,"beforeLabel",this,a))),Bn(l.lines,Vt(c,"label",this,a)),Bn(l.after,rr(Vt(c,"afterLabel",this,a))),i.push(l)}),i}getAfterBody(e,t){return rm(Vt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=Vt(r,"beforeFooter",this,e),a=Vt(r,"footer",this,e),l=Vt(r,"afterFooter",this,e);let c=[];return c=Bn(c,rr(i)),c=Bn(c,rr(a)),c=Bn(c,rr(l)),c}_createItems(e){const t=this._active,r=this.chart.data,i=[],a=[],l=[];let c=[],d,h;for(d=0,h=t.length;d<h;++d)c.push(JS(this.chart,t[d]));return e.filter&&(c=c.filter((p,y,v)=>e.filter(p,y,v,r))),e.itemSort&&(c=c.sort((p,y)=>e.itemSort(p,y,r))),Le(c,p=>{const y=sm(e.callbacks,p);i.push(Vt(y,"labelColor",this,p)),a.push(Vt(y,"labelPointStyle",this,p)),l.push(Vt(y,"labelTextColor",this,p))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let a,l=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const c=no[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=em(this,r),h=Object.assign({},c,d),p=tm(this.chart,r,h),y=nm(r,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const a=this.getCaretPosition(e,r,i);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:y}=Ys(c),{x:v,y:b}=e,{width:_,height:S}=t;let x,E,N,j,O,P;return a==="center"?(O=b+S/2,i==="left"?(x=v,E=x-l,j=O+l,P=O-l):(x=v+_,E=x+l,j=O-l,P=O+l),N=x):(i==="left"?E=v+Math.max(d,p)+l:i==="right"?E=v+_-Math.max(h,y)-l:E=this.caretX,a==="top"?(j=b,O=j-l,x=E-l,N=E+l):(j=b+S,O=j+l,x=E+l,N=E-l),P=j),{x1:x,x2:E,x3:N,y1:j,y2:O,y3:P}}drawTitle(e,t,r){const i=this.title,a=i.length;let l,c,d;if(a){const h=Gs(r.rtl,this.x,this.width);for(e.x=tl(this,r.titleAlign,r),t.textAlign=h.textAlign(r.titleAlign),t.textBaseline="middle",l=jt(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(i[d],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,i,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:h}=a,p=jt(a.bodyFont),y=tl(this,"left",a),v=i.x(y),b=d<p.lineHeight?(p.lineHeight-d)/2:0,_=t.y+b;if(a.usePointStyle){const S={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},x=i.leftForLtr(v,h)+h/2,E=_+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,wg(e,S,x,E),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,wg(e,S,x,E)}else{e.lineWidth=Re(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=i.leftForLtr(v,h),x=i.leftForLtr(i.xPlus(v,1),h-2),E=Ys(l.borderRadius);Object.values(E).some(N=>N!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,El(e,{x:S,y:_,w:h,h:d,radius:E}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),El(e,{x,y:_+1,w:h-2,h:d-2,radius:E}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(S,_,h,d),e.strokeRect(S,_,h,d),e.fillStyle=l.backgroundColor,e.fillRect(x,_+1,h-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:p}=r,y=jt(r.bodyFont);let v=y.lineHeight,b=0;const _=Gs(r.rtl,this.x,this.width),S=function($){t.fillText($,_.x(e.x+b),e.y+v/2),e.y+=v+a},x=_.textAlign(l);let E,N,j,O,P,I,D;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=tl(this,x,r),t.fillStyle=r.bodyColor,Le(this.beforeBody,S),b=c&&x!=="right"?l==="center"?h/2+p:h+2+p:0,O=0,I=i.length;O<I;++O){for(E=i[O],N=this.labelTextColors[O],t.fillStyle=N,Le(E.before,S),j=E.lines,c&&j.length&&(this._drawColorBox(t,e,O,_,r),v=Math.max(y.lineHeight,d)),P=0,D=j.length;P<D;++P)S(j[P]),v=y.lineHeight;Le(E.after,S)}b=0,v=y.lineHeight,Le(this.afterBody,S),e.y-=a}drawFooter(e,t,r){const i=this.footer,a=i.length;let l,c;if(a){const d=Gs(r.rtl,this.x,this.width);for(e.x=tl(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=jt(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<a;++c)t.fillText(i[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:h,height:p}=r,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:_}=Ys(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+y,d),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(c+h-v,d),t.quadraticCurveTo(c+h,d,c+h,d+v),l==="center"&&a==="right"&&this.drawCaret(e,t,r,i),t.lineTo(c+h,d+p-_),t.quadraticCurveTo(c+h,d+p,c+h-_,d+p),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(c+b,d+p),t.quadraticCurveTo(c,d+p,c,d+p-b),l==="center"&&a==="left"&&this.drawCaret(e,t,r,i),t.lineTo(c,d+y),t.quadraticCurveTo(c,d,c+y,d),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const l=no[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=em(this,e),d=Object.assign({},l,this._size),h=tm(t,e,d),p=nm(e,d,h,t);(i._to!==p.x||a._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=yn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,i,t),Ny(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),Oy(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),a=!bl(r,i),l=this._positionChanged(i,t);(a||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),c=this._positionChanged(l,e),d=t||!bl(l,a)||c;return d&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,i){const a=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:a}=this,l=no[a.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}be(hd,"positioners",no);var rk={id:"tooltip",_element:hd,positioners:no,afterInit(n,e,t){t&&(n.tooltip=new hd({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const sk=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function ik(n,e,t,r){const i=n.indexOf(e);if(i===-1)return sk(n,e,t,r);const a=n.lastIndexOf(e);return i!==a?t:i}const ok=(n,e)=>n===null?null:Kt(Math.round(n),0,e);function im(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class fd extends ni{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:a}of t)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Fe(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:ik(r,e,Oe(t,e),this._addedLabels),ok(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return im.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}be(fd,"id","category"),be(fd,"defaults",{ticks:{callback:im}});function ak(n,e){const t=[],{bounds:i,step:a,min:l,max:c,precision:d,count:h,maxTicks:p,maxDigits:y,includeBounds:v}=n,b=a||1,_=p-1,{min:S,max:x}=e,E=!Fe(l),N=!Fe(c),j=!Fe(h),O=(x-S)/(y+1);let P=ug((x-S)/_/b)*b,I,D,$,L;if(P<1e-14&&!E&&!N)return[{value:S},{value:x}];L=Math.ceil(x/P)-Math.floor(S/P),L>_&&(P=ug(L*P/_/b)*b),Fe(d)||(I=Math.pow(10,d),P=Math.ceil(P*I)/I),i==="ticks"?(D=Math.floor(S/P)*P,$=Math.ceil(x/P)*P):(D=S,$=x),E&&N&&a&&r_((c-l)/a,P/1e3)?(L=Math.round(Math.min((c-l)/P,p)),P=(c-l)/L,D=l,$=c):j?(D=E?l:D,$=N?c:$,L=h-1,P=($-D)/L):(L=($-D)/P,pl(L,Math.round(L),P/1e3)?L=Math.round(L):L=Math.ceil(L));const B=Math.max(dg(P),dg(D));I=Math.pow(10,Fe(d)?B:d),D=Math.round(D*I)/I,$=Math.round($*I)/I;let F=0;for(E&&(v&&D!==l?(t.push({value:l}),D<l&&F++,pl(Math.round((D+F*P)*I)/I,l,om(l,O,n))&&F++):D<l&&F++);F<L;++F){const V=Math.round((D+F*P)*I)/I;if(N&&V>c)break;t.push({value:V})}return N&&v&&$!==c?t.length&&pl(t[t.length-1].value,c,om(c,O,n))?t[t.length-1].value=c:t.push({value:c}):(!N||$===c)&&t.push({value:$}),t}function om(n,e,{horizontal:t,minRotation:r}){const i=or(r),a=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class lk extends ni{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Fe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const l=d=>i=t?i:d,c=d=>a=r?a:d;if(e){const d=Lr(i),h=Lr(a);d<0&&h<0?c(0):d>0&&h>0&&l(0)}if(i===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||l(i-d)}this.min=i,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=ak(i,a);return e.bounds==="ticks"&&s_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Bd(e,this.chart.options.locale,this.options.ticks.format)}}class pd extends lk{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=mn(e)?e:0,this.max=mn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=or(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}be(pd,"id","linear"),be(pd,"defaults",{ticks:{callback:_y.formatters.numeric}});const Wl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qt=Object.keys(Wl);function am(n,e){return n-e}function lm(n,e){if(Fe(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),mn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Sl(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,i)),+l)}function cm(n,e,t,r){const i=qt.length;for(let a=qt.indexOf(n);a<i-1;++a){const l=Wl[qt[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return qt[a]}return qt[i-1]}function ck(n,e,t,r,i){for(let a=qt.length-1;a>=qt.indexOf(t);a--){const l=qt[a];if(Wl[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return qt[t?qt.indexOf(t):0]}function uk(n){for(let e=qt.indexOf(n)+1,t=qt.length;e<t;++e)if(Wl[qt[e]].common)return qt[e]}function um(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=Fd(t,e),a=t[r]>=e?t[r]:t[i];n[a]=!0}}function dk(n,e,t,r){const i=n._adapter,a=+i.startOf(e[0].value,r),l=e[e.length-1].value;let c,d;for(c=a;c<=l;c=+i.add(c,1,r))d=t[c],d>=0&&(e[d].major=!0);return e}function dm(n,e,t){const r=[],i={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],i[c]=l,r.push({value:c,major:!1});return a===0||!t?r:dk(n,r,i,t)}class Nl extends ni{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new xx._date(e.adapters.date);i.init(t),ao(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:lm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(h){!l&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!c&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),i=mn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),a=mn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,l=this.max,c=c_(i,a,l);return this._unit=t.unit||(r.autoSkip?cm(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):ck(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:uk(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),dm(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,a;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Kt(t,0,l),r=Kt(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,a=i.time,l=a.unit||cm(a.minUnit,t,r,this._getLabelCapacity(t)),c=Oe(i.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,h=Sl(d)||d===!0,p={};let y=t,v,b;if(h&&(y=+e.startOf(y,"isoWeek",d)),y=+e.startOf(y,h?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(v=y,b=0;v<r;v=+e.add(v,c,l),b++)um(p,v,_);return(v===r||i.bounds==="ticks"||b===1)&&um(p,v,_),Object.keys(p).sort(am).map(S=>+S)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,a=this._unit,l=t||i[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const a=this.options,l=a.ticks.callback;if(l)return qe(l,[e,t,r],this);const c=a.time.displayFormats,d=this._unit,h=this._majorUnit,p=d&&c[d],y=h&&c[h],v=r[t],b=h&&y&&v&&v.major;return this._adapter.format(e,i||(b?y:p))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=or(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,dm(this,[e],this._majorUnit),i),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(lm(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yy(e.sort(am))}}be(Nl,"id","time"),be(Nl,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function nl(n,e,t){let r=0,i=n.length-1,a,l,c,d;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=ad(n,"pos",e)),{pos:a,time:c}=n[r],{pos:l,time:d}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=ad(n,"time",e)),{time:a,pos:c}=n[r],{time:l,pos:d}=n[i]);const h=l-a;return h?c+(d-c)*(e-a)/h:c}class hm extends Nl{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=nl(t,this.min),this._tableRange=nl(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],a=[];let l,c,d,h,p;for(l=0,c=e.length;l<c;++l)h=e[l],h>=t&&h<=r&&i.push(h);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=i.length;l<c;++l)p=i[l+1],d=i[l-1],h=i[l],Math.round((p+d)/2)!==h&&a.push({time:h,pos:l/(c-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(nl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return nl(this._table,r*this._tableRange+this._minPos,!0)}}be(hm,"id","timeseries"),be(hm,"defaults",Nl.defaults);const Ky="label";function fm(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function hk(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Yy(n,e){n.labels=e}function Gy(n,e,t=Ky){const r=[];n.datasets=e.map(i=>{const a=n.datasets.find(l=>l[t]===i[t]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function fk(n,e=Ky){const t={labels:[],datasets:[]};return Yy(t,n.labels),Gy(t,n.datasets,e),t}function pk(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:l,data:c,options:d,plugins:h=[],fallbackContent:p,updateMode:y,...v}=n,b=T.useRef(null),_=T.useRef(null),S=()=>{b.current&&(_.current=new Hl(b.current,{type:l,data:fk(c,a),options:d&&{...d},plugins:h}),fm(e,_.current))},x=()=>{fm(e,null),_.current&&(_.current.destroy(),_.current=null)};return T.useEffect(()=>{!i&&_.current&&d&&hk(_.current,d)},[i,d]),T.useEffect(()=>{!i&&_.current&&Yy(_.current.config.data,c.labels)},[i,c.labels]),T.useEffect(()=>{!i&&_.current&&c.datasets&&Gy(_.current.config.data,c.datasets,a)},[i,c.datasets]),T.useEffect(()=>{_.current&&(i?(x(),setTimeout(S)):_.current.update(y))},[i,d,c.labels,c.datasets,y]),T.useEffect(()=>{_.current&&(x(),setTimeout(S))},[l]),T.useEffect(()=>(S(),()=>x()),[]),g.jsx("canvas",{ref:b,role:"img",height:t,width:r,...v,children:p})}const gk=T.forwardRef(pk);function Xd(n,e){return Hl.register(e),T.forwardRef((t,r)=>g.jsx(gk,{...t,ref:r,type:n}))}const pm=Xd("bar",gl),mk=Xd("doughnut",Ks),yk=Xd("pie",cd);Hl.register(to,fd,pd,vl,GS,rk,KS);function vk({tasks:n}){const e=n.length,t=n.filter(D=>D.completed).length,r=e-t,i=e>0?Math.round(t/e*100):0,a=n.filter(D=>D.priority==="high"&&!D.completed).length,l=n.filter(D=>D.priority==="medium"&&!D.completed).length,c=n.filter(D=>D.priority==="low"&&!D.completed).length,d=n.filter(D=>{if(!D.dueDate||D.completed)return!1;const[$,L,B]=D.dueDate.split("-").map(Number);return new Date($,L-1,B)<new Date}).length,h={};n.forEach(D=>{D.category&&!D.completed&&(h[D.category]=(h[D.category]||0)+1)});const p=new Date,y=new Date(p.getTime()+10080*60*1e3),v=n.filter(D=>{if(!D.dueDate||D.completed)return!1;const[$,L,B]=D.dueDate.split("-").map(Number),F=new Date($,L-1,B);return F>=p&&F<=y}).length,b=n.reduce((D,$)=>D+($.timeSpent||0),0),_=D=>{if(D<60)return`${D}s`;if(D<3600)return`${Math.floor(D/60)}m`;const $=Math.floor(D/3600),L=Math.floor(D%3600/60);return L>0?`${$}h ${L}m`:`${$}h`},S={high:n.filter(D=>D.priority==="high").reduce((D,$)=>D+($.timeSpent||0),0),medium:n.filter(D=>D.priority==="medium").reduce((D,$)=>D+($.timeSpent||0),0),low:n.filter(D=>D.priority==="low").reduce((D,$)=>D+($.timeSpent||0),0)},x=D=>(D/3600).toFixed(1),E={labels:["High","Medium","Low"],datasets:[{label:"Time Spent (hours)",data:[x(S.high),x(S.medium),x(S.low)],backgroundColor:["rgba(255, 107, 107, 0.8)","rgba(255, 212, 59, 0.8)","rgba(81, 207, 102, 0.8)"],borderColor:["#ff6b6b","#ffd43b","#51cf66"],borderWidth:2}]},N={labels:["Completed","Active"],datasets:[{data:[t,r],backgroundColor:["#51cf66","#667eea"],borderColor:["#40c057","#5568d3"],borderWidth:2}]},j={labels:["High","Medium","Low"],datasets:[{label:"Active Tasks by Priority",data:[a,l,c],backgroundColor:["#ff6b6b","#ffd43b","#51cf66"],borderColor:["#ee5a5a","#fcc419","#40c057"],borderWidth:2}]},O={labels:Object.keys(h).length>0?Object.keys(h):["No Categories"],datasets:[{data:Object.keys(h).length>0?Object.values(h):[1],backgroundColor:["#667eea","#764ba2","#f093fb","#4facfe","#43e97b","#fa709a"],borderWidth:2}]},P={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom"}}},I={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return g.jsxs("div",{className:"dashboard",children:[g.jsx("h2",{className:"dashboard-title",children:"Dashboard"}),g.jsxs("div",{className:"stats-grid",children:[g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsx("div",{className:"stat-value",children:e}),g.jsx("div",{className:"stat-label",children:"Total Tasks"})]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsx("div",{className:"stat-value",children:t}),g.jsx("div",{className:"stat-label",children:"Completed"})]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsx("div",{className:"stat-value",children:r}),g.jsx("div",{className:"stat-label",children:"Active"})]})]}),g.jsxs("div",{className:"stat-card",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsxs("div",{className:"stat-value",children:[i,"%"]}),g.jsx("div",{className:"stat-label",children:"Completion Rate"})]})]}),g.jsxs("div",{className:"stat-card alert",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsx("div",{className:"stat-value",children:d}),g.jsx("div",{className:"stat-label",children:"Overdue"})]})]}),g.jsxs("div",{className:"stat-card info",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsx("div",{className:"stat-value",children:v}),g.jsx("div",{className:"stat-label",children:"Due This Week"})]})]}),g.jsxs("div",{className:"stat-card success",children:[g.jsx("div",{className:"stat-icon",children:""}),g.jsxs("div",{className:"stat-info",children:[g.jsx("div",{className:"stat-value",children:_(b)}),g.jsx("div",{className:"stat-label",children:"Time Tracked"})]})]})]}),g.jsxs("div",{className:"charts-grid",children:[g.jsxs("div",{className:"chart-container",children:[g.jsx("h3",{className:"chart-title",children:"Task Completion"}),e>0?g.jsx(yk,{data:N,options:P}):g.jsx("p",{className:"no-data",children:"No tasks to display"})]}),g.jsxs("div",{className:"chart-container",children:[g.jsx("h3",{className:"chart-title",children:"Active Tasks by Priority"}),r>0?g.jsx(pm,{data:j,options:I}):g.jsx("p",{className:"no-data",children:"No active tasks"})]}),g.jsxs("div",{className:"chart-container",children:[g.jsx("h3",{className:"chart-title",children:"Active Tasks by Category"}),Object.keys(h).length>0?g.jsx(mk,{data:O,options:P}):g.jsx("p",{className:"no-data",children:"No categorized tasks"})]}),g.jsxs("div",{className:"chart-container",children:[g.jsx("h3",{className:"chart-title",children:"Time Spent by Priority"}),b>0?g.jsx(pm,{data:E,options:I}):g.jsx("p",{className:"no-data",children:"No time tracked yet"})]})]})]})}function wk({tasks:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a}){const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),d=x=>{if(!x.dueDate)return null;const[E,N,j]=x.dueDate.split("-").map(Number);return new Date(E,N-1,j)},h=n.filter(x=>x.completed||!x.dueDate?!1:d(x)<c),p=n.filter(x=>x.completed||!x.dueDate?!1:d(x).getTime()===c.getTime()),y=n.filter(x=>!x.completed||!x.dueDate?!1:d(x).getTime()===c.getTime()),v=p.length+y.length,b=y.length,_=v>0?Math.round(b/v*100):0,S=()=>{const x={weekday:"long",month:"long",day:"numeric"};return c.toLocaleDateString("en-US",x)};return g.jsxs("div",{className:"today-view",children:[g.jsxs("div",{className:"today-header",children:[g.jsxs("div",{className:"today-title-section",children:[g.jsx("h2",{className:"today-title",children:"Today"}),g.jsx("p",{className:"today-date",children:S()})]}),v>0&&g.jsxs("div",{className:"today-progress",children:[g.jsxs("div",{className:"progress-circle",children:[g.jsxs("svg",{width:"60",height:"60",viewBox:"0 0 60 60",children:[g.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#e0e0e0",strokeWidth:"4"}),g.jsx("circle",{cx:"30",cy:"30",r:"24",fill:"none",stroke:"#4CAF50",strokeWidth:"4",strokeDasharray:`${2*Math.PI*24}`,strokeDashoffset:`${2*Math.PI*24*(1-_/100)}`,transform:"rotate(-90 30 30)",strokeLinecap:"round"})]}),g.jsxs("span",{className:"progress-text",children:[_,"%"]})]}),g.jsxs("div",{className:"progress-details",children:[g.jsx("p",{className:"progress-label",children:"Progress"}),g.jsxs("p",{className:"progress-count",children:[b," of ",v]})]})]})]}),h.length>0&&g.jsxs("div",{className:"task-section overdue-section",children:[g.jsx("div",{className:"section-header",children:g.jsxs("h3",{className:"section-title overdue-title",children:[g.jsx("span",{className:"overdue-icon",children:""}),"Overdue",g.jsx("span",{className:"task-count-badge overdue-badge",children:h.length})]})}),g.jsx("div",{className:"task-list",children:h.map(x=>g.jsx(oo,{task:x,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a},x.id))})]}),g.jsxs("div",{className:"task-section today-tasks-section",children:[g.jsx("div",{className:"section-header",children:g.jsxs("h3",{className:"section-title",children:["Tasks for Today",p.length>0&&g.jsx("span",{className:"task-count-badge",children:p.length})]})}),p.length===0&&h.length===0?g.jsxs("div",{className:"empty-today",children:[g.jsx("div",{className:"empty-today-icon",children:""}),g.jsx("h3",{className:"empty-today-title",children:"All clear!"}),g.jsx("p",{className:"empty-today-message",children:"No tasks scheduled for today. Enjoy your day!"})]}):p.length===0?g.jsx("div",{className:"empty-state-small",children:g.jsx("p",{children:"No tasks scheduled for today"})}):g.jsx("div",{className:"task-list",children:p.map(x=>g.jsx(oo,{task:x,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a},x.id))})]}),y.length>0&&g.jsxs("div",{className:"task-section completed-section",children:[g.jsx("div",{className:"section-header",children:g.jsxs("h3",{className:"section-title completed-title",children:[g.jsx("span",{className:"completed-icon",children:""}),"Completed",g.jsx("span",{className:"task-count-badge completed-badge",children:y.length})]})}),g.jsx("div",{className:"task-list",children:y.map(x=>g.jsx(oo,{task:x,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a},x.id))})]})]})}var ro=sy();function bk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Vl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ri(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function Qd(n){return"nodeType"in n}function Pt(n){var e,t;return n?ri(n)?n:Qd(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Zd(n){const{Document:e}=Pt(n);return n instanceof e}function Co(n){return ri(n)?!1:n instanceof Pt(n).HTMLElement}function Jy(n){return n instanceof Pt(n).SVGElement}function si(n){return n?ri(n)?n.document:Qd(n)?Zd(n)?n:Co(n)||Jy(n)?n.ownerDocument:document:document:document}const Nn=Vl?T.useLayoutEffect:T.useEffect;function ql(n){const e=T.useRef(n);return Nn(()=>{e.current=n}),T.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function _k(){const n=T.useRef(null),e=T.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=T.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function _o(n,e){e===void 0&&(e=[n]);const t=T.useRef(n);return Nn(()=>{t.current!==n&&(t.current=n)},e),t}function jo(n,e){const t=T.useRef();return T.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function Ol(n){const e=ql(n),t=T.useRef(null),r=T.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function Rl(n){const e=T.useRef();return T.useEffect(()=>{e.current=n},[n]),e.current}let qu={};function No(n,e){return T.useMemo(()=>{if(e)return e;const t=qu[n]==null?0:qu[n]+1;return qu[n]=t,n+"-"+t},[n,e])}function Xy(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((a,l)=>{const c=Object.entries(l);for(const[d,h]of c){const p=a[d];p!=null&&(a[d]=p+n*h)}return a},{...e})}}const Xs=Xy(1),Dl=Xy(-1);function xk(n){return"clientX"in n&&"clientY"in n}function Kl(n){if(!n)return!1;const{KeyboardEvent:e}=Pt(n.target);return e&&n instanceof e}function Sk(n){if(!n)return!1;const{TouchEvent:e}=Pt(n.target);return e&&n instanceof e}function Pl(n){if(Sk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return xk(n)?{x:n.clientX,y:n.clientY}:null}const Wn=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Wn.Translate.toString(n),Wn.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),gm="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kk(n){return n.matches(gm)?n:n.querySelector(gm)}const Ek={display:"none"};function Tk(n){let{id:e,value:t}=n;return Ye.createElement("div",{id:e,style:Ek},t)}function Ck(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ye.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function jk(){const[n,e]=T.useState("");return{announce:T.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Qy=T.createContext(null);function Nk(n){const e=T.useContext(Qy);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Ok(){const[n]=T.useState(()=>new Set),e=T.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[T.useCallback(r=>{let{type:i,event:a}=r;n.forEach(l=>{var c;return(c=l[i])==null?void 0:c.call(l,a)})},[n]),e]}const Rk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Dk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Pk(n){let{announcements:e=Dk,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=Rk}=n;const{announce:a,announcement:l}=jk(),c=No("DndLiveRegion"),[d,h]=T.useState(!1);if(T.useEffect(()=>{h(!0)},[]),Nk(T.useMemo(()=>({onDragStart(y){let{active:v}=y;a(e.onDragStart({active:v}))},onDragMove(y){let{active:v,over:b}=y;e.onDragMove&&a(e.onDragMove({active:v,over:b}))},onDragOver(y){let{active:v,over:b}=y;a(e.onDragOver({active:v,over:b}))},onDragEnd(y){let{active:v,over:b}=y;a(e.onDragEnd({active:v,over:b}))},onDragCancel(y){let{active:v,over:b}=y;a(e.onDragCancel({active:v,over:b}))}}),[a,e])),!d)return null;const p=Ye.createElement(Ye.Fragment,null,Ye.createElement(Tk,{id:r,value:i.draggable}),Ye.createElement(Ck,{id:c,announcement:l}));return t?ro.createPortal(p,t):p}var lt;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function Al(){}function eh(n,e){return T.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function th(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return T.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const On=Object.freeze({x:0,y:0});function Ak(n,e){const t=Pl(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function Mk(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function Ik(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Lk(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),a=Math.min(e.top+e.height,n.top+n.height),l=i-r,c=a-t;if(r<i&&t<a){const d=e.width*e.height,h=n.width*n.height,p=l*c,y=p/(d+h-p);return Number(y.toFixed(4))}return 0}const $k=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const a of r){const{id:l}=a,c=t.get(l);if(c){const d=Lk(c,e);d>0&&i.push({id:l,data:{droppableContainer:a,value:d}})}}return i.sort(Mk)};function Fk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Zy(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:On}function zk(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((l,c)=>({...l,top:l.top+n*c.y,bottom:l.bottom+n*c.y,left:l.left+n*c.x,right:l.right+n*c.x}),{...t})}}const Bk=zk(1);function ev(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Uk(n,e,t){const r=ev(e);if(!r)return n;const{scaleX:i,scaleY:a,x:l,y:c}=r,d=n.left-l-(1-i)*parseFloat(t),h=n.top-c-(1-a)*parseFloat(t.slice(t.indexOf(" ")+1)),p=i?n.width/i:n.width,y=a?n.height/a:n.height;return{width:p,height:y,top:h,right:d+p,bottom:h+y,left:d}}const Hk={ignoreTransform:!1};function ii(n,e){e===void 0&&(e=Hk);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:p}=Pt(n).getComputedStyle(n);h&&(t=Uk(t,h,p))}const{top:r,left:i,width:a,height:l,bottom:c,right:d}=t;return{top:r,left:i,width:a,height:l,bottom:c,right:d}}function mm(n){return ii(n,{ignoreTransform:!0})}function Wk(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Vk(n,e){return e===void 0&&(e=Pt(n).getComputedStyle(n)),e.position==="fixed"}function qk(n,e){e===void 0&&(e=Pt(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?t.test(a):!1})}function nh(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(Zd(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Co(i)||Jy(i)||t.includes(i))return t;const a=Pt(n).getComputedStyle(i);return i!==n&&qk(i,a)&&t.push(i),Vk(i,a)?t:r(i.parentNode)}return n?r(n):t}function tv(n){const[e]=nh(n,1);return e??null}function Ku(n){return!Vl||!n?null:ri(n)?n:Qd(n)?Zd(n)||n===si(n).scrollingElement?window:Co(n)?n:null:null}function nv(n){return ri(n)?n.scrollX:n.scrollLeft}function rv(n){return ri(n)?n.scrollY:n.scrollTop}function gd(n){return{x:nv(n),y:rv(n)}}var ft;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(ft||(ft={}));function sv(n){return!Vl||!n?!1:n===document.scrollingElement}function iv(n){const e={x:0,y:0},t=sv(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,a=n.scrollLeft<=e.x,l=n.scrollTop>=r.y,c=n.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:l,isRight:c,maxScroll:r,minScroll:e}}const Kk={x:.2,y:.2};function Yk(n,e,t,r,i){let{top:a,left:l,right:c,bottom:d}=t;r===void 0&&(r=10),i===void 0&&(i=Kk);const{isTop:h,isBottom:p,isLeft:y,isRight:v}=iv(n),b={x:0,y:0},_={x:0,y:0},S={height:e.height*i.y,width:e.width*i.x};return!h&&a<=e.top+S.height?(b.y=ft.Backward,_.y=r*Math.abs((e.top+S.height-a)/S.height)):!p&&d>=e.bottom-S.height&&(b.y=ft.Forward,_.y=r*Math.abs((e.bottom-S.height-d)/S.height)),!v&&c>=e.right-S.width?(b.x=ft.Forward,_.x=r*Math.abs((e.right-S.width-c)/S.width)):!y&&l<=e.left+S.width&&(b.x=ft.Backward,_.x=r*Math.abs((e.left+S.width-l)/S.width)),{direction:b,speed:_}}function Gk(n){if(n===document.scrollingElement){const{innerWidth:a,innerHeight:l}=window;return{top:0,left:0,right:a,bottom:l,width:a,height:l}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function ov(n){return n.reduce((e,t)=>Xs(e,gd(t)),On)}function Jk(n){return n.reduce((e,t)=>e+nv(t),0)}function Xk(n){return n.reduce((e,t)=>e+rv(t),0)}function av(n,e){if(e===void 0&&(e=ii),!n)return;const{top:t,left:r,bottom:i,right:a}=e(n);tv(n)&&(i<=0||a<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Qk=[["x",["left","right"],Jk],["y",["top","bottom"],Xk]];class rh{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=nh(t),i=ov(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,l,c]of Qk)for(const d of l)Object.defineProperty(this,d,{get:()=>{const h=c(r),p=i[a]-h;return this.rect[d]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class uo{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Zk(n){const{EventTarget:e}=Pt(n);return n instanceof e?n:si(n)}function Yu(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var fn;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(fn||(fn={}));function ym(n){n.preventDefault()}function eE(n){n.stopPropagation()}var Ae;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Ae||(Ae={}));const lv={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter,Ae.Tab]},tE=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Ae.Right:return{...t,x:t.x+25};case Ae.Left:return{...t,x:t.x-25};case Ae.Down:return{...t,y:t.y+25};case Ae.Up:return{...t,y:t.y-25}}};class cv{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new uo(si(t)),this.windowListeners=new uo(Pt(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&av(r),t(On)}handleKeyDown(e){if(Kl(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:a=lv,coordinateGetter:l=tE,scrollBehavior:c="smooth"}=i,{code:d}=e;if(a.end.includes(d)){this.handleEnd(e);return}if(a.cancel.includes(d)){this.handleCancel(e);return}const{collisionRect:h}=r.current,p=h?{x:h.left,y:h.top}:On;this.referenceCoordinates||(this.referenceCoordinates=p);const y=l(e,{active:t,context:r.current,currentCoordinates:p});if(y){const v=Dl(y,p),b={x:0,y:0},{scrollableAncestors:_}=r.current;for(const S of _){const x=e.code,{isTop:E,isRight:N,isLeft:j,isBottom:O,maxScroll:P,minScroll:I}=iv(S),D=Gk(S),$={x:Math.min(x===Ae.Right?D.right-D.width/2:D.right,Math.max(x===Ae.Right?D.left:D.left+D.width/2,y.x)),y:Math.min(x===Ae.Down?D.bottom-D.height/2:D.bottom,Math.max(x===Ae.Down?D.top:D.top+D.height/2,y.y))},L=x===Ae.Right&&!N||x===Ae.Left&&!j,B=x===Ae.Down&&!O||x===Ae.Up&&!E;if(L&&$.x!==y.x){const F=S.scrollLeft+v.x,V=x===Ae.Right&&F<=P.x||x===Ae.Left&&F>=I.x;if(V&&!v.y){S.scrollTo({left:F,behavior:c});return}V?b.x=S.scrollLeft-F:b.x=x===Ae.Right?S.scrollLeft-P.x:S.scrollLeft-I.x,b.x&&S.scrollBy({left:-b.x,behavior:c});break}else if(B&&$.y!==y.y){const F=S.scrollTop+v.y,V=x===Ae.Down&&F<=P.y||x===Ae.Up&&F>=I.y;if(V&&!v.x){S.scrollTo({top:F,behavior:c});return}V?b.y=S.scrollTop-F:b.y=x===Ae.Down?S.scrollTop-P.y:S.scrollTop-I.y,b.y&&S.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(e,Xs(Dl(y,this.referenceCoordinates),b))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}cv.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=lv,onActivation:i}=e,{active:a}=t;const{code:l}=n.nativeEvent;if(r.start.includes(l)){const c=a.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function vm(n){return!!(n&&"distance"in n)}function wm(n){return!!(n&&"delay"in n)}class sh{constructor(e,t,r){var i;r===void 0&&(r=Zk(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:l}=a;this.props=e,this.events=t,this.document=si(l),this.documentListeners=new uo(this.document),this.listeners=new uo(r),this.windowListeners=new uo(Pt(l)),this.initialCoordinates=(i=Pl(a))!=null?i:On,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.DragStart,ym),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),this.windowListeners.add(fn.ContextMenu,ym),this.documentListeners.add(fn.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wm(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(vm(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(fn.Click,eE,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fn.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:l,options:{activationConstraint:c}}=a;if(!i)return;const d=(t=Pl(e))!=null?t:On,h=Dl(i,d);if(!r&&c){if(vm(c)){if(c.tolerance!=null&&Yu(h,c.tolerance))return this.handleCancel();if(Yu(h,c.distance))return this.handleStart()}if(wm(c)&&Yu(h,c.tolerance))return this.handleCancel();this.handlePending(c,h);return}e.cancelable&&e.preventDefault(),l(d)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const nE={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Oo extends sh{constructor(e){const{event:t}=e,r=si(t.target);super(e,nE,r)}}Oo.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const rE={move:{name:"mousemove"},end:{name:"mouseup"}};var md;(function(n){n[n.RightClick=2]="RightClick"})(md||(md={}));class sE extends sh{constructor(e){super(e,rE,si(e.event.target))}}sE.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===md.RightClick?!1:(r==null||r({event:t}),!0)}}];const Gu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class iE extends sh{constructor(e){super(e,Gu)}static setup(){return window.addEventListener(Gu.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Gu.move.name,e)};function e(){}}}iE.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var ho;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(ho||(ho={}));var Ml;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ml||(Ml={}));function oE(n){let{acceleration:e,activator:t=ho.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:l=5,order:c=Ml.TreeOrder,pointerCoordinates:d,scrollableAncestors:h,scrollableAncestorRects:p,delta:y,threshold:v}=n;const b=lE({delta:y,disabled:!a}),[_,S]=_k(),x=T.useRef({x:0,y:0}),E=T.useRef({x:0,y:0}),N=T.useMemo(()=>{switch(t){case ho.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case ho.DraggableRect:return i}},[t,i,d]),j=T.useRef(null),O=T.useCallback(()=>{const I=j.current;if(!I)return;const D=x.current.x*E.current.x,$=x.current.y*E.current.y;I.scrollBy(D,$)},[]),P=T.useMemo(()=>c===Ml.TreeOrder?[...h].reverse():h,[c,h]);T.useEffect(()=>{if(!a||!h.length||!N){S();return}for(const I of P){if((r==null?void 0:r(I))===!1)continue;const D=h.indexOf(I),$=p[D];if(!$)continue;const{direction:L,speed:B}=Yk(I,$,N,e,v);for(const F of["x","y"])b[F][L[F]]||(B[F]=0,L[F]=0);if(B.x>0||B.y>0){S(),j.current=I,_(O,l),x.current=B,E.current=L;return}}x.current={x:0,y:0},E.current={x:0,y:0},S()},[e,O,r,S,a,l,JSON.stringify(N),JSON.stringify(b),_,h,P,p,JSON.stringify(v)])}const aE={x:{[ft.Backward]:!1,[ft.Forward]:!1},y:{[ft.Backward]:!1,[ft.Forward]:!1}};function lE(n){let{delta:e,disabled:t}=n;const r=Rl(e);return jo(i=>{if(t||!r||!i)return aE;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ft.Backward]:i.x[ft.Backward]||a.x===-1,[ft.Forward]:i.x[ft.Forward]||a.x===1},y:{[ft.Backward]:i.y[ft.Backward]||a.y===-1,[ft.Forward]:i.y[ft.Forward]||a.y===1}}},[t,e,r])}function cE(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return jo(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function uE(n,e){return T.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,a=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...t,...a]},[]),[n,e])}var xo;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(xo||(xo={}));var yd;(function(n){n.Optimized="optimized"})(yd||(yd={}));const bm=new Map;function dE(n,e){let{dragging:t,dependencies:r,config:i}=e;const[a,l]=T.useState(null),{frequency:c,measure:d,strategy:h}=i,p=T.useRef(n),y=x(),v=_o(y),b=T.useCallback(function(E){E===void 0&&(E=[]),!v.current&&l(N=>N===null?E:N.concat(E.filter(j=>!N.includes(j))))},[v]),_=T.useRef(null),S=jo(E=>{if(y&&!t)return bm;if(!E||E===bm||p.current!==n||a!=null){const N=new Map;for(let j of n){if(!j)continue;if(a&&a.length>0&&!a.includes(j.id)&&j.rect.current){N.set(j.id,j.rect.current);continue}const O=j.node.current,P=O?new rh(d(O),O):null;j.rect.current=P,P&&N.set(j.id,P)}return N}return E},[n,a,t,y,d]);return T.useEffect(()=>{p.current=n},[n]),T.useEffect(()=>{y||b()},[t,y]),T.useEffect(()=>{a&&a.length>0&&l(null)},[JSON.stringify(a)]),T.useEffect(()=>{y||typeof c!="number"||_.current!==null||(_.current=setTimeout(()=>{b(),_.current=null},c))},[c,y,b,...r]),{droppableRects:S,measureDroppableContainers:b,measuringScheduled:a!=null};function x(){switch(h){case xo.Always:return!1;case xo.BeforeDragging:return t;default:return!t}}}function ih(n,e){return jo(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function hE(n,e){return ih(n,e)}function fE(n){let{callback:e,disabled:t}=n;const r=ql(e),i=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,t]);return T.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Yl(n){let{callback:e,disabled:t}=n;const r=ql(e),i=T.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[t]);return T.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function pE(n){return new rh(ii(n),n)}function _m(n,e,t){e===void 0&&(e=pE);const[r,i]=T.useState(null);function a(){i(d=>{if(!n)return null;if(n.isConnected===!1){var h;return(h=d??t)!=null?h:null}const p=e(n);return JSON.stringify(d)===JSON.stringify(p)?d:p})}const l=fE({callback(d){if(n)for(const h of d){const{type:p,target:y}=h;if(p==="childList"&&y instanceof HTMLElement&&y.contains(n)){a();break}}}}),c=Yl({callback:a});return Nn(()=>{a(),n?(c==null||c.observe(n),l==null||l.observe(document.body,{childList:!0,subtree:!0})):(c==null||c.disconnect(),l==null||l.disconnect())},[n]),r}function gE(n){const e=ih(n);return Zy(n,e)}const xm=[];function mE(n){const e=T.useRef(n),t=jo(r=>n?r&&r!==xm&&n&&e.current&&n.parentNode===e.current.parentNode?r:nh(n):xm,[n]);return T.useEffect(()=>{e.current=n},[n]),t}function yE(n){const[e,t]=T.useState(null),r=T.useRef(n),i=T.useCallback(a=>{const l=Ku(a.target);l&&t(c=>c?(c.set(l,gd(l)),new Map(c)):null)},[]);return T.useEffect(()=>{const a=r.current;if(n!==a){l(a);const c=n.map(d=>{const h=Ku(d);return h?(h.addEventListener("scroll",i,{passive:!0}),[h,gd(h)]):null}).filter(d=>d!=null);t(c.length?new Map(c):null),r.current=n}return()=>{l(n),l(a)};function l(c){c.forEach(d=>{const h=Ku(d);h==null||h.removeEventListener("scroll",i)})}},[i,n]),T.useMemo(()=>n.length?e?Array.from(e.values()).reduce((a,l)=>Xs(a,l),On):ov(n):On,[n,e])}function Sm(n,e){e===void 0&&(e=[]);const t=T.useRef(null);return T.useEffect(()=>{t.current=null},e),T.useEffect(()=>{const r=n!==On;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?Dl(n,t.current):On}function vE(n){T.useEffect(()=>{if(!Vl)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function wE(n,e){return T.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:a}=r;return t[i]=l=>{a(l,e)},t},{}),[n,e])}function uv(n){return T.useMemo(()=>n?Wk(n):null,[n])}const km=[];function bE(n,e){e===void 0&&(e=ii);const[t]=n,r=uv(t?Pt(t):null),[i,a]=T.useState(km);function l(){a(()=>n.length?n.map(d=>sv(d)?r:new rh(e(d),d)):km)}const c=Yl({callback:l});return Nn(()=>{c==null||c.disconnect(),l(),n.forEach(d=>c==null?void 0:c.observe(d))},[n]),i}function dv(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Co(e)?e:n}function _E(n){let{measure:e}=n;const[t,r]=T.useState(null),i=T.useCallback(h=>{for(const{target:p}of h)if(Co(p)){r(y=>{const v=e(p);return y?{...y,width:v.width,height:v.height}:v});break}},[e]),a=Yl({callback:i}),l=T.useCallback(h=>{const p=dv(h);a==null||a.disconnect(),p&&(a==null||a.observe(p)),r(p?e(p):null)},[e,a]),[c,d]=Ol(l);return T.useMemo(()=>({nodeRef:c,rect:t,setRef:d}),[t,c,d])}const xE=[{sensor:Oo,options:{}},{sensor:cv,options:{}}],SE={current:{}},wl={draggable:{measure:mm},droppable:{measure:mm,strategy:xo.WhileDragging,frequency:yd.Optimized},dragOverlay:{measure:ii}};class fo extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const kE={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Al},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wl,measureDroppableContainers:Al,windowRect:null,measuringScheduled:!1},hv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Al,draggableNodes:new Map,over:null,measureDroppableContainers:Al},Ro=T.createContext(hv),fv=T.createContext(kE);function EE(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fo}}}function TE(n,e){switch(e.type){case lt.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case lt.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new fo(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case lt.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,a=n.droppable.containers.get(t);if(!a||r!==a.key)return n;const l=new fo(n.droppable.containers);return l.set(t,{...a,disabled:i}),{...n,droppable:{...n.droppable,containers:l}}}case lt.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const a=new fo(n.droppable.containers);return a.delete(t),{...n,droppable:{...n.droppable,containers:a}}}default:return n}}function CE(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=T.useContext(Ro),a=Rl(r),l=Rl(t==null?void 0:t.id);return T.useEffect(()=>{if(!e&&!r&&a&&l!=null){if(!Kl(a)||document.activeElement===a.target)return;const c=i.get(l);if(!c)return;const{activatorNode:d,node:h}=c;if(!d.current&&!h.current)return;requestAnimationFrame(()=>{for(const p of[d.current,h.current]){if(!p)continue;const y=kk(p);if(y){y.focus();break}}})}},[r,e,i,l,a]),null}function pv(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,a)=>a({transform:i,...r}),t):t}function jE(n){return T.useMemo(()=>({draggable:{...wl.draggable,...n==null?void 0:n.draggable},droppable:{...wl.droppable,...n==null?void 0:n.droppable},dragOverlay:{...wl.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function NE(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const a=T.useRef(!1),{x:l,y:c}=typeof i=="boolean"?{x:i,y:i}:i;Nn(()=>{if(!l&&!c||!e){a.current=!1;return}if(a.current||!r)return;const h=e==null?void 0:e.node.current;if(!h||h.isConnected===!1)return;const p=t(h),y=Zy(p,r);if(l||(y.x=0),c||(y.y=0),a.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const v=tv(h);v&&v.scrollBy({top:y.y,left:y.x})}},[e,l,c,r,t])}const Gl=T.createContext({...On,scaleX:1,scaleY:1});var Rr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Rr||(Rr={}));const oh=T.memo(function(e){var t,r,i,a;let{id:l,accessibility:c,autoScroll:d=!0,children:h,sensors:p=xE,collisionDetection:y=$k,measuring:v,modifiers:b,..._}=e;const S=T.useReducer(TE,void 0,EE),[x,E]=S,[N,j]=Ok(),[O,P]=T.useState(Rr.Uninitialized),I=O===Rr.Initialized,{draggable:{active:D,nodes:$,translate:L},droppable:{containers:B}}=x,F=D!=null?$.get(D):null,V=T.useRef({initial:null,translated:null}),ne=T.useMemo(()=>{var Ge;return D!=null?{id:D,data:(Ge=F==null?void 0:F.data)!=null?Ge:SE,rect:V}:null},[D,F]),le=T.useRef(null),[ae,he]=T.useState(null),[oe,G]=T.useState(null),Z=_o(_,Object.values(_)),R=No("DndDescribedBy",l),W=T.useMemo(()=>B.getEnabled(),[B]),Q=jE(v),{droppableRects:ge,measureDroppableContainers:ue,measuringScheduled:Te}=dE(W,{dragging:I,dependencies:[L.x,L.y],config:Q.droppable}),ye=cE($,D),Ce=T.useMemo(()=>oe?Pl(oe):null,[oe]),Ee=dr(),ze=hE(ye,Q.draggable.measure);NE({activeNode:D!=null?$.get(D):null,config:Ee.layoutShiftCompensation,initialRect:ze,measure:Q.draggable.measure});const De=_m(ye,Q.draggable.measure,ze),nn=_m(ye?ye.parentElement:null),At=T.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:ge,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Mt=B.getNodeFor((t=At.current.over)==null?void 0:t.id),yt=_E({measure:Q.dragOverlay.measure}),q=(r=yt.nodeRef.current)!=null?r:ye,ee=I?(i=yt.rect)!=null?i:De:null,_e=!!(yt.nodeRef.current&&yt.rect),re=gE(_e?null:De),Se=uv(q?Pt(q):null),fe=mE(I?Mt??ye:null),Me=bE(fe),pt=pv(b,{transform:{x:L.x-re.x,y:L.y-re.y,scaleX:1,scaleY:1},activatorEvent:oe,active:ne,activeNodeRect:De,containerNodeRect:nn,draggingNodeRect:ee,over:At.current.over,overlayNodeRect:yt.rect,scrollableAncestors:fe,scrollableAncestorRects:Me,windowRect:Se}),Yt=Ce?Xs(Ce,L):null,Rn=yE(fe),lr=Sm(Rn),zr=Sm(Rn,[De]),Dn=Xs(pt,lr),vn=ee?Bk(ee,pt):null,cr=ne&&vn?y({active:ne,collisionRect:vn,droppableRects:ge,droppableContainers:W,pointerCoordinates:Yt}):null,ur=Ik(cr,"id"),[It,Po]=T.useState(null),Ao=_e?pt:Xs(pt,zr),Mo=Fk(Ao,(a=It==null?void 0:It.rect)!=null?a:null,De),li=T.useRef(null),ps=T.useCallback((Ge,vt)=>{let{sensor:wt,options:wn}=vt;if(le.current==null)return;const Nt=$.get(le.current);if(!Nt)return;const bt=Ge.nativeEvent,Lt=new wt({active:le.current,activeNode:Nt,event:bt,options:wn,context:At,onAbort(Je){if(!$.get(Je))return;const{onDragAbort:_t}=Z.current,bn={id:Je};_t==null||_t(bn),N({type:"onDragAbort",event:bn})},onPending(Je,rn,_t,bn){if(!$.get(Je))return;const{onDragPending:Pn}=Z.current,Gt={id:Je,constraint:rn,initialCoordinates:_t,offset:bn};Pn==null||Pn(Gt),N({type:"onDragPending",event:Gt})},onStart(Je){const rn=le.current;if(rn==null)return;const _t=$.get(rn);if(!_t)return;const{onDragStart:bn}=Z.current,_n={activatorEvent:bt,active:{id:rn,data:_t.data,rect:V}};ro.unstable_batchedUpdates(()=>{bn==null||bn(_n),P(Rr.Initializing),E({type:lt.DragStart,initialCoordinates:Je,active:rn}),N({type:"onDragStart",event:_n}),he(li.current),G(bt)})},onMove(Je){E({type:lt.DragMove,coordinates:Je})},onEnd:Vn(lt.DragEnd),onCancel:Vn(lt.DragCancel)});li.current=Lt;function Vn(Je){return async function(){const{active:_t,collisions:bn,over:_n,scrollAdjustedTranslate:Pn}=At.current;let Gt=null;if(_t&&Pn){const{cancelDrop:qn}=Z.current;Gt={activatorEvent:bt,active:_t,collisions:bn,delta:Pn,over:_n},Je===lt.DragEnd&&typeof qn=="function"&&await Promise.resolve(qn(Gt))&&(Je=lt.DragCancel)}le.current=null,ro.unstable_batchedUpdates(()=>{E({type:Je}),P(Rr.Uninitialized),Po(null),he(null),G(null),li.current=null;const qn=Je===lt.DragEnd?"onDragEnd":"onDragCancel";if(Gt){const hi=Z.current[qn];hi==null||hi(Gt),N({type:qn,event:Gt})}})}}},[$]),ci=T.useCallback((Ge,vt)=>(wt,wn)=>{const Nt=wt.nativeEvent,bt=$.get(wn);if(le.current!==null||!bt||Nt.dndKit||Nt.defaultPrevented)return;const Lt={active:bt};Ge(wt,vt.options,Lt)===!0&&(Nt.dndKit={capturedBy:vt.sensor},le.current=wn,ps(wt,vt))},[$,ps]),gs=uE(p,ci);vE(p),Nn(()=>{De&&O===Rr.Initializing&&P(Rr.Initialized)},[De,O]),T.useEffect(()=>{const{onDragMove:Ge}=Z.current,{active:vt,activatorEvent:wt,collisions:wn,over:Nt}=At.current;if(!vt||!wt)return;const bt={active:vt,activatorEvent:wt,collisions:wn,delta:{x:Dn.x,y:Dn.y},over:Nt};ro.unstable_batchedUpdates(()=>{Ge==null||Ge(bt),N({type:"onDragMove",event:bt})})},[Dn.x,Dn.y]),T.useEffect(()=>{const{active:Ge,activatorEvent:vt,collisions:wt,droppableContainers:wn,scrollAdjustedTranslate:Nt}=At.current;if(!Ge||le.current==null||!vt||!Nt)return;const{onDragOver:bt}=Z.current,Lt=wn.get(ur),Vn=Lt&&Lt.rect.current?{id:Lt.id,rect:Lt.rect.current,data:Lt.data,disabled:Lt.disabled}:null,Je={active:Ge,activatorEvent:vt,collisions:wt,delta:{x:Nt.x,y:Nt.y},over:Vn};ro.unstable_batchedUpdates(()=>{Po(Vn),bt==null||bt(Je),N({type:"onDragOver",event:Je})})},[ur]),Nn(()=>{At.current={activatorEvent:oe,active:ne,activeNode:ye,collisionRect:vn,collisions:cr,droppableRects:ge,draggableNodes:$,draggingNode:q,draggingNodeRect:ee,droppableContainers:B,over:It,scrollableAncestors:fe,scrollAdjustedTranslate:Dn},V.current={initial:ee,translated:vn}},[ne,ye,cr,vn,$,q,ee,ge,B,It,fe,Dn]),oE({...Ee,delta:L,draggingRect:vn,pointerCoordinates:Yt,scrollableAncestors:fe,scrollableAncestorRects:Me});const ui=T.useMemo(()=>({active:ne,activeNode:ye,activeNodeRect:De,activatorEvent:oe,collisions:cr,containerNodeRect:nn,dragOverlay:yt,draggableNodes:$,droppableContainers:B,droppableRects:ge,over:It,measureDroppableContainers:ue,scrollableAncestors:fe,scrollableAncestorRects:Me,measuringConfiguration:Q,measuringScheduled:Te,windowRect:Se}),[ne,ye,De,oe,cr,nn,yt,$,B,ge,It,ue,fe,Me,Q,Te,Se]),di=T.useMemo(()=>({activatorEvent:oe,activators:gs,active:ne,activeNodeRect:De,ariaDescribedById:{draggable:R},dispatch:E,draggableNodes:$,over:It,measureDroppableContainers:ue}),[oe,gs,ne,De,E,R,$,It,ue]);return Ye.createElement(Qy.Provider,{value:j},Ye.createElement(Ro.Provider,{value:di},Ye.createElement(fv.Provider,{value:ui},Ye.createElement(Gl.Provider,{value:Mo},h)),Ye.createElement(CE,{disabled:(c==null?void 0:c.restoreFocus)===!1})),Ye.createElement(Pk,{...c,hiddenTextDescribedById:R}));function dr(){const Ge=(ae==null?void 0:ae.autoScrollEnabled)===!1,vt=typeof d=="object"?d.enabled===!1:d===!1,wt=I&&!Ge&&!vt;return typeof d=="object"?{...d,enabled:wt}:{enabled:wt}}}),OE=T.createContext(null),Em="button",RE="Draggable";function Jl(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const a=No(RE),{activators:l,activatorEvent:c,active:d,activeNodeRect:h,ariaDescribedById:p,draggableNodes:y,over:v}=T.useContext(Ro),{role:b=Em,roleDescription:_="draggable",tabIndex:S=0}=i??{},x=(d==null?void 0:d.id)===e,E=T.useContext(x?Gl:OE),[N,j]=Ol(),[O,P]=Ol(),I=wE(l,e),D=_o(t);Nn(()=>(y.set(e,{id:e,key:a,node:N,activatorNode:O,data:D}),()=>{const L=y.get(e);L&&L.key===a&&y.delete(e)}),[y,e]);const $=T.useMemo(()=>({role:b,tabIndex:S,"aria-disabled":r,"aria-pressed":x&&b===Em?!0:void 0,"aria-roledescription":_,"aria-describedby":p.draggable}),[r,b,S,x,_,p.draggable]);return{active:d,activatorEvent:c,activeNodeRect:h,attributes:$,isDragging:x,listeners:r?void 0:I,node:N,over:v,setNodeRef:j,setActivatorNodeRef:P,transform:E}}function gv(){return T.useContext(fv)}const DE="Droppable",PE={timeout:25};function ah(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const a=No(DE),{active:l,dispatch:c,over:d,measureDroppableContainers:h}=T.useContext(Ro),p=T.useRef({disabled:t}),y=T.useRef(!1),v=T.useRef(null),b=T.useRef(null),{disabled:_,updateMeasurementsFor:S,timeout:x}={...PE,...i},E=_o(S??r),N=T.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{h(Array.isArray(E.current)?E.current:[E.current]),b.current=null},x)},[x]),j=Yl({callback:N,disabled:_||!l}),O=T.useCallback(($,L)=>{j&&(L&&(j.unobserve(L),y.current=!1),$&&j.observe($))},[j]),[P,I]=Ol(O),D=_o(e);return T.useEffect(()=>{!j||!P.current||(j.disconnect(),y.current=!1,j.observe(P.current))},[P,j]),T.useEffect(()=>(c({type:lt.RegisterDroppable,element:{id:r,key:a,disabled:t,node:P,rect:v,data:D}}),()=>c({type:lt.UnregisterDroppable,key:a,id:r})),[r]),T.useEffect(()=>{t!==p.current.disabled&&(c({type:lt.SetDroppableDisabled,id:r,key:a,disabled:t}),p.current.disabled=t)},[r,a,t,c]),{active:l,rect:v,isOver:(d==null?void 0:d.id)===r,node:P,over:d,setNodeRef:I}}function AE(n){let{animation:e,children:t}=n;const[r,i]=T.useState(null),[a,l]=T.useState(null),c=Rl(t);return!t&&!r&&c&&i(c),Nn(()=>{if(!a)return;const d=r==null?void 0:r.key,h=r==null?void 0:r.props.id;if(d==null||h==null){i(null);return}Promise.resolve(e(h,a)).then(()=>{i(null)})},[e,r,a]),Ye.createElement(Ye.Fragment,null,t,r?T.cloneElement(r,{ref:l}):null)}const ME={x:0,y:0,scaleX:1,scaleY:1};function IE(n){let{children:e}=n;return Ye.createElement(Ro.Provider,{value:hv},Ye.createElement(Gl.Provider,{value:ME},e))}const LE={position:"fixed",touchAction:"none"},$E=n=>Kl(n)?"transform 250ms ease":void 0,FE=T.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:a,className:l,rect:c,style:d,transform:h,transition:p=$E}=n;if(!c)return null;const y=i?h:{...h,scaleX:1,scaleY:1},v={...LE,width:c.width,height:c.height,top:c.top,left:c.left,transform:Wn.Transform.toString(y),transformOrigin:i&&r?Ak(r,c):void 0,transition:typeof p=="function"?p(r):p,...d};return Ye.createElement(t,{className:l,style:v,ref:e},a)}),zE=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:a,className:l}=n;if(a!=null&&a.active)for(const[c,d]of Object.entries(a.active))d!==void 0&&(i[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,d));if(a!=null&&a.dragOverlay)for(const[c,d]of Object.entries(a.dragOverlay))d!==void 0&&r.node.style.setProperty(c,d);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[d,h]of Object.entries(i))t.node.style.setProperty(d,h);l!=null&&l.active&&t.node.classList.remove(l.active)}},BE=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Wn.Transform.toString(e)},{transform:Wn.Transform.toString(t)}]},UE={duration:250,easing:"ease",keyframes:BE,sideEffects:zE({styles:{active:{opacity:"0"}}})};function HE(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return ql((a,l)=>{if(e===null)return;const c=t.get(a);if(!c)return;const d=c.node.current;if(!d)return;const h=dv(l);if(!h)return;const{transform:p}=Pt(l).getComputedStyle(l),y=ev(p);if(!y)return;const v=typeof e=="function"?e:WE(e);return av(d,i.draggable.measure),v({active:{id:a,data:c.data,node:d,rect:i.draggable.measure(d)},draggableNodes:t,dragOverlay:{node:l,rect:i.dragOverlay.measure(h)},droppableContainers:r,measuringConfiguration:i,transform:y})})}function WE(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...UE,...n};return a=>{let{active:l,dragOverlay:c,transform:d,...h}=a;if(!e)return;const p={x:c.rect.left-l.rect.left,y:c.rect.top-l.rect.top},y={scaleX:d.scaleX!==1?l.rect.width*d.scaleX/c.rect.width:1,scaleY:d.scaleY!==1?l.rect.height*d.scaleY/c.rect.height:1},v={x:d.x-p.x,y:d.y-p.y,...y},b=i({...h,active:l,dragOverlay:c,transform:{initial:d,final:v}}),[_]=b,S=b[b.length-1];if(JSON.stringify(_)===JSON.stringify(S))return;const x=r==null?void 0:r({active:l,dragOverlay:c,...h}),E=c.node.animate(b,{duration:e,easing:t,fill:"forwards"});return new Promise(N=>{E.onfinish=()=>{x==null||x(),N()}})}}let Tm=0;function VE(n){return T.useMemo(()=>{if(n!=null)return Tm++,Tm},[n])}const qE=Ye.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:a,modifiers:l,wrapperElement:c="div",className:d,zIndex:h=999}=n;const{activatorEvent:p,active:y,activeNodeRect:v,containerNodeRect:b,draggableNodes:_,droppableContainers:S,dragOverlay:x,over:E,measuringConfiguration:N,scrollableAncestors:j,scrollableAncestorRects:O,windowRect:P}=gv(),I=T.useContext(Gl),D=VE(y==null?void 0:y.id),$=pv(l,{activatorEvent:p,active:y,activeNodeRect:v,containerNodeRect:b,draggingNodeRect:x.rect,over:E,overlayNodeRect:x.rect,scrollableAncestors:j,scrollableAncestorRects:O,transform:I,windowRect:P}),L=ih(v),B=HE({config:r,draggableNodes:_,droppableContainers:S,measuringConfiguration:N}),F=L?x.setRef:void 0;return Ye.createElement(IE,null,Ye.createElement(AE,{animation:B},y&&D?Ye.createElement(FE,{key:D,id:y.id,ref:F,as:c,activatorEvent:p,adjustScale:e,className:d,transition:a,rect:L,style:{zIndex:h,...i},transform:$},t):null))});function lh(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function KE(n,e){return n.reduce((t,r,i)=>{const a=e.get(r);return a&&(t[i]=a),t},Array(n.length))}function rl(n){return n!==null&&n>=0}function YE(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function GE(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const mv=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const a=lh(e,r,t),l=e[i],c=a[i];return!c||!l?null:{x:c.left-l.left,y:c.top-l.top,scaleX:c.width/l.width,scaleY:c.height/l.height}},sl={scaleX:1,scaleY:1},JE=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:a,overIndex:l}=n;const c=(e=a[t])!=null?e:r;if(!c)return null;if(i===t){const h=a[l];return h?{x:0,y:t<l?h.top+h.height-(c.top+c.height):h.top-c.top,...sl}:null}const d=XE(a,i,t);return i>t&&i<=l?{x:0,y:-c.height-d,...sl}:i<t&&i>=l?{x:0,y:c.height+d,...sl}:{x:0,y:0,...sl}};function XE(n,e,t){const r=n[e],i=n[e-1],a=n[e+1];return r?t<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const yv="Sortable",vv=Ye.createContext({activeIndex:-1,containerId:yv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mv,disabled:{draggable:!1,droppable:!1}});function QE(n){let{children:e,id:t,items:r,strategy:i=mv,disabled:a=!1}=n;const{active:l,dragOverlay:c,droppableRects:d,over:h,measureDroppableContainers:p}=gv(),y=No(yv,t),v=c.rect!==null,b=T.useMemo(()=>r.map(I=>typeof I=="object"&&"id"in I?I.id:I),[r]),_=l!=null,S=l?b.indexOf(l.id):-1,x=h?b.indexOf(h.id):-1,E=T.useRef(b),N=!YE(b,E.current),j=x!==-1&&S===-1||N,O=GE(a);Nn(()=>{N&&_&&p(b)},[N,b,_,p]),T.useEffect(()=>{E.current=b},[b]);const P=T.useMemo(()=>({activeIndex:S,containerId:y,disabled:O,disableTransforms:j,items:b,overIndex:x,useDragOverlay:v,sortedRects:KE(b,d),strategy:i}),[S,y,O.draggable,O.droppable,j,b,x,d,v,i]);return Ye.createElement(vv.Provider,{value:P},e)}const ZE=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return lh(t,r,i).indexOf(e)},e1=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:a,newIndex:l,previousItems:c,previousContainerId:d,transition:h}=n;return!h||!r||c!==a&&i===l?!1:t?!0:l!==i&&e===d},t1={duration:200,easing:"ease"},wv="transform",n1=Wn.Transition.toString({property:wv,duration:0,easing:"linear"}),r1={roleDescription:"sortable"};function s1(n){let{disabled:e,index:t,node:r,rect:i}=n;const[a,l]=T.useState(null),c=T.useRef(t);return Nn(()=>{if(!e&&t!==c.current&&r.current){const d=i.current;if(d){const h=ii(r.current,{ignoreTransform:!0}),p={x:d.left-h.left,y:d.top-h.top,scaleX:d.width/h.width,scaleY:d.height/h.height};(p.x||p.y)&&l(p)}}t!==c.current&&(c.current=t)},[e,t,r,i]),T.useEffect(()=>{a&&l(null)},[a]),a}function i1(n){let{animateLayoutChanges:e=e1,attributes:t,disabled:r,data:i,getNewIndex:a=ZE,id:l,strategy:c,resizeObserverConfig:d,transition:h=t1}=n;const{items:p,containerId:y,activeIndex:v,disabled:b,disableTransforms:_,sortedRects:S,overIndex:x,useDragOverlay:E,strategy:N}=T.useContext(vv),j=o1(r,b),O=p.indexOf(l),P=T.useMemo(()=>({sortable:{containerId:y,index:O,items:p},...i}),[y,i,O,p]),I=T.useMemo(()=>p.slice(p.indexOf(l)),[p,l]),{rect:D,node:$,isOver:L,setNodeRef:B}=ah({id:l,data:P,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...d}}),{active:F,activatorEvent:V,activeNodeRect:ne,attributes:le,setNodeRef:ae,listeners:he,isDragging:oe,over:G,setActivatorNodeRef:Z,transform:R}=Jl({id:l,data:P,attributes:{...r1,...t},disabled:j.draggable}),W=bk(B,ae),Q=!!F,ge=Q&&!_&&rl(v)&&rl(x),ue=!E&&oe,Te=ue&&ge?R:null,Ce=ge?Te??(c??N)({rects:S,activeNodeRect:ne,activeIndex:v,overIndex:x,index:O}):null,Ee=rl(v)&&rl(x)?a({id:l,items:p,activeIndex:v,overIndex:x}):O,ze=F==null?void 0:F.id,De=T.useRef({activeId:ze,items:p,newIndex:Ee,containerId:y}),nn=p!==De.current.items,At=e({active:F,containerId:y,isDragging:oe,isSorting:Q,id:l,index:O,items:p,newIndex:De.current.newIndex,previousItems:De.current.items,previousContainerId:De.current.containerId,transition:h,wasDragging:De.current.activeId!=null}),Mt=s1({disabled:!At,index:O,node:$,rect:D});return T.useEffect(()=>{Q&&De.current.newIndex!==Ee&&(De.current.newIndex=Ee),y!==De.current.containerId&&(De.current.containerId=y),p!==De.current.items&&(De.current.items=p)},[Q,Ee,y,p]),T.useEffect(()=>{if(ze===De.current.activeId)return;if(ze!=null&&De.current.activeId==null){De.current.activeId=ze;return}const q=setTimeout(()=>{De.current.activeId=ze},50);return()=>clearTimeout(q)},[ze]),{active:F,activeIndex:v,attributes:le,data:P,rect:D,index:O,newIndex:Ee,items:p,isOver:L,isSorting:Q,isDragging:oe,listeners:he,node:$,overIndex:x,over:G,setNodeRef:W,setActivatorNodeRef:Z,setDroppableNodeRef:B,setDraggableNodeRef:ae,transform:Mt??Ce,transition:yt()};function yt(){if(Mt||nn&&De.current.newIndex===O)return n1;if(!(ue&&!Kl(V)||!h)&&(Q||At))return Wn.Transition.toString({...h,property:wv})}}function o1(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}Ae.Down,Ae.Right,Ae.Up,Ae.Left;const a1=7,so=60,Cm=n=>new Date(n.getFullYear(),n.getMonth(),n.getDate()),jm=n=>`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}-${String(n.getDate()).padStart(2,"0")}`,l1=n=>n.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),c1=n=>{if(n.dueTime){const[e,t]=n.dueTime.split(":").map(Number),r=new Date;return r.setHours(e,t,0,0),r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}return n.scheduledStart?new Date(n.scheduledStart).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"All day"},u1=n=>{if(n.dueDate){const[e,t,r]=n.dueDate.split("-").map(Number);return new Date(e,t-1,r)}return n.scheduledStart?new Date(n.scheduledStart):null},d1=n=>{const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)},h1=(n,e)=>{const t=new Date(n.getTime()+e*6e4),r=i=>i.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return`${r(n)}  ${r(t)}`},f1=n=>{if(!n)return"09:00";const e=new Date(n);return`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},p1=({tasks:n,onToggleComplete:e,onDeleteTask:t,onAddTask:r,onUpdateTask:i,onFocus:a,onReorderDay:l})=>{var O,P,I,D;const c=Cm(new Date),d=new Date(c);d.setDate(d.getDate()+1);const h=T.useMemo(()=>Array.from({length:a1},($,L)=>{const B=new Date(d);return B.setDate(B.getDate()+L),{key:jm(B),date:B,display:l1(B)}}),[d]),[p,y]=T.useState(((O=h[0])==null?void 0:O.key)||""),[v,b]=T.useState(""),_=T.useRef(null),S=th(eh(Oo,{activationConstraint:{distance:8}})),E=T.useMemo(()=>{const $={};return n.forEach(L=>{const B=u1(L);if(!B)return;const F=Cm(B);if(F<d)return;const V=jm(F);$[V]||($[V]=[]),$[V].push(L)}),Object.keys($).forEach(L=>{$[L]=$[L].slice().sort((B,F)=>B.scheduledStart&&F.scheduledStart?new Date(B.scheduledStart).getTime()-new Date(F.scheduledStart).getTime():B.scheduledStart?-1:F.scheduledStart?1:(B.sortOrder||0)-(F.sortOrder||0))}),$},[n,d])[p]||[];T.useEffect(()=>{h.length!==0&&(h.some($=>$.key===p)||y(h[0].key))},[h,p]),T.useEffect(()=>{if(!_.current)return;const $=_.current.querySelector(`[data-day-key="${p}"]`);$==null||$.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[p]),T.useEffect(()=>{const $=L=>{const B=L.target;if(!B)return;const F=B.tagName.toLowerCase();F==="input"||F==="textarea"||B.isContentEditable||(L.key==="ArrowLeft"?(L.preventDefault(),j(h.findIndex(V=>V.key===p)-1)):L.key==="ArrowRight"&&(L.preventDefault(),j(h.findIndex(V=>V.key===p)+1)))};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[h,p]);const N=$=>{$.preventDefault(),v.trim()&&(r({text:v.trim(),dueDate:p,sortOrder:E.length}),b(""))},j=$=>{const L=Math.min(Math.max($,0),h.length-1);y(h[L].key)};return g.jsxs("div",{className:"upcoming-view",children:[g.jsx("div",{className:"upcoming-header",children:g.jsxs("div",{children:[g.jsx("h2",{children:"Upcoming"}),g.jsx("p",{children:"Tap a day to review and plan the week ahead."})]})}),g.jsxs("div",{className:"upcoming-nav-wrapper",children:[g.jsx("button",{type:"button",className:"nav-arrow",onClick:()=>j(h.findIndex($=>$.key===p)-1),disabled:p===((P=h[0])==null?void 0:P.key),children:""}),g.jsx("div",{className:"upcoming-nav",ref:_,children:h.map($=>g.jsxs("button",{className:`upcoming-nav-item ${p===$.key?"selected":""}`,type:"button","data-day-key":$.key,onClick:()=>y($.key),children:[g.jsx("span",{className:"upcoming-nav-weekday",children:$.date.toLocaleDateString("en-US",{weekday:"short"})}),g.jsx("span",{className:"upcoming-nav-date",children:$.date.getDate()})]},$.key))}),g.jsx("button",{type:"button",className:"nav-arrow",onClick:()=>j(h.findIndex($=>$.key===p)+1),disabled:p===((I=h[h.length-1])==null?void 0:I.key),children:""})]}),g.jsx(g1,{dayKey:p,display:((D=h.find($=>$.key===p))==null?void 0:D.display)||"",tasks:E,onToggleComplete:e,onDeleteTask:t,onFocus:a,composerValue:v,onComposerChange:b,onAddTask:N,sensors:S,onUpdateTask:i,onReorder:l})]})},g1=({dayKey:n,display:e,tasks:t,composerValue:r,onComposerChange:i,onAddTask:a,onToggleComplete:l,onDeleteTask:c,sensors:d,onReorder:h,onUpdateTask:p,onFocus:y})=>{const v=t.filter(F=>!!F.scheduledStart),b=t.filter(F=>!F.scheduledStart),_=b.map(F=>`unscheduled-task-${F.id}`),[S]=T.useState(""),[x,E]=T.useState(null),[N,j]=T.useState("09:00"),[O,P]=T.useState(String(so)),I=F=>{E(F),j(f1(F.scheduledStart)),P(String(F.scheduledDuration||so))},D=()=>{E(null),j("09:00"),P(String(so))},$=F=>{if(F.preventDefault(),!x)return;const V=N&&N.includes(":")?N:"09:00",[ne,le]=V.split(":").map(Number);if(Number.isNaN(ne)||Number.isNaN(le))return;const ae=d1(n);ae.setHours(ne,le,0,0);const he=Math.max(15,parseInt(O,10)||so);p(x.id,{scheduledStart:ae.toISOString(),scheduledDuration:he,dueDate:n}),D()},L=F=>{p(F.id,{scheduledStart:void 0,scheduledDuration:void 0,dueDate:n})},B=F=>{const{active:V,over:ne}=F;if(!ne||V.id===ne.id)return;const le=String(V.id),ae=String(ne.id);if(_.includes(le)&&_.includes(ae)){const he=_.indexOf(le),oe=_.indexOf(ae);if(he!==-1&&oe!==-1&&he!==oe){const G=lh(_,he,oe).map(Z=>Number(Z.replace("unscheduled-task-","")));h(n,G)}}};return g.jsxs("div",{className:"upcoming-day-panel",children:[g.jsx("div",{className:"upcoming-day-title",children:e}),g.jsxs("section",{className:"scheduled-section",children:[g.jsxs("div",{className:"scheduled-section-header",children:[g.jsxs("div",{children:[g.jsx("h4",{children:"Time blocks"}),g.jsx("p",{children:"All scheduled tasks for this day."})]}),g.jsx("span",{className:"scheduled-count",children:v.length})]}),v.length===0?g.jsx("div",{className:"upcoming-day-empty",children:g.jsx("p",{children:"No time blocks yet. Add one from below."})}):g.jsx("div",{className:"scheduled-list",children:v.map(F=>g.jsx(m1,{task:F,onToggleComplete:l,onDeleteTask:c,onFocus:y,onEdit:()=>I(F),onUnschedule:()=>L(F)},F.id))})]}),g.jsxs("section",{className:"upcoming-unscheduled",children:[g.jsx("div",{className:"unscheduled-header",children:g.jsxs("div",{children:[g.jsx("h4",{children:"Unscheduled"}),g.jsx("p",{children:"Keep tasks here until you assign a time block."})]})}),g.jsx(oh,{sensors:d,onDragEnd:B,children:g.jsx(QE,{items:_,strategy:JE,children:b.length===0?g.jsx("div",{className:"upcoming-day-empty",children:g.jsx("p",{children:"Everything for this day is scheduled. "})}):g.jsx("div",{className:"unscheduled-list",children:b.map(F=>g.jsx(y1,{task:F,onToggleComplete:l,onDeleteTask:c,onFocus:y,onSchedule:()=>I(F)},F.id))})})})]}),x&&g.jsx("div",{className:"time-block-editor-overlay",onClick:D,children:g.jsxs("form",{className:"time-block-editor",onSubmit:$,onClick:F=>F.stopPropagation(),children:[g.jsxs("div",{className:"editor-header",children:[g.jsxs("div",{children:[g.jsx("p",{className:"editor-label",children:"Scheduling"}),g.jsx("h5",{children:x.text})]}),g.jsx("button",{className:"editor-cancel",type:"button",onClick:D,children:""})]}),g.jsxs("div",{className:"editor-fields",children:[g.jsxs("div",{className:"editor-field",children:[g.jsx("label",{htmlFor:"upcoming-time-picker",children:"Start time"}),g.jsx(Ad,{selectedTime:N,onSelectTime:F=>j(F||"")})]}),g.jsxs("div",{className:"editor-field",children:[g.jsx("label",{htmlFor:"upcoming-duration-input",children:"Duration (minutes)"}),g.jsx("input",{id:"upcoming-duration-input",type:"number",min:15,step:15,value:O,onChange:F=>P(F.target.value)})]})]}),g.jsxs("div",{className:"editor-actions",children:[g.jsx("button",{type:"submit",children:"Save block"}),g.jsx("button",{type:"button",onClick:D,children:"Cancel"})]})]})}),g.jsxs("form",{className:"upcoming-add-form",onSubmit:a,children:[g.jsx("input",{type:"text",placeholder:"Add task",value:r,onChange:F=>i(F.target.value)}),g.jsxs("div",{className:"upcoming-add-actions",children:[g.jsx("button",{type:"submit",children:"Add"}),g.jsx("button",{type:"button",onClick:()=>i(""),children:"Clear"})]})]})]})},m1=({task:n,onToggleComplete:e,onDeleteTask:t,onFocus:r,onEdit:i,onUnschedule:a})=>{if(!n.scheduledStart)return null;const l=new Date(n.scheduledStart),c=h1(l,n.scheduledDuration||so);return g.jsxs("div",{className:"scheduled-card",children:[g.jsxs("div",{className:"scheduled-card-info",children:[g.jsx("span",{className:"time-badge",children:c}),g.jsxs("div",{children:[g.jsx("p",{className:"scheduled-card-title",children:n.text}),g.jsxs("div",{className:"scheduled-card-meta",children:[g.jsx("span",{className:`priority-chip priority-${n.priority}`,children:n.priority.toUpperCase()}),n.category&&g.jsx("span",{className:"category-chip",children:n.category}),n.scheduledDuration&&g.jsxs("span",{className:"duration-chip",children:[n.scheduledDuration," min"]})]})]})]}),g.jsxs("div",{className:"scheduled-card-actions",children:[r&&!n.completed&&g.jsx("button",{className:"scheduled-card-btn",type:"button",onClick:()=>r(n),title:"Focus mode",children:""}),g.jsx("button",{className:"scheduled-card-btn",type:"button",title:n.completed?"Mark incomplete":"Mark complete",onClick:()=>e(n.id),children:n.completed?"":""}),g.jsx("button",{className:"scheduled-card-btn",type:"button",onClick:i,title:"Edit time block",children:""}),g.jsx("button",{className:"scheduled-card-btn",type:"button",onClick:a,title:"Unassign time",children:""}),g.jsx("button",{className:"scheduled-card-btn danger",type:"button",onClick:()=>t(n.id),title:"Delete task",children:""})]})]})},y1=({task:n,onToggleComplete:e,onDeleteTask:t,onSchedule:r,onFocus:i})=>{const{attributes:a,listeners:l,setNodeRef:c,transform:d,transition:h,isDragging:p}=i1({id:`unscheduled-task-${n.id}`,data:{task:n,source:"unscheduled"}}),y={transform:Wn.Transform.toString(d),transition:h};return g.jsxs("div",{className:`upcoming-task unscheduled ${p?"dragging":""}`,ref:c,style:y,...a,...l,children:[g.jsx("div",{className:"upcoming-task-time",children:c1(n)}),g.jsxs("div",{className:"upcoming-task-card",children:[g.jsxs("div",{className:"upcoming-task-header",children:[g.jsx("span",{className:"upcoming-task-title",children:n.text}),g.jsxs("div",{className:"upcoming-task-actions",children:[i&&!n.completed&&g.jsx("button",{className:"upcoming-task-btn",onClick:()=>i(n),title:"Focus mode",type:"button",children:""}),g.jsx("button",{className:"upcoming-task-btn",onClick:()=>e(n.id),title:n.completed?"Mark incomplete":"Mark complete",type:"button",children:n.completed?"":""}),g.jsx("button",{className:"upcoming-task-btn",onClick:r,title:"Assign time block",type:"button",children:""}),g.jsx("button",{className:"upcoming-task-btn danger",onClick:()=>t(n.id),title:"Delete",type:"button",children:""})]})]}),g.jsxs("div",{className:"upcoming-task-meta",children:[g.jsx("span",{className:`priority-chip priority-${n.priority}`,children:n.priority.toUpperCase()}),n.category&&g.jsx("span",{className:"category-chip",children:n.category}),!n.scheduledStart&&g.jsx("span",{className:"unscheduled-flag",children:"Unscheduled"})]})]})]})};function v1({onComplete:n,addTask:e}){const[t,r]=T.useState(["","",""]),i=["Do laundry","Plan a trip to...","Call back...","Buy birthday gift for...","Schedule dentist appointment","Prepare weekly meal plan","Review monthly budget","Organize workspace"],a=(h,p)=>{const y=[...t];y[h]=p,r(y)},l=h=>{const p=t.findIndex(y=>y==="");if(p!==-1){const y=[...t];y[p]=h,r(y)}},c=()=>{t.forEach(h=>{h.trim()&&e({text:h.trim(),priority:"medium",dueDate:"",dueTime:"",category:"",reminderMinutes:null})}),localStorage.setItem("hasCompletedOnboarding","true"),n()},d=()=>{localStorage.setItem("hasCompletedOnboarding","true"),n()};return g.jsx("div",{className:"onboarding-overlay",children:g.jsxs("div",{className:"onboarding-container",children:[g.jsx("button",{className:"skip-button",onClick:d,children:"Skip"}),g.jsx("h1",{className:"onboarding-title",children:"Add your first tasks"}),g.jsx("div",{className:"onboarding-inputs",children:t.map((h,p)=>g.jsx("input",{type:"text",className:`onboarding-input ${p===0?"focused":""}`,placeholder:p===0?"Do laundry":p===1?"Plan a trip to":"Call back",value:h,onChange:y=>a(p,y.target.value)},p))}),g.jsx("div",{className:"suggested-tasks",children:i.slice(0,4).map((h,p)=>g.jsxs("button",{className:"suggested-task-btn",onClick:()=>l(h),children:[g.jsx("span",{className:"plus-icon",children:"+"}),h]},p))}),g.jsx("button",{className:"continue-button",onClick:c,children:"Continue"})]})})}const vd=[{text:"Inspiration is perishable - act on it immediately.",category:"productivity"},{text:"The most important trick to be happy is to realize happiness is a skill you develop and a choice you make.",category:"productivity"},{text:"Specific knowledge is found by pursuing your genuine curiosity.",category:"productivity"},{text:"Play iterated games. All the returns in life come from compound interest over many turns of the game.",category:"productivity"},{text:"Clear thinker  Clear speaker  Clear writer.",category:"productivity"},{text:"Earn with your mind, not your time.",category:"productivity"},{text:"You're not going to get rich renting out your time.",category:"time"},{text:"Set and enforce an aspirational personal hourly rate.",category:"time"},{text:"Ruthlessly decline meetings. Not trying to be rude, optimizing time.",category:"time"},{text:"The direction you're heading in matters more than how fast you move.",category:"time"},{text:"Impatience with actions, patience with results.",category:"time"},{text:"If you can't decide, the answer is no.",category:"time"},{text:"All the benefits in life come from compound interest.",category:"completion"},{text:"The best jobs are neither decreed nor degreed. They are creative expressions of continuous learners.",category:"completion"},{text:"A calm mind, a fit body, a house full of love. These things cannot be bought - they must be earned.",category:"completion"},{text:"The genuine love for reading itself is a superpower.",category:"completion"},{text:"The modern devil is cheap dopamine.",category:"completion"},{text:"Sophistication is removing the unnecessary.",category:"completion"},{text:"Intentions don't matter. Actions do. That's why being ethical is hard.",category:"focus"},{text:"The ability to singularly focus is related to the ability to lose yourself and be present.",category:"focus"},{text:"Meditation is intermittent fasting for the mind.",category:"focus"},{text:"A busy mind accelerates the passage of time. A calm mind slows it down.",category:"focus"},{text:"It's only after you're bored that you have great ideas.",category:"focus"},{text:"Doctors won't make you healthy. Nutritionists won't make you slim. Teachers won't make you smart. Gurus won't make you calm. Mentors won't make you rich. Trainers won't make you fit. Ultimately, you have to take responsibility.",category:"focus"},{text:"Seek wealth, not money or status. Wealth is assets that earn while you sleep.",category:"wisdom"},{text:"Reading is faster than listening. Doing is faster than watching.",category:"wisdom"},{text:"The three big ones in life are wealth, health, and happiness. We pursue them in that order, but their importance is reverse.",category:"wisdom"},{text:"If you can't see yourself working with someone for life, don't work with them for a day.",category:"wisdom"},{text:"Retirement is when you stop sacrificing today for an imaginary tomorrow.",category:"wisdom"},{text:"The best relationships are peer relationships.",category:"wisdom"},{text:"You make your own luck if you stay at it long enough.",category:"wisdom"},{text:"Peace is happiness at rest. Happiness is peace in motion.",category:"wisdom"},{text:"Easy choices, hard life. Hard choices, easy life.",category:"wisdom"},{text:"The measure of wealth is freedom.",category:"wisdom"}],w1=n=>{const e=vd.filter(r=>r.category===n),t=Math.floor(Math.random()*e.length);return e[t].text},b1=()=>{const n=Math.floor(Math.random()*vd.length);return vd[n].text};function _1({userName:n}){const[e,t]=T.useState(""),[r,i]=T.useState("");T.useEffect(()=>{const l=()=>{const d=new Date().getHours();let h="";d>=5&&d<12?h="Good Morning":d>=12&&d<17?h="Good Afternoon":d>=17&&d<22?h="Good Evening":h="Good Night",t(h)};l(),i(b1());const c=setInterval(l,6e4);return()=>clearInterval(c)},[]);const a=n||"STEVE ARMSTRONG";return g.jsxs("div",{className:"greeting-section",children:[g.jsxs("h1",{className:"greeting-text",children:[e,", ",a]}),g.jsx("p",{className:"motivational-quote",children:r})]})}var wd=function(n,e){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},wd(n,e)};function bv(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wd(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Il=function(){return Il=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Il.apply(this,arguments)};function oi(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _v(n,e,t,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(l=n[c])&&(a=(i<3?l(a):i>3?l(e,t,a):l(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function xv(n,e){return function(t,r){e(t,r,n)}}function Sv(n,e,t,r,i,a){function l(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var c=r.kind,d=c==="getter"?"get":c==="setter"?"set":"value",h=!e&&n?r.static?n:n.prototype:null,p=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),y,v=!1,b=t.length-1;b>=0;b--){var _={};for(var S in r)_[S]=S==="access"?{}:r[S];for(var S in r.access)_.access[S]=r.access[S];_.addInitializer=function(E){if(v)throw new TypeError("Cannot add initializers after decoration has completed");a.push(l(E||null))};var x=(0,t[b])(c==="accessor"?{get:p.get,set:p.set}:p[d],_);if(c==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(y=l(x.get))&&(p.get=y),(y=l(x.set))&&(p.set=y),(y=l(x.init))&&i.unshift(y)}else(y=l(x))&&(c==="field"?i.unshift(y):p[d]=y)}h&&Object.defineProperty(h,r.name,p),v=!0}function kv(n,e,t){for(var r=arguments.length>2,i=0;i<e.length;i++)t=r?e[i].call(n,t):e[i].call(n);return r?t:void 0}function Ev(n){return typeof n=="symbol"?n:"".concat(n)}function Tv(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Cv(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function de(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function c(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?a(p.value):i(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})}function jv(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(p){return d([h,p])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(t=0)),t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Xl=Object.create?(function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i)}):(function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]});function Nv(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Xl(e,n,t)}function Ll(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ch(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return a}function Ov(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(ch(arguments[e]));return n}function Rv(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var a=arguments[e],l=0,c=a.length;l<c;l++,i++)r[i]=a[l];return r}function Dv(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function ei(n){return this instanceof ei?(this.v=n,this):new ei(n)}function Pv(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(_){return Promise.resolve(_).then(b,y)}}function c(b,_){r[b]&&(i[b]=function(S){return new Promise(function(x,E){a.push([b,S,x,E])>1||d(b,S)})},_&&(i[b]=_(i[b])))}function d(b,_){try{h(r[b](_))}catch(S){v(a[0][3],S)}}function h(b){b.value instanceof ei?Promise.resolve(b.value.v).then(p,y):v(a[0][2],b)}function p(b){d("next",b)}function y(b){d("throw",b)}function v(b,_){b(_),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Av(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=n[i]?function(l){return(t=!t)?{value:ei(n[i](l)),done:!1}:a?a(l):l}:a}}function Mv(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ll=="function"?Ll(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=n[a]&&function(l){return new Promise(function(c,d){l=n[a](l),i(c,d,l.done,l.value)})}}function i(a,l,c,d){Promise.resolve(d).then(function(h){a({value:h,done:c})},l)}}function Iv(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var x1=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},bd=function(n){return bd=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},bd(n)};function Lv(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=bd(n),r=0;r<t.length;r++)t[r]!=="default"&&Xl(e,n,t[r]);return x1(e,n),e}function $v(n){return n&&n.__esModule?n:{default:n}}function Fv(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function zv(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t}function Bv(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function Uv(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],t&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:e,dispose:r,async:t})}else t&&n.stack.push({async:!0});return e}var S1=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var r=new Error(t);return r.name="SuppressedError",r.error=n,r.suppressed=e,r};function Hv(n){function e(a){n.error=n.hasError?new S1(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var t,r=0;function i(){for(;t=n.stack.pop();)try{if(!t.async&&r===1)return r=0,n.stack.push(t),Promise.resolve().then(i);if(t.dispose){var a=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(a).then(i,function(l){return e(l),i()})}else r|=1}catch(l){e(l)}if(r===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return i()}function Wv(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,i,a,l){return r?e?".jsx":".js":i&&(!a||!l)?t:i+a+"."+l.toLowerCase()+"js"}):n}const k1={__extends:bv,__assign:Il,__rest:oi,__decorate:_v,__param:xv,__esDecorate:Sv,__runInitializers:kv,__propKey:Ev,__setFunctionName:Tv,__metadata:Cv,__awaiter:de,__generator:jv,__createBinding:Xl,__exportStar:Nv,__values:Ll,__read:ch,__spread:Ov,__spreadArrays:Rv,__spreadArray:Dv,__await:ei,__asyncGenerator:Pv,__asyncDelegator:Av,__asyncValues:Mv,__makeTemplateObject:Iv,__importStar:Lv,__importDefault:$v,__classPrivateFieldGet:Fv,__classPrivateFieldSet:zv,__classPrivateFieldIn:Bv,__addDisposableResource:Uv,__disposeResources:Hv,__rewriteRelativeImportExtension:Wv},E1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Uv,get __assign(){return Il},__asyncDelegator:Av,__asyncGenerator:Pv,__asyncValues:Mv,__await:ei,__awaiter:de,__classPrivateFieldGet:Fv,__classPrivateFieldIn:Bv,__classPrivateFieldSet:zv,__createBinding:Xl,__decorate:_v,__disposeResources:Hv,__esDecorate:Sv,__exportStar:Nv,__extends:bv,__generator:jv,__importDefault:$v,__importStar:Lv,__makeTemplateObject:Iv,__metadata:Cv,__param:xv,__propKey:Ev,__read:ch,__rest:oi,__rewriteRelativeImportExtension:Wv,__runInitializers:kv,__setFunctionName:Tv,__spread:Ov,__spreadArray:Dv,__spreadArrays:Rv,__values:Ll,default:k1},Symbol.toStringTag,{value:"Module"})),T1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class uh extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class C1 extends uh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nm extends uh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Om extends uh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _d;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(_d||(_d={}));class j1{constructor(e,{headers:t={},customFetch:r,region:i=_d.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=T1(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return de(this,arguments,void 0,function*(t,r={}){var i;let a,l;try{const{headers:c,method:d,body:h,signal:p,timeout:y}=r;let v={},{region:b}=r;b||(b=this.region);const _=new URL(`${this.url}/${t}`);b&&b!=="any"&&(v["x-region"]=b,_.searchParams.set("forceFunctionRegion",b));let S;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(v["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(v["Content-Type"]="application/json",S=JSON.stringify(h)):S=h;let x=p;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),p?(x=l.signal,p.addEventListener("abort",()=>l.abort())):x=l.signal);const E=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:S,signal:x}).catch(P=>{throw new C1(P)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new Nm(E);if(!E.ok)throw new Om(E);let j=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return j==="application/json"?O=yield E.json():j==="application/octet-stream"||j==="application/pdf"?O=yield E.blob():j==="text/event-stream"?O=E:j==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(c){return{data:null,error:c,response:c instanceof Om||c instanceof Nm?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var Tt={};const ai=cb(E1);var il={},ol={},al={},ll={},cl={},ul={},Rm;function Vv(){if(Rm)return ul;Rm=1,Object.defineProperty(ul,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return ul.default=n,ul}var Dm;function qv(){if(Dm)return cl;Dm=1,Object.defineProperty(cl,"__esModule",{value:!0});const e=ai.__importDefault(Vv());class t{constructor(i){var a,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,p,y,v;let b=null,_=null,S=null,x=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const P=await d.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?_=P:_=JSON.parse(P))}const j=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),O=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");j&&O&&O.length>1&&(S=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,x=406,E="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const j=await d.text();try{b=JSON.parse(j),Array.isArray(b)&&d.status===404&&(_=[],b=null,x=200,E="OK")}catch{d.status===404&&j===""?(x=204,E="No Content"):b={message:j}}if(b&&this.isMaybeSingle&&(!((v=b==null?void 0:b.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,x=200,E="OK"),b&&this.shouldThrowOnError)throw new e.default(b)}return{error:b,data:_,count:S,status:x,statusText:E}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,p,y;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(p=d==null?void 0:d.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=d==null?void 0:d.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,a)}returns(){return this}overrideTypes(){return this}}return cl.default=t,cl}var Pm;function Kv(){if(Pm)return ll;Pm=1,Object.defineProperty(ll,"__esModule",{value:!0});const e=ai.__importDefault(qv());class t extends e.default{select(i){let a=!1;const l=(i??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var p;const y=[i?"analyze":null,a?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${y};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return ll.default=t,ll}var Am;function dh(){if(Am)return al;Am=1,Object.defineProperty(al,"__esModule",{value:!0});const e=ai.__importDefault(Kv()),t=new RegExp("[,()]");class r extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${h}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(a,l,c){return this.url.searchParams.append(a,`not.${l}.${c}`),this}or(a,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,c){return this.url.searchParams.append(a,`${l}.${c}`),this}}return al.default=r,al}var Mm;function Yv(){if(Mm)return ol;Mm=1,Object.defineProperty(ol,"__esModule",{value:!0});const e=ai.__importDefault(dh());class t{constructor(i,{headers:a={},schema:l,fetch:c}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=c}select(i,a){const{head:l=!1,count:c}=a??{},d=l?"HEAD":"GET";let h=!1;const p=(i??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var h;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(y.length>0){const v=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var l;const c="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return ol.default=t,ol}var Im;function N1(){if(Im)return il;Im=1,Object.defineProperty(il,"__esModule",{value:!0});const n=ai,e=n.__importDefault(Yv()),t=n.__importDefault(dh());class r{constructor(a,{headers:l={},schema:c,fetch:d}={}){this.url=a,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(a){const l=new URL(`${this.url}/${a}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:c=!1,get:d=!1,count:h}={}){var p;let y;const v=new URL(`${this.url}/rpc/${a}`);let b;c||d?(y=c?"HEAD":"GET",Object.entries(l).filter(([S,x])=>x!==void 0).map(([S,x])=>[S,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([S,x])=>{v.searchParams.append(S,x)})):(y="POST",b=l);const _=new Headers(this.headers);return h&&_.set("Prefer",`count=${h}`),new t.default({method:y,url:v,headers:_,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return il.default=r,il}var Lm;function O1(){if(Lm)return Tt;Lm=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const n=ai,e=n.__importDefault(N1());Tt.PostgrestClient=e.default;const t=n.__importDefault(Yv());Tt.PostgrestQueryBuilder=t.default;const r=n.__importDefault(dh());Tt.PostgrestFilterBuilder=r.default;const i=n.__importDefault(Kv());Tt.PostgrestTransformBuilder=i.default;const a=n.__importDefault(qv());Tt.PostgrestBuilder=a.default;const l=n.__importDefault(Vv());return Tt.PostgrestError=l.default,Tt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},Tt}var Gv=O1();const Jv=Dd(Gv),R1=lb({__proto__:null,default:Jv},[Gv]),{PostgrestClient:D1,PostgrestQueryBuilder:gj,PostgrestFilterBuilder:mj,PostgrestTransformBuilder:yj,PostgrestBuilder:vj,PostgrestError:wj}=Jv||R1;class P1{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const A1="2.81.1",M1=`realtime-js/${A1}`,Xv="1.0.0",I1="2.0.0",$m=Xv,xd=1e4,L1=1e3,$1=100;var os;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(os||(os={}));var at;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(at||(at={}));var pn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(pn||(pn={}));var Sd;(function(n){n.websocket="websocket"})(Sd||(Sd={}));var as;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(as||(as={}));class F1{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,t){if(this._isArrayBuffer(e.payload))return t(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodePush(e){const{join_ref:t,ref:r,event:i,topic:a,payload:l}=e,c=this.META_LENGTH+t.length+r.length+a.length+i.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let h=new DataView(d),p=0;h.setUint8(p++,this.KINDS.push),h.setUint8(p++,t.length),h.setUint8(p++,r.length),h.setUint8(p++,a.length),h.setUint8(p++,i.length),Array.from(t,v=>h.setUint8(p++,v.charCodeAt(0))),Array.from(r,v=>h.setUint8(p++,v.charCodeAt(0))),Array.from(a,v=>h.setUint8(p++,v.charCodeAt(0))),Array.from(i,v=>h.setUint8(p++,v.charCodeAt(0)));var y=new Uint8Array(d.byteLength+l.byteLength);return y.set(new Uint8Array(d),0),y.set(new Uint8Array(l),d.byteLength),y.buffer}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const{join_ref:i,ref:a,topic:l}=e,c=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+l.length+c.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(p),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,i.length),y.setUint8(v++,a.length),y.setUint8(v++,l.length),y.setUint8(v++,c.length),y.setUint8(v++,this.BINARY_ENCODING),Array.from(i,_=>y.setUint8(v++,_.charCodeAt(0))),Array.from(a,_=>y.setUint8(v++,_.charCodeAt(0))),Array.from(l,_=>y.setUint8(v++,_.charCodeAt(0))),Array.from(c,_=>y.setUint8(v++,_.charCodeAt(0)));var b=new Uint8Array(p.byteLength+d.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(d),p.byteLength),b.buffer}_encodeJsonUserBroadcastPush(e){var t,r;const{join_ref:i,ref:a,topic:l}=e,c=e.payload.event,d=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer,y=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+l.length+c.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let b=new DataView(v),_=0;b.setUint8(_++,this.KINDS.userBroadcastPush),b.setUint8(_++,i.length),b.setUint8(_++,a.length),b.setUint8(_++,l.length),b.setUint8(_++,c.length),b.setUint8(_++,this.JSON_ENCODING),Array.from(i,x=>b.setUint8(_++,x.charCodeAt(0))),Array.from(a,x=>b.setUint8(_++,x.charCodeAt(0))),Array.from(l,x=>b.setUint8(_++,x.charCodeAt(0))),Array.from(c,x=>b.setUint8(_++,x.charCodeAt(0)));var S=new Uint8Array(v.byteLength+p.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(p),v.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,l,c,d]=r;return t({join_ref:i,ref:a,topic:l,event:c,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,t,i);case this.KINDS.reply:return this._decodeReply(e,t,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,t,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodePush(e,t,r){const i=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const d=r.decode(e.slice(c,c+i));c=c+i;const h=r.decode(e.slice(c,c+a));c=c+a;const p=r.decode(e.slice(c,c+l));c=c+l;const y=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{join_ref:d,ref:null,topic:h,event:p,payload:y}}_decodeReply(e,t,r){const i=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const h=r.decode(e.slice(d,d+i));d=d+i;const p=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=r.decode(e.slice(d,d+c));d=d+c;const b=JSON.parse(r.decode(e.slice(d,e.byteLength))),_={status:v,response:b};return{join_ref:h,ref:p,topic:y,event:pn.reply,payload:_}}_decodeBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+i));l=l+i;const d=r.decode(e.slice(l,l+a));l=l+a;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:d,payload:h}}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),c=t.getUint8(4);let d=this.HEADER_LENGTH+4;const h=r.decode(e.slice(d,d+i));d=d+i;const p=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),b=c===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,_={type:this.BROADCAST,event:p,payload:b};return l>0&&(_.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST,payload:_}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}}class Qv{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ue||(Ue={}));const Fm=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=z1(l,n,e,i),a),{}):{}},z1=(n,e,t,r)=>{const i=e.find(c=>c.name===n),a=i==null?void 0:i.type,l=t[n];return a&&!r.includes(a)?Zv(a,l):kd(l)},Zv=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return W1(e,t)}switch(n){case Ue.bool:return B1(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return U1(e);case Ue.json:case Ue.jsonb:return H1(e);case Ue.timestamp:return V1(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return kd(e);default:return kd(e)}},kd=n=>n,B1=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},U1=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},H1=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},W1=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Zv(e,c))}return n},V1=n=>typeof n=="string"?n.replace(" ","T"):n,e0=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ju{constructor(e,t,r={},i=xd){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(zm||(zm={}));class po{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=po.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=po.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=po.syncDiff(this.state,i,a,l),c())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const a=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(a,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const y=a[h];if(y){const v=p.map(x=>x.presence_ref),b=y.map(x=>x.presence_ref),_=p.filter(x=>b.indexOf(x.presence_ref)<0),S=y.filter(x=>v.indexOf(x.presence_ref)<0);_.length>0&&(c[h]=_),S.length>0&&(d[h]=S)}else c[h]=p}),this.syncDiff(a,{joins:c,leaves:d},r,i)}static syncDiff(e,t,r,i){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(c,d)=>{var h;const p=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),p.length>0){const y=e[c].map(b=>b.presence_ref),v=p.filter(b=>y.indexOf(b.presence_ref)<0);e[c].unshift(...v)}r(c,p,d)}),this.map(l,(c,d)=>{let h=e[c];if(!h)return;const p=d.map(y=>y.presence_ref);h=h.filter(y=>p.indexOf(y.presence_ref)<0),e[c]=h,i(c,h,d),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Bm||(Bm={}));var go;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(go||(go={}));var sr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(sr||(sr={}));class hh{constructor(e,t={config:{}},r){var i,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ju(this,pn.join,this.params,this.timeout),this.rejoinTimer=new Qv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new po(this),this.broadcastEndpointURL=e0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[go.PRESENCE]&&this.bindings[go.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(sr.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(sr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:b})=>{var _;if(this.socket.setAuth(),b===void 0){e==null||e(sr.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,x=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,E=[];for(let N=0;N<x;N++){const j=S[N],{filter:{event:O,schema:P,table:I,filter:D}}=j,$=b&&b[N];if($&&$.event===O&&$.schema===P&&$.table===I&&$.filter===D)E.push(Object.assign(Object.assign({},j),{id:$.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(sr.SUBSCRIBED);return}}).receive("error",b=>{this.state=at.errored,e==null||e(sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===at.joined&&e===go.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,d;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ju(this,pn.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ju(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$1){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,a;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=pn;if(r&&[c,d,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var _,S,x;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((x=(S=b.filter)===null||S===void 0?void 0:S.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(b=>{var _,S,x,E,N,j;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const O=b.id,P=(_=b.filter)===null||_===void 0?void 0:_.event;return O&&((S=t.ids)===null||S===void 0?void 0:S.includes(O))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const O=(N=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((j=t==null?void 0:t.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:S,table:x,commit_timestamp:E,type:N,errors:j}=_;v=Object.assign(Object.assign({},{schema:S,table:x,commit_timestamp:E,eventType:N,new:{},old:{},errors:j}),this._getPayloadRecords(_))}b.callback(v,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),a={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&hh.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pn.close,{},e)}_onError(e){this._on(pn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Fm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Fm(e.columns,e.old_record)),t}}const Xu=()=>{},dl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q1=[1e3,2e3,5e3,1e4],K1=1e4,Y1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G1{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xd,this.transport=null,this.heartbeatIntervalMs=dl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xu,this.ref=0,this.reconnectTimer=null,this.vsn=$m,this.logger=Xu,this.conn=null,this.sendBuffer=[],this.serializer=new F1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Sd.websocket}`,this.httpEndpoint=e0(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return as.Connecting;case os.open:return as.Open;case os.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new hh(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:i,ref:a}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L1,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},dl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:l}=t,c=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${i} ${c}`.trim(),a),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===os.open||this.conn.readyState===os.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(pn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Y1],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const i={access_token:t,version:M1};t&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(pn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Qv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,a,l,c,d,h,p,y,v,b;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:xd,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:dl.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Xu,this.vsn=(d=e==null?void 0:e.vsn)!==null&&d!==void 0?d:$m,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(_=>q1[_-1]||K1),this.vsn){case Xv:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((_,S)=>S(JSON.stringify(_))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((_,S)=>S(JSON.parse(_)));break;case I1:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class fh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qe(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class J1 extends fh{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ed extends fh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const ph=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),X1=()=>Response,Td=n=>{if(Array.isArray(n))return n.map(t=>Td(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Td(r)}),e},Q1=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Qu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},Z1=(n,e,t)=>de(void 0,void 0,void 0,function*(){const r=yield X1();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{const a=n.status||500,l=(i==null?void 0:i.statusCode)||a+"";e(new J1(Qu(i),a,l))}).catch(i=>{e(new Ed(Qu(i),i))}):e(new Ed(Qu(n),n))}),eT=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?i:(Q1(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t))};function Do(n,e,t,r,i,a){return de(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,eT(e,r,i,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Z1(d,c,r))})})}function So(n,e,t,r){return de(this,void 0,void 0,function*(){return Do(n,"GET",e,t,r)})}function Cn(n,e,t,r,i){return de(this,void 0,void 0,function*(){return Do(n,"POST",e,r,i,t)})}function Cd(n,e,t,r,i){return de(this,void 0,void 0,function*(){return Do(n,"PUT",e,r,i,t)})}function tT(n,e,t,r){return de(this,void 0,void 0,function*(){return Do(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function gh(n,e,t,r,i){return de(this,void 0,void 0,function*(){return Do(n,"DELETE",e,r,i,t)})}class nT{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return de(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}var t0;class rT{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[t0]="BlobDownloadBuilder",this.promise=null}asStream(){return new nT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return de(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}t0=Symbol.toStringTag;const sT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Um={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iT{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ph(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return de(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Um),i);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(d))):(a=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),y=yield(e=="PUT"?Cd:Cn)(this.fetch,`${this.url}/object/${p}`,a,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}upload(e,t,r){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return de(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const h=Object.assign({upsert:Um.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const y=yield Cd(this.fetch,c.toString(),d,{headers:p});return{data:{path:a,fullPath:y.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Qe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return de(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=yield Cn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new fh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}update(e,t,r){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return de(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}copy(e,t,r){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield Cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return de(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Cn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return de(this,void 0,void 0,function*(){try{const i=yield Cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",c=this._getFinalPath(e),d=()=>So(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new rT(d,this.shouldThrowOnError)}info(e){return de(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield So(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Td(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}exists(e){return de(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield tT(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof Ed){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&i.push(a);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(e){return de(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}list(e,t,r){return de(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},sT),t),{prefix:e||""});return{data:yield Cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}listV2(e,t){return de(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const n0="2.81.1",r0={"X-Client-Info":`storage-js/${n0}`};class oT{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const a=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),t),this.fetch=ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return de(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield So(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(e){return de(this,void 0,void 0,function*(){try{return{data:yield So(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}createBucket(e){return de(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return de(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return de(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return de(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class aT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r0),t),this.fetch=ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return de(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBuckets(e){return de(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield So(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return de(this,void 0,void 0,function*(){try{return{data:yield gh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}}const mh={"X-Client-Info":`storage-js/${n0}`,"Content-Type":"application/json"};class s0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function en(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Zu extends s0{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lT extends s0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Hm;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Hm||(Hm={}));const yh=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),cT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Wm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),uT=(n,e,t)=>de(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const i=n.status||500,a=n;if(typeof a.json=="function")a.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";e(new Zu(Wm(l),i,c))}).catch(()=>{const l=i+"",c=a.statusText||`HTTP ${i} error`;e(new Zu(c,i,l))});else{const l=i+"",c=a.statusText||`HTTP ${i} error`;e(new Zu(c,i,l))}}else e(new lT(Wm(n),n))}),dT=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return r?(cT(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t)):i};function hT(n,e,t,r,i,a){return de(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,dT(e,r,i,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>uT(d,c,r))})})}function tn(n,e,t,r,i){return de(this,void 0,void 0,function*(){return hT(n,"POST",e,r,i,t)})}class fT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mh),t),this.fetch=yh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return de(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}getIndex(e,t){return de(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}listIndexes(e){return de(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return de(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}})}}class pT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mh),t),this.fetch=yh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return de(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}getVectors(e){return de(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}listVectors(e){return de(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}queryVectors(e){return de(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}deleteVectors(e){return de(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}}class gT{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mh),t),this.fetch=yh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return de(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}getBucket(e){return de(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}listBuckets(){return de(this,arguments,void 0,function*(e={}){try{return{data:yield tn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}deleteBucket(e){return de(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(en(t))return{data:null,error:t};throw t}})}}class mT extends gT{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new yT(this.url,this.headers,e,this.fetch)}}class yT extends fT{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return de(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return de(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return de(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return de(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new vT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class vT extends pT{constructor(e,t,r,i,a){super(e,t,a),this.vectorBucketName=r,this.indexName=i}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return de(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return de(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return de(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return de(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return de(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class wT extends oT{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new iT(this.url,this.headers,e,this.fetch)}get vectors(){return new mT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aT(this.url+"/iceberg",this.headers,this.fetch)}}const bT="2.81.1";let io="";typeof Deno<"u"?io="deno":typeof document<"u"?io="web":typeof navigator<"u"&&navigator.product==="ReactNative"?io="react-native":io="node";const _T={"X-Client-Info":`supabase-js-${io}/${bT}`},xT={headers:_T},ST={schema:"public"},kT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ET={},TT=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),CT=()=>Headers,jT=(n,e,t)=>{const r=TT(t),i=CT();return async(a,l)=>{var c;const d=(c=await e())!==null&&c!==void 0?c:n;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},l),{headers:h}))}};function NT(n){return n.endsWith("/")?n:n+"/"}function OT(n,e){var t,r;const{db:i,auth:a,realtime:l,global:c}=n,{db:d,auth:h,realtime:p,global:y}=e,v={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),a),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},y),c),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function RT(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NT(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const i0="2.81.1",Vs=30*1e3,jd=3,ed=jd*Vs,DT="http://localhost:9999",PT="supabase.auth.token",AT={"X-Client-Info":`gotrue-js/${i0}`},Nd="X-Supabase-Api-Version",o0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IT=600*1e3;class ko extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class LT extends ko{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function $T(n){return me(n)&&n.name==="AuthApiError"}class ls extends ko{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Fr extends ko{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class En extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FT(n){return me(n)&&n.name==="AuthSessionMissingError"}class zs extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hl extends Fr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fl extends Fr{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zT(n){return me(n)&&n.name==="AuthImplicitGrantRedirectError"}class Vm extends Fr{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Od extends Fr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function td(n){return me(n)&&n.name==="AuthRetryableFetchError"}class qm extends Fr{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Rd extends Fr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Km=` 	
\r=`.split(""),BT=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Km.length;e+=1)n[Km[e].charCodeAt(0)]=-2;for(let e=0;e<$l.length;e+=1)n[$l[e].charCodeAt(0)]=e;return n})();function Ym(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t($l[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t($l[r]),e.queuedBits-=6}}function a0(n,e,t){const r=BT[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Gm(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{WT(l,r,t)};for(let l=0;l<n.length;l+=1)a0(n.charCodeAt(l),i,a);return e.join("")}function UT(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function HT(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}UT(r,e)}}function WT(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Qs(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)a0(n.charCodeAt(i),t,r);return new Uint8Array(e)}function VT(n){const e=[];return HT(n,t=>e.push(t)),new Uint8Array(e)}function us(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>Ym(i,t,r)),Ym(null,t,r),e.join("")}function qT(n){return Math.round(Date.now()/1e3)+n}function KT(){return Symbol("auth-callback")}const mt=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},l0=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function YT(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const c0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),GT=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",qs=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},rs=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Nr=async(n,e)=>{await n.removeItem(e)};class Ql{constructor(){this.promise=new Ql.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ql.promiseConstructor=Promise;function nd(n){const e=n.split(".");if(e.length!==3)throw new Rd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!MT.test(e[r]))throw new Rd("JWT not in base64url format");return{header:JSON.parse(Gm(e[0])),payload:JSON.parse(Gm(e[1])),signature:Qs(e[2]),raw:{header:e[0],payload:e[1]}}}async function JT(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function XT(n,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){i(l);return}}})()})}function QT(n){return("0"+n.toString(16)).substr(-2)}function ZT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let a=0;a<56;a++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,QT).join("")}async function eC(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function tC(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await eC(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bs(n,e,t=!1){const r=ZT();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await qs(n,`${e}-code-verifier`,i);const a=await tC(r);return[a,r===a?"plain":"s256"]}const nC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rC(n){const e=n.headers.get(Nd);if(!e||!e.match(nC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sC(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function iC(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Us(n){if(!oC.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rd(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function aC(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function Jm(n){return JSON.parse(JSON.stringify(n))}const is=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),lC=[502,503,504];async function Xm(n){var e;if(!GT(n))throw new Od(is(n),0);if(lC.includes(n.status))throw new Od(is(n),n.status);let t;try{t=await n.json()}catch(a){throw new ls(is(a),a)}let r;const i=rC(n);if(i&&i.getTime()>=o0["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new qm(is(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new En}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new qm(is(t),n.status,t.weak_password.reasons);throw new LT(is(t),n.status||500,r)}const cC=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function xe(n,e,t,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Nd]||(a[Nd]=o0["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await uC(n,e,t+c,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function uC(n,e,t,r,i,a){const l=cC(e,r,i,a);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Od(is(d),0)}if(c.ok||await Xm(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Xm(d)}}function Tn(n){var e;let t=null;fC(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=qT(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Qm(n){const e=Tn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Dr(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function dC(n){return{data:n,error:null}}function hC(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a}=n,l=oi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function Zm(n){return n}function fC(n){return n.access_token&&n.refresh_token&&n.expires_in}const sd=["global","local","others"];class pC{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=c0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=sd[0]){if(sd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sd.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Dr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=oi(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hC,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dr})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,a,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zm});if(p.error)throw p.error;const y=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);h[`${x}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(me(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){Us(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dr})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Us(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Dr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Us(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Dr})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Us(e.userId);try{const{data:t,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Us(e.userId),Us(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,a,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Zm});if(p.error)throw p.error;const y=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(_.split(";")[1].split("=")[1]);h[`${x}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(me(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}}function ey(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const Hs={debug:!!(globalThis&&l0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gC extends u0{}async function mC(n,e,t){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new gC(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Hs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function yC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function d0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function vC(n){return parseInt(n,16)}function wC(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function bC(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:p,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=d0(n.address),_=p?`${p}://${r}`:r,S=n.statement?`${n.statement}
`:"",x=`${_} wants you to sign in with your Ethereum account:
${b}

${S}`;let E=`URI: ${y}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),c&&(E+=`
Not Before: ${c.toISOString()}`),d&&(E+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const j of h){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);N+=`
- ${j}`}E+=N}return`${x}
${E}`}class st extends Error{constructor({message:e,code:t,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Fl extends st{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function _C({error:n,options:e}){var t,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new st({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(h0(l)){if(a.rp.id!==l)return new st({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function xC({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new st({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(h0(r)){if(t.rpId!==r)return new st({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class SC{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const kC=new SC;function EC(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=oi(n,["challenge","user","excludeCredentials"]),a=Qs(e).buffer,l=Object.assign(Object.assign({},t),{id:Qs(t.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){c.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Qs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function TC(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=oi(n,["challenge","allowCredentials"]),i=Qs(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const c=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Qs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function CC(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:us(new Uint8Array(n.response.attestationObject)),clientDataJSON:us(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jC(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:us(new Uint8Array(i.authenticatorData)),clientDataJSON:us(new Uint8Array(i.clientDataJSON)),signature:us(new Uint8Array(i.signature)),userHandle:i.userHandle?us(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function h0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ty(){var n,e;return!!(mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function NC(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",e)}:{data:null,error:new Fl("Empty credential response",e)}}catch(e){return{data:null,error:_C({error:e,options:n})}}}async function OC(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",e)}:{data:null,error:new Fl("Empty credential response",e)}}catch(e){return{data:null,error:xC({error:e,options:n})}}}const RC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zl(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const c=r[a];e(c)?r[a]=zl(c,l):r[a]=zl(l)}else r[a]=l}return r}function PC(n,e){return zl(RC,n,e||{})}function AC(n,e){return zl(DC,n,e||{})}class MC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},a){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!l)return{data:null,error:c};const d=i??kC.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=PC(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:y}=await NC({publicKey:h,signal:d});return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}case"request":{const h=AC(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:y}=await OC(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:y}}}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new ko("rpId is required for WebAuthn authentication")};try{if(!ty())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!t)return{data:null,error:new ko("rpId is required for WebAuthn registration")};try{if(!ty())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return me(l)?{data:null,error:l}:{data:null,error:new ls("Unexpected error in register",l)}}}}yC();const IC={url:DT,storageKey:PT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ny(n,e,t){return await t()}const Ws={};class Eo{get jwks(){var e,t;return(t=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ws[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},IC),e);if(this.storageKey=a.storageKey,this.instanceID=(t=Eo.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Eo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&mt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new pC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=c0(a.fetch),this.lock=a.lock||ny,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mC:this.lock=ny,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:l0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ey(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ey(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${i0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(mt()&&(t=YT(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),mt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zT(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?this._returnResult({error:t}):this._returnResult({error:new ls("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,i;try{let a;if("email"in e){const{email:p,password:y,options:v}=e;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await Bs(this.storage,this.storageKey)),a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:p,password:y,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:b,code_challenge_method:_},xform:Tn})}else if("phone"in e){const{phone:p,password:y,options:v}=e;a=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Tn})}else throw new hl("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:c}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Qm})}else if("phone"in e){const{phone:a,password:l,options:c}=e;t=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Qm})}else throw new hl("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new zs;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,a,l,c,d,h,p,y,v;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:S,wallet:x,statement:E,options:N}=e;let j;if(mt())if(typeof x=="object")j=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")j=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const O=new URL((t=N==null?void 0:N.url)!==null&&t!==void 0?t:window.location.href),P=await j.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=d0(P[0]);let D=(r=N==null?void 0:N.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const L=await j.request({method:"eth_chainId"});D=vC(L)}const $={domain:O.host,address:I,statement:E,uri:O.href,version:"1",chainId:D,nonce:(i=N==null?void 0:N.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=N==null?void 0:N.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=N==null?void 0:N.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N==null?void 0:N.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N==null?void 0:N.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=N==null?void 0:N.signInWithEthereum)===null||p===void 0?void 0:p.resources};b=bC($),_=await j.request({method:"personal_sign",params:[wC(b),I]})}try{const{data:S,error:x}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Tn});if(x)throw x;if(!S||!S.session||!S.user){const E=new zs;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:x})}catch(S){if(me(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,i,a,l,c,d,h,p,y,v,b;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:x,wallet:E,statement:N,options:j}=e;let O;if(mt())if(typeof E=="object")O=E;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))O=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const P=new URL((t=j==null?void 0:j.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const I=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),N?{statement:N}:null));let D;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")D=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)D=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)_=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=j==null?void 0:j.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j==null?void 0:j.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((h=j==null?void 0:j.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((y=(p=j==null?void 0:j.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...j.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const I=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:x,error:E}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:us(S)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Tn});if(E)throw E;if(!x||!x.session||!x.user){const N=new zs;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:E})}catch(x){if(me(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await rs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:a,error:l}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Tn});if(await Nr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new zs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(me(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:a,nonce:l}=e,c=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Tn}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new zs;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,a,l;try{if("email"in e){const{email:c,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await Bs(this.storage,this.storageKey));const{error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:p}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new hl("You must provide either an email or phone number.")}catch(c){if(me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var t,r;try{let i,a;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Tn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,a,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Bs(this.storage,this.storageKey));const h=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:dC});return!((a=h.data)===null||a===void 0)&&a.url&&mt()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(me(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new En;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:l}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:l,error:c}=await xe(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new hl("You must provide either an email or phone number and a type")}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ed:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await rs(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=rd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=aC(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dr}):await this._useSession(async t=>{var r,i,a;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Dr})})}catch(t){if(me(t))return FT(t)&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new En;const l=i.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Bs(this.storage,this.storageKey));const{data:h,error:p}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Dr});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(me(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new En;const t=Date.now()/1e3;let r=t,i=!0,a=null;const{payload:l}=nd(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(me(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new En;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!mt())throw new fl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fl("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vm("No code detected.");const{data:N,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=e;if(!a||!c||!l||!h)throw new fl("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(c);let v=p+y;d&&(v=parseInt(d));const b=v-p;b*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const _=v-y;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,p);const{data:S,error:x}=await this._getUser(a);if(x)throw x;const E={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(r){if(me(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!($T(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=KT(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Bs(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(me(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async a=>{var l,c,d,h,p;const{data:y,error:v}=a;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return mt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(me(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:a}}=t;if(i)throw i;const{options:l,provider:c,token:d,access_token:h,nonce:p}=e,y=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Tn}),{data:v,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new zs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(i){if(me(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)throw l;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await XT(async i=>(i>0&&await JT(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tn})),(i,a)=>{const l=200*Math.pow(2,i);return a&&td(a)&&Date.now()+l-r<Vs})}catch(r){if(this._debug(t,"error",r),me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),mt()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await rs(this.storage,this.storageKey);if(i&&this.userStorage){let l=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await qs(this.userStorage,this.storageKey+"-user",l)),i.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:rd()}else if(i&&!i.user&&!i.user){const l=await rs(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Nr(this.storage,this.storageKey+"-user"),await qs(this.storage,this.storageKey,i)):i.user=rd()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ed;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ed}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),td(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ql;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new En;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),me(a)){const l={data:null,error:a};return td(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await qs(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const a=Jm(i);await qs(this.storage,this.storageKey,a)}else{const i=Jm(t);await qs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Nr(this.storage,this.storageKey),await Nr(this.storage,this.storageKey+"-code-verifier"),await Nr(this.storage,this.storageKey+"-user"),this.userStorage&&await Nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vs}ms, refresh threshold is ${jd} ticks`),i<=jd&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof u0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await Bs(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;return a?this._returnResult({data:null,error:a}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?CC(e.webauthn.credential_response):jC(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:EC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:TC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=nd(r.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new En})})}catch(t){if(me(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new En});const l=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&mt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new En});const l=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&mt()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+IT>i)return r;const{data:a,error:l}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:b,error:_}=await this.getSession();if(_||!b.session)return this._returnResult({data:null,error:_});r=b.session.access_token}const{header:i,payload:a,signature:l,raw:{header:c,payload:d}}=nd(r);t!=null&&t.allowExpired||sC(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:a,header:i,signature:l},error:null}}const p=iC(i.alg),y=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,l,VT(`${c}.${d}`)))throw new Rd("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(me(r))return this._returnResult({data:null,error:r});throw r}}}Eo.nextInstanceID={};const LC=Eo;class $C extends LC{constructor(e){super(e)}}class FC{constructor(e,t,r){var i,a,l;this.supabaseUrl=e,this.supabaseKey=t;const c=RT(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:ST,realtime:ET,auth:Object.assign(Object.assign({},kT),{storageKey:d}),global:xT},p=OT(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=p.global.headers)!==null&&a!==void 0?a:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=jT(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new D1(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new wT(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new j1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:l,flowType:c,lock:d,debug:h,throwOnError:p},y,v){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $C({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),y),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:a,flowType:c,lock:d,debug:h,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new G1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zC=(n,e,t)=>new FC(n,e,t);function BC(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}BC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UC="https://nylvcqjzczvfkjjbeoef.supabase.co",HC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bHZjcWp6Y3p2ZmtqamJlb2VmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4ODI0NzgsImV4cCI6MjA3ODQ1ODQ3OH0.1UAbbef2icdl8SNsvDNdQUV_49J_BQLB0vfpOcK6r-8",jn=zC(UC,HC);class WC{async getCurrentUser(){try{const{data:{user:e}}=await jn.auth.getUser();return e}catch(e){return console.error("Error getting current user:",e),null}}async signOut(){try{const{error:e}=await jn.auth.signOut();if(e)throw e;return!0}catch(e){throw console.error("Error signing out:",e),e}}getAuthStateChangeListener(e){return jn.auth.onAuthStateChange((t,r)=>{e(t,r)})}async fetchTasks(e){if(!e)return[];try{const{data:t,error:r}=await jn.from("tasks").select("*").eq("user_email",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){return console.error("Error fetching tasks:",t),[]}}async createTask(e,t){if(!t)throw new Error("User email required");try{const{data:r,error:i}=await jn.from("tasks").insert([{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate||null,due_time:e.dueTime||null,category:e.category||null,reminder_minutes:e.reminderMinutes||null,recurrence:e.recurrence||null,calendar_event_id:e.calendarEventId||null,time_spent:e.timeSpent||0,is_tracking:e.isTracking||!1,tracking_start_time:e.trackingStartTime||null,pomodoro_time:e.pomodoroTime||null,pomodoro_mode:e.pomodoroMode||null,pomodoro_active:e.pomodoroActive||!1,scheduled_start:e.scheduledStart||null,scheduled_duration:e.scheduledDuration||null,sort_order:typeof e.sortOrder=="number"?e.sortOrder:0,status:e.status||"todo"}]).select().single();if(i)throw i;return r}catch(r){throw console.error("Error creating task:",r),r}}async updateTask(e,t,r){if(!r)throw new Error("User email required");try{const{data:i,error:a}=await jn.from("tasks").update({text:t.text,completed:t.completed,priority:t.priority,due_date:t.dueDate,due_time:t.dueTime,category:t.category,reminder_minutes:t.reminderMinutes,recurrence:t.recurrence,calendar_event_id:t.calendarEventId,time_spent:t.timeSpent,is_tracking:t.isTracking,tracking_start_time:t.trackingStartTime,pomodoro_time:t.pomodoroTime,pomodoro_mode:t.pomodoroMode,pomodoro_active:t.pomodoroActive,scheduled_start:t.scheduledStart,scheduled_duration:t.scheduledDuration,status:t.status,sort_order:t.sortOrder}).eq("id",e).eq("user_email",r).select().single();if(a)throw a;return i}catch(i){throw console.error("Error updating task:",i),i}}async deleteTask(e,t){if(!t)throw new Error("User email required");try{const{error:r}=await jn.from("tasks").delete().eq("id",e).eq("user_email",t);if(r)throw r;return!0}catch(r){throw console.error("Error deleting task:",r),r}}async deleteCompletedTasks(e){if(!e)throw new Error("User email required");try{const{error:t}=await jn.from("tasks").delete().eq("user_email",e).eq("completed",!0);if(t)throw t;return!0}catch(t){throw console.error("Error deleting completed tasks:",t),t}}convertToAppFormat(e){return{id:e.id,text:e.text,completed:e.completed,priority:e.priority,dueDate:e.due_date||void 0,dueTime:e.due_time||void 0,category:e.category||void 0,reminderMinutes:e.reminder_minutes||void 0,recurrence:e.recurrence||void 0,calendarEventId:e.calendar_event_id||void 0,timeSpent:e.time_spent||0,isTracking:e.is_tracking||!1,trackingStartTime:e.tracking_start_time||void 0,pomodoroTime:e.pomodoro_time||void 0,pomodoroMode:e.pomodoro_mode||void 0,pomodoroActive:e.pomodoro_active||!1,scheduledStart:e.scheduled_start||void 0,scheduledDuration:e.scheduled_duration||void 0,sortOrder:typeof e.sort_order=="number"?e.sort_order:0,status:e.status||(e.completed?"done":"todo")}}convertToDbFormat(e,t){return{id:e.id,user_email:t,text:e.text,completed:e.completed,priority:e.priority,due_date:e.dueDate||null,due_time:e.dueTime||null,category:e.category||null,reminder_minutes:e.reminderMinutes||null,recurrence:e.recurrence||null,calendar_event_id:e.calendarEventId||null,time_spent:e.timeSpent||0,is_tracking:e.isTracking||!1,tracking_start_time:e.trackingStartTime||null,pomodoro_time:e.pomodoroTime||null,pomodoro_mode:e.pomodoroMode||null,pomodoro_active:e.pomodoroActive||!1,scheduled_start:e.scheduledStart||null,scheduled_duration:e.scheduledDuration||null,sort_order:typeof e.sortOrder=="number"?e.sortOrder:0,status:e.status||"todo"}}}const Dt=new WC;function VC({onSignInSuccess:n,onSwitchToSignUp:e,onSwitchToReset:t,onGuestMode:r}){const[i,a]=T.useState({email:"",password:""}),[l,c]=T.useState(""),[d,h]=T.useState(!1),p=()=>i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?i.password?!0:(c("Please enter your password"),!1):(c("Please enter a valid email address"),!1):(c("Please enter your email"),!1),y=async b=>{if(b.preventDefault(),c(""),!!p()){h(!0);try{const{data:_,error:S}=await jn.auth.signInWithPassword({email:i.email,password:i.password});if(S)throw S;a({email:"",password:""}),n&&_.user&&n(_.user)}catch(_){console.error("Error signing in:",_),_.message.includes("Email not confirmed")?c("Please verify your email before signing in. Check your inbox for the verification link."):_.message.includes("Invalid login credentials")?c("Invalid email or password. Please try again."):c(_.message||"Failed to sign in. Please try again.")}finally{h(!1)}}},v=b=>{a({...i,[b.target.name]:b.target.value}),c("")};return g.jsx("div",{className:"auth-overlay",children:g.jsx("div",{className:"auth-container",children:g.jsxs("div",{className:"auth-content",children:[g.jsx("h1",{className:"auth-title",children:"Welcome Back"}),g.jsx("p",{className:"auth-subtitle",children:"Sign in to access your tasks from anywhere"}),g.jsxs("form",{onSubmit:y,className:"auth-form",children:[g.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:i.email,onChange:v,disabled:d,autoFocus:!0}),g.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password",value:i.password,onChange:v,disabled:d}),l&&g.jsx("p",{className:"auth-error",children:l}),g.jsx("button",{type:"button",className:"forgot-password-link",onClick:t,disabled:d,children:"Forgot password?"}),g.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:d,children:d?"Signing In...":"Sign In"}),g.jsx("button",{type:"button",className:"auth-button guest-button",onClick:r,disabled:d,children:"Continue as Guest"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{className:"auth-switch",children:["Don't have an account?"," ",g.jsx("button",{className:"auth-link",onClick:e,disabled:d,children:"Sign Up"})]})})]})})})}function qC({onSignUpSuccess:n,onSwitchToSignIn:e}){const[t,r]=T.useState({name:"",email:"",password:"",confirmPassword:""}),[i,a]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState(!1),p=()=>t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)?t.password?t.password.length<6?(a("Password must be at least 6 characters"),!1):t.password!==t.confirmPassword?(a("Passwords do not match"),!1):!0:(a("Please enter a password"),!1):(a("Please enter a valid email address"),!1):(a("Please enter your email"),!1),y=async b=>{if(b.preventDefault(),a(""),!!p()){c(!0);try{const{error:_}=await jn.auth.signUp({email:t.email,password:t.password,options:{data:{name:t.name||t.email.split("@")[0]},emailRedirectTo:`${window.location.origin}/react-todo-app`}});if(_)throw _;h(!0),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{n&&n()},3e3)}catch(_){console.error("Error signing up:",_),a(_.message||"Failed to sign up. Please try again.")}finally{c(!1)}}},v=b=>{r({...t,[b.target.name]:b.target.value}),a("")};return d?g.jsx("div",{className:"auth-overlay",children:g.jsx("div",{className:"auth-container",children:g.jsx("div",{className:"auth-content",children:g.jsxs("div",{className:"verification-success",children:[g.jsx("div",{className:"success-icon",children:""}),g.jsx("h2",{className:"auth-title",children:"Check Your Email"}),g.jsxs("p",{className:"verification-message",children:["We've sent a verification link to ",g.jsx("strong",{children:t.email})]}),g.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to verify your account and start using the app."}),g.jsx("button",{className:"auth-button secondary-button",onClick:e,children:"Back to Sign In"})]})})})}):g.jsx("div",{className:"auth-overlay",children:g.jsx("div",{className:"auth-container",children:g.jsxs("div",{className:"auth-content",children:[g.jsx("h1",{className:"auth-title",children:"Create Account"}),g.jsx("p",{className:"auth-subtitle",children:"Sign up to sync your tasks across all devices"}),g.jsxs("form",{onSubmit:y,className:"auth-form",children:[g.jsx("input",{type:"text",name:"name",className:"auth-input",placeholder:"Your name (optional)",value:t.name,onChange:v,disabled:l}),g.jsx("input",{type:"email",name:"email",className:"auth-input",placeholder:"your@email.com",value:t.email,onChange:v,disabled:l,autoFocus:!0}),g.jsx("input",{type:"password",name:"password",className:"auth-input",placeholder:"Password (min 6 characters)",value:t.password,onChange:v,disabled:l}),g.jsx("input",{type:"password",name:"confirmPassword",className:"auth-input",placeholder:"Confirm password",value:t.confirmPassword,onChange:v,disabled:l}),i&&g.jsx("p",{className:"auth-error",children:i}),g.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:l,children:l?"Creating Account...":"Sign Up"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{className:"auth-switch",children:["Already have an account?"," ",g.jsx("button",{className:"auth-link",onClick:e,disabled:l,children:"Sign In"})]})}),g.jsx("p",{className:"auth-privacy-note",children:"By signing up, you agree to receive verification emails. We don't send spam or share your data."})]})})})}function KC({onBackToSignIn:n}){const[e,t]=T.useState(""),[r,i]=T.useState(""),[a,l]=T.useState(!1),[c,d]=T.useState(!1),h=()=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:(i("Please enter a valid email address"),!1):(i("Please enter your email"),!1),p=async y=>{if(y.preventDefault(),i(""),!!h()){l(!0);try{const{error:v}=await jn.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/react-todo-app`});if(v)throw v;d(!0),t("")}catch(v){console.error("Error sending reset email:",v),i(v.message||"Failed to send reset email. Please try again.")}finally{l(!1)}}};return c?g.jsx("div",{className:"auth-overlay",children:g.jsx("div",{className:"auth-container",children:g.jsx("div",{className:"auth-content",children:g.jsxs("div",{className:"verification-success",children:[g.jsx("div",{className:"success-icon",children:""}),g.jsx("h2",{className:"auth-title",children:"Check Your Email"}),g.jsx("p",{className:"verification-message",children:"We've sent a password reset link to your email."}),g.jsx("p",{className:"verification-subtitle",children:"Click the link in the email to reset your password."}),g.jsx("button",{className:"auth-button secondary-button",onClick:n,children:"Back to Sign In"})]})})})}):g.jsx("div",{className:"auth-overlay",children:g.jsx("div",{className:"auth-container",children:g.jsxs("div",{className:"auth-content",children:[g.jsx("h1",{className:"auth-title",children:"Reset Password"}),g.jsx("p",{className:"auth-subtitle",children:"Enter your email and we'll send you a link to reset your password"}),g.jsxs("form",{onSubmit:p,className:"auth-form",children:[g.jsx("input",{type:"email",className:"auth-input",placeholder:"your@email.com",value:e,onChange:y=>{t(y.target.value),i("")},disabled:a,autoFocus:!0}),r&&g.jsx("p",{className:"auth-error",children:r}),g.jsx("button",{type:"submit",className:"auth-button primary-button",disabled:a,children:a?"Sending...":"Send Reset Link"})]}),g.jsx("div",{className:"auth-footer",children:g.jsxs("p",{className:"auth-switch",children:["Remember your password?"," ",g.jsx("button",{className:"auth-link",onClick:n,disabled:a,children:"Sign In"})]})})]})})})}function id({addTask:n}){const[e,t]=T.useState(!0),[r,i]=T.useState(""),a=[{text:"Drink water",category:"Hydration",priority:"low",icon:""},{text:"Make coffee",category:"Food",priority:"low",icon:""},{text:"Cook meal",category:"Food",priority:"medium",icon:""},{text:"Meal prep",category:"Food",priority:"medium",icon:""},{text:"Exercise",category:"Health",priority:"medium",icon:""},{text:"Meditate",category:"Health",priority:"low",icon:""},{text:"Take vitamins",category:"Health",priority:"low",icon:""},{text:"Code for 1 hour",category:"Coding",priority:"high",icon:""},{text:"Pray",category:"Personal",priority:"medium",icon:""},{text:"Read for 30 min",category:"Personal",priority:"low",icon:""},{text:"Journal",category:"Personal",priority:"low",icon:""},{text:"Clean room",category:"Home",priority:"medium",icon:""},{text:"Do laundry",category:"Home",priority:"low",icon:""},{text:"Study",category:"Education",priority:"high",icon:""}],l=()=>{const h=new Date,p=h.getFullYear(),y=String(h.getMonth()+1).padStart(2,"0"),v=String(h.getDate()).padStart(2,"0");return`${p}-${y}-${v}`},c=h=>{n({text:`${h.icon} ${h.text}`,priority:h.priority,category:h.category,dueDate:l(),dueTime:"",reminderMinutes:null})},d=()=>{r.trim()&&(n({text:r.trim(),priority:"medium",category:"",dueDate:l(),dueTime:"",reminderMinutes:null}),i(""))};return g.jsxs("div",{className:"quick-add-section",children:[g.jsxs("div",{className:"quick-add-header",children:[g.jsxs("h3",{className:"quick-add-title",children:[g.jsx("span",{className:"quick-add-icon",children:""}),"Quick Add"]}),g.jsx("button",{type:"button",className:"quick-add-toggle",onClick:()=>t(!e),children:e?"":""})]}),e&&g.jsxs("div",{className:"quick-add-grid",children:[a.map((h,p)=>g.jsxs("button",{type:"button",className:`quick-add-task priority-${h.priority}`,onClick:()=>c(h),children:[g.jsx("span",{className:"quick-task-icon",children:h.icon}),g.jsx("span",{className:"quick-task-text",children:h.text})]},p)),g.jsxs("div",{className:"quick-add-task custom-card",children:[g.jsx("input",{type:"text",placeholder:"Custom quick task...",value:r,onChange:h=>i(h.target.value)}),g.jsx("button",{type:"button",className:"quick-add-custom-btn",onClick:d,disabled:!r.trim(),children:"Add"})]})]})]})}function YC(){const[n,e]=T.useState(1500),[t,r]=T.useState(!1),[i,a]=T.useState("work"),[l,c]=T.useState(0),[d,h]=T.useState(!1),[p,y]=T.useState(25),[v,b]=T.useState(5),[_,S]=T.useState(15),x=T.useRef(null),E=T.useRef(null);T.useEffect(()=>{E.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYGGGm98OScTQwOUKzn77RnHAU0jdXzzn0vBSh+zPLaizsIGGS57OihUBELTKXh8bllHQYuhM/z1YU2BhVns+znm08MClCq5O+zaBwGM4rT8s+AMAYnfcvx2Ik5BxdlvO7mnE4LDE6k4PG2ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwGMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6Fz/PWhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTKPg8bdlHAUuhdDz1YU2BhVos+vkl1AMCk+m4/C0ZhwFMonS89CDMAcmfMvx2Ik5BxdlvO7mnU4LDE2j4PG3ZRwFLoXQ89WFNgYVaLPr5JdQDApPpuPwtGYcBTKJ0vPQgzAHJnzL8diJOQcXZbzu5p1OCwxMo+Dxt2UcBS6F0PPVhTYGFWiz6+SXUAwKT6bj8LRmHAUyidLz0IMwByZ8y/HYiTkHF2W87uadTgsMTaPg8bdlHAVDV9")},[]),T.useEffect(()=>(t&&n>0?x.current=setInterval(()=>{e(B=>B-1)},1e3):n===0&&N(),()=>{x.current&&clearInterval(x.current)}),[t,n]);const N=()=>{if(r(!1),E.current&&E.current.play().catch(B=>console.log("Audio play failed:",B)),"Notification"in window&&Notification.permission==="granted"){const B=i==="work"?"Work session complete! Time for a break.":"Break time over! Ready to focus?";new Notification("Pomodoro Timer",{body:B})}if(i==="work"){c(F=>F+1);const B=(l+1)%4===0?"longBreak":"shortBreak";j(B)}else j("work")},j=B=>{switch(a(B),r(!1),B){case"work":e(p*60);break;case"shortBreak":e(v*60);break;case"longBreak":e(_*60);break}},O=()=>{r(!t)},P=()=>{switch(r(!1),i){case"work":e(p*60);break;case"shortBreak":e(v*60);break;case"longBreak":e(_*60);break}},I=B=>{const F=Math.floor(B/60),V=B%60;return`${F.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`},D=()=>{const B=i==="work"?p*60:i==="shortBreak"?v*60:_*60;return(B-n)/B*100},$=()=>{switch(i){case"work":return"#73ABFF";case"shortBreak":return"#34C759";case"longBreak":return"#FF9500";default:return"#73ABFF"}},L=()=>{switch(i){case"work":return"Focus Time";case"shortBreak":return"Short Break";case"longBreak":return"Long Break";default:return"Focus Time"}};return g.jsxs("div",{className:"pomodoro-timer",children:[g.jsxs("div",{className:"pomodoro-header",children:[g.jsxs("h3",{className:"pomodoro-title",children:[g.jsx("span",{className:"pomodoro-icon",children:""}),"Pomodoro"]}),g.jsx("button",{className:"pomodoro-settings-btn",onClick:()=>h(!d),title:"Settings",children:""})]}),d?g.jsxs("div",{className:"pomodoro-settings",children:[g.jsxs("div",{className:"setting-group",children:[g.jsx("label",{children:"Work Duration (min)"}),g.jsx("input",{type:"number",min:"1",max:"60",value:p,onChange:B=>y(Number(B.target.value))})]}),g.jsxs("div",{className:"setting-group",children:[g.jsx("label",{children:"Short Break (min)"}),g.jsx("input",{type:"number",min:"1",max:"30",value:v,onChange:B=>b(Number(B.target.value))})]}),g.jsxs("div",{className:"setting-group",children:[g.jsx("label",{children:"Long Break (min)"}),g.jsx("input",{type:"number",min:"1",max:"60",value:_,onChange:B=>S(Number(B.target.value))})]}),g.jsx("button",{className:"settings-close-btn",onClick:()=>h(!1),children:"Done"})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"pomodoro-mode",style:{color:$()},children:L()}),g.jsx("div",{className:"pomodoro-display",children:g.jsxs("svg",{className:"progress-ring",width:"200",height:"200",children:[g.jsx("circle",{className:"progress-ring-circle-bg",stroke:"#e0e0e0",strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100"}),g.jsx("circle",{className:"progress-ring-circle",stroke:$(),strokeWidth:"8",fill:"transparent",r:"90",cx:"100",cy:"100",style:{strokeDasharray:`${2*Math.PI*90}`,strokeDashoffset:`${2*Math.PI*90*(1-D()/100)}`,transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.3s ease"}}),g.jsx("text",{x:"100",y:"100",textAnchor:"middle",dy:".3em",className:"timer-text",children:I(n)})]})}),g.jsxs("div",{className:"pomodoro-controls",children:[g.jsx("button",{className:`pomodoro-btn ${t?"pause":"start"}`,onClick:O,children:t?" Pause":" Start"}),g.jsx("button",{className:"pomodoro-btn reset",onClick:P,children:" Reset"})]}),g.jsxs("div",{className:"pomodoro-mode-selector",children:[g.jsx("button",{className:`mode-btn ${i==="work"?"active":""}`,onClick:()=>j("work"),children:"Work"}),g.jsx("button",{className:`mode-btn ${i==="shortBreak"?"active":""}`,onClick:()=>j("shortBreak"),children:"Short Break"}),g.jsx("button",{className:`mode-btn ${i==="longBreak"?"active":""}`,onClick:()=>j("longBreak"),children:"Long Break"})]}),g.jsxs("div",{className:"pomodoro-sessions",children:[g.jsx("div",{className:"sessions-label",children:"Sessions Today"}),g.jsxs("div",{className:"sessions-count",children:[Array.from({length:Math.min(l,8)},(B,F)=>g.jsx("span",{className:"session-dot",children:""},F)),l>8&&g.jsxs("span",{className:"session-more",children:["+",l-8]})]}),g.jsxs("div",{className:"sessions-total",children:[l," completed"]})]})]})]})}function GC({tasks:n,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a}){const l=b=>{if(!b.dueDate||b.completed)return!1;const _=new Date,S=new Date(_.getFullYear(),_.getMonth(),_.getDate()),[x,E,N]=b.dueDate.split("-").map(Number);return new Date(x,E-1,N)<=S},c=b=>b.priority==="high",d=n.filter(b=>!b.completed&&l(b)&&c(b)),h=n.filter(b=>!b.completed&&!l(b)&&c(b)),p=n.filter(b=>!b.completed&&l(b)&&!c(b)),y=n.filter(b=>!b.completed&&!l(b)&&!c(b)),v=(b,_,S,x,E)=>g.jsxs("div",{className:`matrix-quadrant ${E}`,children:[g.jsxs("div",{className:"quadrant-header",children:[g.jsxs("div",{className:"quadrant-title",children:[g.jsx("span",{className:"quadrant-icon",children:x}),g.jsx("h3",{children:_})]}),g.jsx("p",{className:"quadrant-subtitle",children:S}),g.jsx("span",{className:"quadrant-count",children:b.length})]}),g.jsx("div",{className:"quadrant-tasks",children:b.length===0?g.jsx("p",{className:"empty-quadrant",children:"No tasks in this quadrant"}):b.map(N=>g.jsx(oo,{task:N,toggleComplete:e,deleteTask:t,editTask:r,onUpdateTime:i,onFocus:a},N.id))})]});return g.jsxs("div",{className:"eisenhower-matrix",children:[g.jsxs("div",{className:"matrix-header",children:[g.jsx("h2",{className:"matrix-title",children:"Eisenhower Matrix"}),g.jsx("p",{className:"matrix-description",children:"Organize tasks by urgency and importance to focus on what truly matters"})]}),g.jsxs("div",{className:"matrix-grid",children:[v(d,"Do First","Urgent & Important","","quadrant-urgent-important"),v(h,"Schedule","Not Urgent & Important","","quadrant-not-urgent-important"),v(p,"Delegate","Urgent & Not Important","","quadrant-urgent-not-important"),v(y,"Eliminate","Not Urgent & Not Important","","quadrant-not-urgent-not-important")]}),g.jsxs("div",{className:"matrix-legend",children:[g.jsxs("div",{className:"legend-item",children:[g.jsx("span",{className:"legend-dot urgent-important"}),g.jsx("span",{children:"High priority + Due today/overdue"})]}),g.jsxs("div",{className:"legend-item",children:[g.jsx("span",{className:"legend-dot not-urgent-important"}),g.jsx("span",{children:"High priority + Due later"})]}),g.jsxs("div",{className:"legend-item",children:[g.jsx("span",{className:"legend-dot urgent-not-important"}),g.jsx("span",{children:"Medium/Low priority + Due today/overdue"})]}),g.jsxs("div",{className:"legend-item",children:[g.jsx("span",{className:"legend-dot not-urgent-not-important"}),g.jsx("span",{children:"Medium/Low priority + Due later"})]})]})]})}function JC({task:n,onSave:e,onClose:t}){const i=(()=>{if(n.dueTime){const[E,N]=n.dueTime.split(":").map(Number);return{hours:E,minutes:N}}return{hours:new Date().getHours(),minutes:0}})(),[a,l]=T.useState(i.hours),[c,d]=T.useState(i.minutes),[h,p]=T.useState(n.scheduledDuration||60),y=()=>{const x=`${String(a).padStart(2,"0")}:${String(c).padStart(2,"0")}`;e({dueTime:x,scheduledDuration:h}),t()},v=Array.from({length:24},(x,E)=>E),b=[0,15,30,45],_=[{label:"15 min",value:15},{label:"30 min",value:30},{label:"45 min",value:45},{label:"1 hour",value:60},{label:"1.5 hours",value:90},{label:"2 hours",value:120},{label:"3 hours",value:180}],S=(x,E)=>{const N=x>=12?"PM":"AM",j=x===0?12:x>12?x-12:x,O=E.toString().padStart(2,"0");return`${j}:${O} ${N}`};return g.jsx("div",{className:"modal-overlay",onClick:t,children:g.jsxs("div",{className:"time-block-editor",onClick:x=>x.stopPropagation(),children:[g.jsxs("div",{className:"editor-header",children:[g.jsx("h3",{children:" Edit Time Block"}),g.jsx("button",{className:"close-btn",onClick:t,children:""})]}),g.jsxs("div",{className:"editor-content",children:[g.jsx("div",{className:"task-name",children:g.jsx("strong",{children:n.text})}),g.jsxs("div",{className:"time-section",children:[g.jsx("label",{children:"Start Time"}),g.jsxs("div",{className:"time-inputs",children:[g.jsx("select",{value:a,onChange:x=>l(Number(x.target.value)),className:"time-select",children:v.map(x=>{const E=x>=12?"PM":"AM",N=x===0?12:x>12?x-12:x;return g.jsxs("option",{value:x,children:[N," ",E]},x)})}),g.jsx("span",{className:"time-separator",children:":"}),g.jsx("select",{value:c,onChange:x=>d(Number(x.target.value)),className:"time-select",children:b.map(x=>g.jsx("option",{value:x,children:x.toString().padStart(2,"0")},x))})]}),g.jsxs("div",{className:"start-time-preview",children:["Starts at ",S(a,c)]})]}),g.jsxs("div",{className:"duration-section",children:[g.jsx("label",{children:"Duration"}),g.jsx("div",{className:"duration-presets",children:_.map(x=>g.jsx("button",{className:`duration-preset ${h===x.value?"active":""}`,onClick:()=>p(x.value),children:x.label},x.value))}),g.jsxs("div",{className:"custom-duration",children:[g.jsx("input",{type:"number",value:h,onChange:x=>p(Number(x.target.value)),min:"5",max:"480",step:"5",className:"duration-input"}),g.jsx("span",{children:"minutes"})]})]}),g.jsx("div",{className:"end-time-display",children:(()=>{const x=new Date;return x.setHours(a,c+h,0,0),`Ends at ${S(x.getHours(),x.getMinutes())}`})()})]}),g.jsxs("div",{className:"editor-footer",children:[g.jsx("button",{className:"cancel-btn",onClick:t,children:"Cancel"}),g.jsx("button",{className:"save-btn",onClick:y,children:"Save"})]})]})})}function XC({task:n,getPriorityColor:e}){const{attributes:t,listeners:r,setNodeRef:i,transform:a,isDragging:l}=Jl({id:`task-${n.id}`,data:{task:n,type:"unscheduled"}}),c={transform:Wn.Transform.toString(a),opacity:l?.5:1,cursor:l?"grabbing":"grab"};return g.jsxs("div",{ref:i,className:"unscheduled-task",style:c,...r,...t,children:[g.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:e(n.priority)}}),g.jsxs("div",{className:"task-content",children:[g.jsx("div",{className:"task-text",children:n.text}),n.category&&g.jsx("span",{className:"task-category",children:n.category})]})]})}function QC({task:n,getPriorityColor:e,onUnschedule:t,onTaskClick:r,onEdit:i}){const{attributes:a,listeners:l,setNodeRef:c,transform:d,isDragging:h}=Jl({id:`scheduled-${n.id}`,data:{task:n,type:"scheduled"}}),p={transform:Wn.Transform.toString(d),opacity:h?.5:1,cursor:h?"grabbing":"grab"};return g.jsxs("div",{ref:c,className:"time-block",style:{...p,borderLeft:`4px solid ${e(n.priority)}`},...l,...a,children:[g.jsxs("div",{className:"time-block-header",children:[g.jsx("span",{className:"time-block-title",children:n.text}),g.jsxs("div",{className:"time-block-actions",children:[n.category&&g.jsx("span",{className:"block-category",children:n.category}),g.jsxs("span",{className:"block-duration",children:[n.scheduledDuration||60," min"]}),g.jsx("button",{className:"block-focus-btn",onClick:y=>{y.stopPropagation(),r(n)},children:" Focus"}),g.jsx("button",{className:"time-block-edit",onClick:y=>{y.stopPropagation(),i(n)},title:"Edit time",children:""}),g.jsx("button",{className:"time-block-remove",onClick:y=>{y.stopPropagation(),t(n)},title:"Unschedule",children:""})]})]}),g.jsx("div",{className:"time-block-time",children:n.dueTime&&(()=>{const[y,v]=n.dueTime.split(":").map(Number),b=new Date;b.setHours(y,v,0,0);const _=new Date(b.getTime()+(n.scheduledDuration||60)*6e4),S=E=>E===0?12:E>12?E-12:E,x=E=>E>=12?"PM":"AM";return`${S(y)}:${v.toString().padStart(2,"0")} ${x(y)} - ${S(_.getHours())}:${_.getMinutes().toString().padStart(2,"0")} ${x(_.getHours())}`})()})]})}function ZC({hour:n,minute:e,children:t}){const{setNodeRef:r,isOver:i}=ah({id:`slot-${n}-${e}`,data:{hour:n,minute:e}});return g.jsx("div",{ref:r,className:`time-content ${i?"drop-target":""}`,children:t})}function ej({tasks:n,onUpdateTask:e,onTaskClick:t}){const[r,i]=T.useState(null),[a]=T.useState(new Date),[l,c]=T.useState(null),[d,h]=T.useState(null),p=th(eh(Oo,{activationConstraint:{distance:8}})),y=O=>{var V,ne,le;const{active:P,over:I}=O;if(c(null),!I)return;const D=(V=P.data.current)==null?void 0:V.task,$=(ne=I.data.current)==null?void 0:ne.hour,L=(le=I.data.current)==null?void 0:le.minute;if(!D||$===void 0||L===void 0)return;const B=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,F=`${String($).padStart(2,"0")}:${String(L).padStart(2,"0")}`;e(D.id,{dueDate:B,dueTime:F,scheduledDuration:D.scheduledDuration||60})},v=O=>{var P;c((P=O.active.data.current)==null?void 0:P.task)},b=n.filter(O=>{if(O.completed)return!1;if(!O.dueDate||!O.dueTime)return!0;const[P,I,D]=O.dueDate.split("-").map(Number);return new Date(P,I-1,D).toDateString()!==a.toDateString()}),_=n.filter(O=>{if(O.completed||!O.dueDate||!O.dueTime)return!1;const[P,I,D]=O.dueDate.split("-").map(Number);return new Date(P,I-1,D).toDateString()===a.toDateString()}),x=(()=>{const O=[];for(let P=8;P<=20;P++)for(let I=0;I<60&&!(P===20&&I>0);I+=15){const D=P===0?12:P>12?P-12:P,$=P>=12?"PM":"AM",L=`${D}:${String(I).padStart(2,"0")} ${$}`;O.push({hour:P,minute:I,label:L,time:`${P}:${String(I).padStart(2,"0")}`})}return O})(),E=O=>{e(O.id,{dueTime:void 0,scheduledDuration:void 0})},N=O=>{const P={weekday:"long",month:"long",day:"numeric"};return O.toLocaleDateString("en-US",P)},j=O=>{switch(O){case"high":return"#ff6b6b";case"medium":return"#ffd93d";case"low":return"#6bcf7f";default:return"#999"}};return g.jsxs(oh,{sensors:p,onDragStart:v,onDragEnd:y,children:[g.jsxs("div",{className:"time-blocks-container",children:[g.jsxs("div",{className:"time-blocks-header",children:[g.jsx("h2",{children:" Time Blocks"}),g.jsx("p",{className:"time-blocks-date",children:N(a)})]}),g.jsxs("div",{className:"time-blocks-content",children:[g.jsxs("div",{className:"unscheduled-tasks",children:[g.jsxs("h3",{children:["Unscheduled Tasks (",b.length,")"]}),b.length===0?g.jsx("p",{className:"empty-state",children:"All tasks are scheduled! "}):g.jsx("div",{className:"task-list",children:b.map(O=>g.jsx(XC,{task:O,getPriorityColor:j},O.id))}),g.jsx("div",{className:"schedule-hint",children:" Drag tasks to time slots to schedule"})]}),g.jsxs("div",{className:"timeline-view",children:[g.jsx("h3",{children:"Today's Schedule"}),g.jsx("div",{className:"timeline",children:x.map(O=>{const P=_.filter(D=>{if(!D.dueTime)return!1;const[$,L]=D.dueTime.split(":").map(Number),B=Math.floor(L/15)*15;return $===O.hour&&B===O.minute}),I=_.some(D=>{if(!D.dueTime)return!1;const[$,L]=D.dueTime.split(":").map(Number),B=$*60+L,F=B+(D.scheduledDuration||60),V=O.hour*60+O.minute;return V>=B&&V<F});return g.jsxs("div",{className:"time-slot",children:[g.jsx("div",{className:"time-label",children:O.label}),g.jsx(ZC,{hour:O.hour,minute:O.minute,children:P.length>0?g.jsx("div",{className:"slot-blocks-container",children:P.map(D=>{const $=D.scheduledDuration||60,B=Math.ceil($/15)*48;return g.jsx("div",{className:"slot-block-wrapper",style:{height:`${B}px`},children:g.jsx(QC,{task:D,getPriorityColor:j,onUnschedule:E,onTaskClick:t,onEdit:h})},D.id)})}):I?g.jsx("div",{className:"time-slot-covered"}):g.jsx("div",{className:"time-slot-empty",children:"Drop here"})})]},`${O.hour}-${O.minute}`)})})]})]})]}),g.jsx(qE,{children:l?g.jsxs("div",{className:"drag-overlay-task",children:[g.jsx("div",{className:"task-priority-indicator",style:{backgroundColor:j(l.priority)}}),g.jsxs("div",{className:"task-content",children:[g.jsx("div",{className:"task-text",children:l.text}),l.category&&g.jsx("span",{className:"task-category",children:l.category})]})]}):null}),d&&g.jsx(JC,{task:d,onSave:O=>{e(d.id,O),h(null)},onClose:()=>h(null)})]})}function tj({activeView:n,onViewChange:e,userName:t,onSignOut:r,darkMode:i,onToggleDarkMode:a}){const l=[{id:"today",icon:"",label:"Today"},{id:"tasks",icon:"",label:"All Tasks"},{id:"upcoming",icon:"",label:"Upcoming"},{id:"kanban",icon:"",label:"Kanban"},{id:"dashboard",icon:"",label:"Dashboard"},{id:"matrix",icon:"",label:"Matrix"},{id:"timeblocks",icon:"",label:"Time Blocks"},{id:"pomodoro",icon:"",label:"Pomodoro"}];return g.jsxs("div",{className:"sidebar",children:[g.jsx("div",{className:"sidebar-header",children:g.jsxs("h2",{className:"sidebar-logo",children:[g.jsx("span",{className:"logo-icon",children:""}),"Zentask"]})}),g.jsx("nav",{className:"sidebar-nav",children:l.map(c=>g.jsxs("button",{className:`sidebar-nav-item ${n===c.id?"active":""}`,onClick:()=>e(c.id),children:[g.jsx("span",{className:"nav-icon",children:c.icon}),g.jsx("span",{className:"nav-label",children:c.label})]},c.id))}),g.jsxs("div",{className:"sidebar-footer",children:[g.jsxs("div",{className:"sidebar-user",children:[g.jsx("span",{className:"sidebar-avatar",children:t.charAt(0).toUpperCase()}),g.jsx("span",{className:"sidebar-username",children:t})]}),g.jsxs("div",{className:"sidebar-controls",children:[g.jsx("button",{className:"sidebar-control-btn",onClick:a,title:i?"Light Mode":"Dark Mode",children:i?"":""}),g.jsx("button",{className:"sidebar-control-btn",onClick:r,title:"Sign Out",children:""})]})]})]})}function nj({task:n,onClose:e,onComplete:t,onUpdateTime:r}){const[i,a]=T.useState(n.isTracking||!1),[l,c]=T.useState(n.timeSpent||0),[d,h]=T.useState(n.pomodoroActive||!1),[p,y]=T.useState(n.pomodoroTime||1500),[v,b]=T.useState(n.pomodoroMode||"work"),_=T.useRef(null),S=T.useRef(null),x=T.useRef(l),E=F=>{const V=Math.floor(F/3600),ne=Math.floor(F%3600/60),le=F%60;return V>0?`${V}:${String(ne).padStart(2,"0")}:${String(le).padStart(2,"0")}`:`${ne}:${String(le).padStart(2,"0")}`},N=()=>{if(!n.dueDate)return"No due date";const[F,V,ne]=n.dueDate.split("-").map(Number),le=new Date(F,V-1,ne),ae={weekday:"long",month:"long",day:"numeric"},he=le.toLocaleDateString("en-US",ae);return n.dueTime?`${he} at ${n.dueTime}`:he},j=()=>{i?(_.current&&(clearInterval(_.current),_.current=null),r(n.id,{timeSpent:l}),a(!1)):(a(!0),_.current=setInterval(()=>{c(F=>F+1)},1e3))},O=()=>{_.current&&(clearInterval(_.current),_.current=null),c(0),a(!1),r(n.id,{timeSpent:0})},P=()=>{const F=!d;if(F&&!d)if(l>=1500)y(1500),b("work");else{const V=1500-l;y(V),b("work")}h(F),d&&S.current&&(clearInterval(S.current),S.current=null)},I=()=>{S.current?(clearInterval(S.current),S.current=null):S.current=setInterval(()=>{v==="work"&&c(F=>F+1),y(F=>F<=1?(S.current&&(clearInterval(S.current),S.current=null),v==="work"?(b("break"),300):(b("work"),1500)):F-1)},1e3)},D=()=>{S.current&&(clearInterval(S.current),S.current=null),b("work"),y(1500)},$=()=>{_.current&&clearInterval(_.current),S.current&&clearInterval(S.current),r(n.id,{timeSpent:l,pomodoroTime:d?p:null,pomodoroMode:d?v:null,pomodoroActive:d}),e()},L=()=>{_.current&&(clearInterval(_.current),r(n.id,{timeSpent:l})),t(n.id),e()};T.useEffect(()=>{const F=V=>{V.key==="Escape"?$():V.key===" "&&(V.preventDefault(),d?I():j())};return window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)}},[d,l]),T.useEffect(()=>{x.current=l},[l]),T.useEffect(()=>()=>{_.current&&clearInterval(_.current),S.current&&clearInterval(S.current),x.current>0&&r(n.id,{timeSpent:x.current})},[]);const B=()=>{switch(n.priority){case"high":return"#ff6b6b";case"medium":return"#ffd93d";case"low":return"#6bcf7f";default:return"#999"}};return g.jsx("div",{className:"focus-mode-overlay",children:g.jsxs("div",{className:"focus-mode-container",children:[g.jsx("button",{className:"focus-close-button",onClick:$,title:"Exit Focus Mode (ESC)",children:""}),g.jsxs("div",{className:"focus-priority-badge",style:{backgroundColor:B()},children:[n.priority," priority"]}),g.jsx("h1",{className:"focus-task-title",children:n.text}),g.jsx("p",{className:"focus-due-date",children:N()}),n.category&&g.jsx("span",{className:"focus-category",children:n.category}),g.jsx("div",{className:"focus-mode-toggle",children:g.jsx("button",{className:`toggle-button ${d?"active":""}`,onClick:P,children:d?" Time Tracking":" Pomodoro"})}),d?g.jsxs("div",{className:"focus-pomodoro-section",children:[g.jsx("div",{className:`focus-pomodoro-mode ${v}`,children:v==="work"?" Work Session":" Break Time"}),g.jsx("div",{className:"focus-pomodoro-display",children:E(p)}),g.jsxs("div",{className:"focus-pomodoro-controls",children:[g.jsx("button",{className:`focus-timer-button ${S.current?"stop":"start"}`,onClick:I,title:"Space to start/stop",children:S.current?" Pause":" Start"}),g.jsx("button",{className:"focus-reset-button",onClick:D,children:"Reset"})]})]}):g.jsxs("div",{className:"focus-time-section",children:[g.jsx("div",{className:"focus-time-display",children:E(l)}),g.jsxs("div",{className:"focus-time-controls",children:[g.jsx("button",{className:`focus-timer-button ${i?"stop":"start"}`,onClick:j,title:"Space to start/stop",children:i?" Pause":" Start"}),l>0&&g.jsx("button",{className:"focus-reset-button",onClick:O,children:"Reset"})]})]}),g.jsx("button",{className:"focus-complete-button",onClick:L,children:" Mark Complete"}),g.jsxs("div",{className:"focus-shortcuts",children:[g.jsx("span",{children:"ESC to exit"}),g.jsx("span",{children:""}),g.jsx("span",{children:"SPACE to start/stop"})]})]})})}function rj({quote:n,onClose:e,duration:t=5e3}){return T.useEffect(()=>{const r=setTimeout(()=>{e()},t);return()=>clearTimeout(r)},[e,t]),g.jsx("div",{className:"celebration-toast",children:g.jsxs("div",{className:"celebration-content",children:[g.jsx("div",{className:"celebration-icon",children:""}),g.jsxs("div",{className:"celebration-message",children:[g.jsx("h3",{className:"celebration-title",children:"Task Completed!"}),g.jsx("blockquote",{className:"celebration-quote",children:n}),g.jsx("div",{className:"celebration-author",children:" Naval Ravikant"})]}),g.jsx("button",{className:"celebration-close",onClick:e,children:""})]})})}const sj=[{id:"todo",title:"To Do",description:"Ideas and upcoming work",icon:"",accent:"#73ABFF"},{id:"inprogress",title:"In Progress",description:"Currently active tasks",icon:"",accent:"#F5A524"},{id:"done",title:"Done",description:"Wrapped and celebrated",icon:"",accent:"#4CAF50"}],ij=["todo","inprogress","done"],ry=n=>n.status?n.status:n.completed?"done":"todo",oj=n=>{if(!n.dueDate)return null;const[e,t,r]=n.dueDate.split("-").map(Number),i=new Date(e,t-1,r),a=i.toLocaleDateString("en-US",{month:"short",day:"numeric"});if(!n.dueTime)return a;const[l,c]=n.dueTime.split(":").map(Number);return i.setHours(l,c,0,0),`${a}  ${i.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`},aj=({tasks:n,onStatusChange:e,onToggleComplete:t,onDeleteTask:r})=>{const i=th(eh(Oo,{activationConstraint:{distance:5}})),a=T.useMemo(()=>{const c={todo:[],inprogress:[],done:[]};return n.forEach(d=>{const h=ry(d);c[h].push(d)}),c},[n]),l=c=>{const{active:d,over:h}=c;if(!h)return;const p=h.id;if(typeof p!="string"||!ij.includes(p))return;const y=typeof d.id=="string"?d.id:String(d.id);if(!y.startsWith("task-"))return;const v=Number(y.replace("task-","")),b=n.find(x=>x.id===v);if(!b)return;const _=p;ry(b)!==_&&e(v,_)};return g.jsxs("div",{className:"kanban-section",children:[g.jsx("div",{className:"kanban-header",children:g.jsxs("div",{children:[g.jsx("h2",{children:"Kanban Board"}),g.jsx("p",{children:"Drag tasks across columns to reflect their progress."})]})}),g.jsx(oh,{sensors:i,onDragEnd:l,children:g.jsx("div",{className:"kanban-board",children:sj.map(c=>g.jsx(lj,{column:c,tasks:a[c.id],onToggleComplete:t,onDeleteTask:r},c.id))})})]})},lj=({column:n,tasks:e,onToggleComplete:t,onDeleteTask:r})=>{const{isOver:i,setNodeRef:a}=ah({id:n.id});return g.jsxs("div",{className:`kanban-column ${i?"is-over":""}`,children:[g.jsxs("div",{className:"kanban-column-header",children:[g.jsxs("div",{className:"kanban-column-title",children:[g.jsx("span",{className:"kanban-column-icon",style:{color:n.accent},children:n.icon}),g.jsxs("div",{children:[g.jsx("h3",{children:n.title}),g.jsx("p",{children:n.description})]})]}),g.jsx("div",{className:"kanban-column-count",style:{background:n.accent},children:e.length})]}),g.jsx("div",{className:"kanban-tasks",ref:a,children:e.length===0?g.jsx("div",{className:"kanban-empty",children:g.jsx("p",{children:"No tasks here yet."})}):e.map(l=>g.jsx(uj,{task:l,onToggleComplete:t,onDeleteTask:r},l.id))})]})},cj=n=>{if(!n)return;const e=Math.round(n.x),t=Math.round(n.y);return`translate3d(${e}px, ${t}px, 0)`},uj=({task:n,onToggleComplete:e,onDeleteTask:t})=>{const{attributes:r,listeners:i,setNodeRef:a,transform:l,isDragging:c}=Jl({id:`task-${n.id}`}),d=l?{transform:cj(l)}:void 0,h=oj(n);return g.jsxs("div",{className:`kanban-task ${c?"dragging":""}`,ref:a,style:d,...r,...i,children:[g.jsxs("div",{className:"kanban-task-header",children:[g.jsx("span",{className:"kanban-task-priority",children:(n.priority||"medium").toUpperCase()}),g.jsxs("div",{className:"kanban-task-actions",children:[g.jsx("button",{className:"kanban-task-btn",onClick:()=>e(n.id),title:n.completed?"Mark as Incomplete":"Mark as Done",type:"button",children:n.completed?"":""}),g.jsx("button",{className:"kanban-task-btn danger",onClick:()=>t(n.id),title:"Delete Task",type:"button",children:""})]})]}),g.jsx("p",{className:"kanban-task-text",children:n.text}),g.jsxs("div",{className:"kanban-task-meta",children:[n.category&&g.jsx("span",{className:"kanban-task-tag",children:n.category}),h&&g.jsx("span",{className:"kanban-task-due",children:h}),n.scheduledDuration&&g.jsxs("span",{className:"kanban-task-duration",children:[n.scheduledDuration," min planned"]})]})]})};function dj(){const[n,e]=T.useState([]),[t,r]=T.useState("all"),[i,a]=T.useState(""),[l,c]=T.useState(!1),[d,h]=T.useState("today"),[p,y]=T.useState("default"),[v,b]=T.useState(!1),[_,S]=T.useState("signin"),[x,E]=T.useState(null),[N,j]=T.useState(!0),[O,P]=T.useState(""),[I,D]=T.useState(""),[$,L]=T.useState(!1),[B,F]=T.useState(null),[V,ne]=T.useState(null),le=T.useRef(new Set),ae=q=>({...q,sortOrder:typeof q.sortOrder=="number"?q.sortOrder:0,status:q.status||(q.completed?"done":"todo")}),he=q=>{try{return JSON.parse(q).map(ae)}catch{return[]}},oe=q=>{if(!q)return 0;const ee=n.filter(re=>re.dueDate===q);if(ee.length===0)return 0;const _e=Math.max(...ee.map(re=>re.sortOrder||0));return Number.isFinite(_e)?_e+1:0};T.useEffect(()=>{"Notification"in window&&(y(Notification.permission),Notification.permission==="default"&&Notification.requestPermission().then(q=>{y(q)}))},[]),T.useEffect(()=>{if(localStorage.getItem("guestMode")==="true"){L(!0),P("Guest"),j(!1);const _e=localStorage.getItem("guestTasks");_e&&e(he(_e));return}Dt.getCurrentUser().then(_e=>{var re,Se;_e&&(E(_e),D(_e.email||""),P(((re=_e.user_metadata)==null?void 0:re.name)||((Se=_e.email)==null?void 0:Se.split("@")[0])||"")),j(!1)});const{data:ee}=Dt.getAuthStateChangeListener((_e,re)=>{var Se,fe;_e==="SIGNED_IN"&&(re!=null&&re.user)?(E(re.user),D(re.user.email||""),P(((Se=re.user.user_metadata)==null?void 0:Se.name)||((fe=re.user.email)==null?void 0:fe.split("@")[0])||"")):_e==="SIGNED_OUT"&&(E(null),D(""),P(""),e([]))});return()=>{ee!=null&&ee.subscription&&ee.subscription.unsubscribe()}},[]),T.useEffect(()=>{(async()=>{const ee=localStorage.getItem("darkMode");ee&&c(JSON.parse(ee)),x&&(localStorage.getItem(`hasCompletedOnboarding_${x.id}`)||b(!0))})()},[x]),T.useEffect(()=>{(async()=>{if(I){const _e=(await Dt.fetchTasks(I)).map(re=>Dt.convertToAppFormat(re));e(_e.map(ae))}})()},[I]),T.useEffect(()=>{$&&localStorage.setItem("guestTasks",JSON.stringify(n))},[n,$]),T.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(l))},[l]),T.useEffect(()=>{const q=()=>{const _e=new Date;n.forEach(re=>{if(re.completed||!re.dueDate||!re.reminderMinutes)return;const Se=`${re.id}-${re.reminderMinutes}`;if(le.current.has(Se))return;const[fe,Me,pt]=re.dueDate.split("-").map(Number),Yt=new Date(fe,Me-1,pt);if(re.dueTime){const[lr,zr]=re.dueTime.split(":");Yt.setHours(parseInt(lr),parseInt(zr),0,0)}else Yt.setHours(23,59,59,999);const Rn=new Date(Yt.getTime()-re.reminderMinutes*60*1e3);_e>=Rn&&_e<new Date(Rn.getTime()+6e4)&&(G(re),le.current.add(Se))})};q();const ee=setInterval(q,6e4);return()=>clearInterval(ee)},[n,p]);const G=q=>{if(p==="granted"){const ee=new Notification("Task Reminder",{body:`${q.text}${q.dueTime?` at ${q.dueTime}`:""}`,icon:"",badge:"",tag:`task-${q.id}`,requireInteraction:!0});ee.onclick=()=>{window.focus(),ee.close()}}},Z=(q,ee)=>{if(!ee||!q)return null;const[_e,re,Se]=q.split("-").map(Number),fe=new Date(_e,re-1,Se);switch(ee){case"daily":fe.setDate(fe.getDate()+1);break;case"weekly":fe.setDate(fe.getDate()+7);break;case"biweekly":fe.setDate(fe.getDate()+14);break;case"monthly":fe.setMonth(fe.getMonth()+1);break;case"yearly":fe.setFullYear(fe.getFullYear()+1);break;default:return null}const Me=fe.getFullYear(),pt=String(fe.getMonth()+1).padStart(2,"0"),Yt=String(fe.getDate()).padStart(2,"0");return`${Me}-${pt}-${Yt}`},R=q=>{if(!q)return q;const ee=q.charAt(0);return/[a-z]/.test(ee)?ee.toUpperCase()+q.slice(1):q},W=async q=>{const ee=q.dueDate||"",_e=typeof q.sortOrder=="number"?q.sortOrder:oe(ee),re=q.dueTime||"";let Se=q.scheduledStart;if(!Se&&ee&&re){const[Me,pt,Yt]=ee.split("-").map(Number),[Rn,lr]=re.split(":").map(Number);Se=new Date(Me,pt-1,Yt,Rn||0,lr||0,0,0).toISOString()}const fe={id:Date.now(),text:R(q.text||""),completed:!1,priority:q.priority||"medium",dueDate:ee,dueTime:re,category:q.category||"",reminderMinutes:q.reminderMinutes||null,recurrence:q.recurrence||null,timeSpent:0,isTracking:!1,trackingStartTime:null,scheduledStart:Se,scheduledDuration:q.scheduledDuration||(Se?60:void 0),sortOrder:_e,status:q.status||"todo"};if(I)try{await Dt.createTask(fe,I)}catch(Me){console.error("Failed to save task to Supabase:",Me)}e(Me=>[ae(fe),...Me])},Q=async q=>{const ee=n.find(re=>re.id===q);if(!ee)return;const _e={...ee,completed:!ee.completed,status:ee.completed?"todo":"done"};if(!ee.completed&&_e.completed){const re=w1("completion");ne(re)}if(!ee.completed&&ee.recurrence&&_e.completed){const re=Z(ee.dueDate,ee.recurrence);if(re){const Se={id:Date.now()+1,text:ee.text,completed:!1,priority:ee.priority,dueDate:re,dueTime:ee.dueTime,category:ee.category,reminderMinutes:ee.reminderMinutes,recurrence:ee.recurrence,timeSpent:0,isTracking:!1,trackingStartTime:null,status:"todo"};if(I)try{await Dt.createTask(Se,I)}catch(fe){console.error("Failed to create recurring task in Supabase:",fe)}if(e([...n.map(fe=>fe.id===q?_e:fe),Se]),I)try{await Dt.updateTask(q,_e,I)}catch(fe){console.error("Failed to update task in Supabase:",fe)}return}}if(I)try{await Dt.updateTask(q,_e,I)}catch(re){console.error("Failed to update task in Supabase:",re)}e(n.map(re=>re.id===q?_e:re))},ge=async q=>{if(I)try{await Dt.deleteTask(q,I)}catch(ee){console.error("Failed to delete task from Supabase:",ee)}e(n.filter(ee=>ee.id!==q))},ue=async(q,ee)=>{const _e=n.find(Se=>Se.id===q);if(!_e)return;const re={..._e,...ee};if(I)try{await Dt.updateTask(q,re,I)}catch(Se){console.error("Failed to update task in Supabase:",Se)}e(n.map(Se=>Se.id===q?re:Se))},Te=async(q,ee)=>{await ue(q,{status:ee,completed:ee==="done"})},ye=async(q,ee)=>{const _e=new Map;ee.forEach((fe,Me)=>_e.set(fe,Me));const re=[],Se=n.map(fe=>{if(fe.dueDate===q&&_e.has(fe.id)){const Me=_e.get(fe.id);if((fe.sortOrder||0)!==Me){const pt={...fe,sortOrder:Me};return re.push(pt),pt}}return fe});re.length!==0&&(e(Se),I&&re.forEach(fe=>{Dt.updateTask(fe.id,{sortOrder:fe.sortOrder},I).catch(Me=>{console.error("Failed to update task order in Supabase:",Me)})}))},Ce=async(q,ee)=>{if(ee.isTracking){const _e=n.map(re=>{if(re.id===q)return{...re,...ee};if(re.isTracking){const Se=Math.floor((Date.now()-(re.trackingStartTime||0))/1e3),fe={...re,timeSpent:(re.timeSpent||0)+Se,isTracking:!1,trackingStartTime:null};return I&&Dt.updateTask(re.id,fe,I).catch(Me=>{console.error("Failed to update stopped task in Supabase:",Me)}),fe}return re});e(_e)}else{const re={...n.find(Se=>Se.id===q),...ee};e(n.map(Se=>Se.id===q?re:Se))}if(I){const re={...n.find(Se=>Se.id===q),...ee};try{await Dt.updateTask(q,re,I)}catch(Se){console.error("Failed to update task time in Supabase:",Se)}}},Ee=async()=>{if(I)try{await Dt.deleteCompletedTasks(I)}catch(q){console.error("Failed to delete completed tasks from Supabase:",q)}e(n.filter(q=>!q.completed))},ze=()=>{x&&localStorage.setItem(`hasCompletedOnboarding_${x.id}`,"true"),b(!1)},De=async()=>{if($){localStorage.removeItem("guestMode"),localStorage.removeItem("guestTasks"),L(!1),P(""),e([]);return}try{await Dt.signOut()}catch(q){console.error("Error signing out:",q)}},nn=()=>{localStorage.setItem("guestMode","true"),L(!0),P("Guest"),j(!1);const q=localStorage.getItem("guestTasks");q&&e(he(q))},Mt=(()=>{let q=n;switch(t){case"active":q=q.filter(ee=>!ee.completed);break;case"completed":q=q.filter(ee=>ee.completed);break}return i.trim()&&(q=q.filter(ee=>ee.text.toLowerCase().includes(i.toLowerCase())||ee.category&&ee.category.toLowerCase().includes(i.toLowerCase()))),q})(),yt=n.filter(q=>!q.completed).length;return N?g.jsx("div",{className:`todo-app ${l?"dark-mode":""}`,children:g.jsxs("div",{className:"auth-loading",children:[g.jsx("div",{className:"loading-spinner"}),g.jsx("p",{children:"Loading..."})]})}):!x&&!$?_==="signup"?g.jsx(qC,{onSignUpSuccess:()=>S("signin"),onSwitchToSignIn:()=>S("signin")}):_==="reset"?g.jsx(KC,{onBackToSignIn:()=>S("signin")}):g.jsx(VC,{onSignInSuccess:()=>{},onSwitchToSignUp:()=>S("signup"),onSwitchToReset:()=>S("reset"),onGuestMode:nn}):g.jsxs("div",{className:`todo-app ${l?"dark-mode":""}`,children:[B&&g.jsx(nj,{task:B,onClose:()=>F(null),onComplete:Q,onUpdateTime:Ce}),v&&g.jsx(v1,{onComplete:ze,addTask:W}),V&&g.jsx(rj,{quote:V,onClose:()=>ne(null)}),g.jsxs("div",{className:"app-layout",children:[g.jsx(tj,{activeView:d,onViewChange:h,userName:O,onSignOut:De,darkMode:l,onToggleDarkMode:()=>c(!l)}),g.jsxs("div",{className:"main-content",children:[d!=="pomodoro"&&d!=="matrix"&&d!=="timeblocks"&&g.jsx(_1,{userName:O}),d==="today"?g.jsxs(g.Fragment,{children:[g.jsx(id,{addTask:W}),g.jsx(Pu,{addTask:W}),g.jsx(wk,{tasks:n,toggleComplete:Q,deleteTask:ge,editTask:ue,onUpdateTime:Ce,onFocus:F})]}):d==="tasks"?g.jsxs(g.Fragment,{children:[g.jsx(id,{addTask:W}),g.jsx(Pu,{addTask:W}),g.jsx("div",{className:"search-filter-container",children:g.jsx("input",{type:"text",className:"search-input",placeholder:"Search tasks...",value:i,onChange:q=>a(q.target.value)})}),g.jsxs("div",{className:"filter-buttons",children:[g.jsx("button",{className:t==="all"?"filter-btn active":"filter-btn",onClick:()=>r("all"),children:"All"}),g.jsx("button",{className:t==="active"?"filter-btn active":"filter-btn",onClick:()=>r("active"),children:"Active"}),g.jsx("button",{className:t==="completed"?"filter-btn active":"filter-btn",onClick:()=>r("completed"),children:"Completed"})]}),g.jsx("div",{className:"todo-list",children:Mt.length===0?g.jsx("p",{className:"empty-state",children:i?"No tasks match your search.":t==="completed"?"No completed tasks yet!":t==="active"?"No active tasks! Add one above.":"No tasks yet! Add your first task above."}):Mt.map(q=>g.jsx(oo,{task:q,toggleComplete:Q,deleteTask:ge,editTask:ue,onUpdateTime:Ce,onFocus:F},q.id))}),n.length>0&&g.jsxs("div",{className:"todo-footer",children:[g.jsxs("span",{className:"task-count",children:[yt," ",yt===1?"task":"tasks"," remaining"]}),n.some(q=>q.completed)&&g.jsx("button",{className:"clear-completed",onClick:Ee,children:"Clear Completed"})]})]}):d==="kanban"?g.jsxs(g.Fragment,{children:[g.jsx(id,{addTask:W}),g.jsx(Pu,{addTask:W}),g.jsx(aj,{tasks:n,onStatusChange:Te,onToggleComplete:Q,onDeleteTask:ge})]}):d==="upcoming"?g.jsx(p1,{tasks:n,onToggleComplete:Q,onDeleteTask:ge,onAddTask:W,onUpdateTask:ue,onFocus:F,onReorderDay:ye}):d==="pomodoro"?g.jsx(YC,{}):d==="matrix"?g.jsx(GC,{tasks:n,toggleComplete:Q,deleteTask:ge,editTask:ue,onUpdateTime:Ce,onFocus:F}):d==="timeblocks"?g.jsx(ej,{tasks:n,onUpdateTask:Ce,onTaskClick:F}):g.jsx(vk,{tasks:n})]})]})]})}const f0=document.getElementById("root");if(!f0)throw new Error("Failed to find the root element");const hj=vb.createRoot(f0);hj.render(g.jsx(Ye.StrictMode,{children:g.jsx(dj,{})}));
